(function () {
    'use strict';
    function __$styleInject(css, returnValue) {
        if (typeof document === 'undefined') {
            return returnValue;
        }
        css = css || '';
        var head = document.head || document.getElementsByTagName('head')[0];
        var style = document.createElement('style');
        style.type = 'text/css';
        if (style.styleSheet) {
            style.styleSheet.cssText = css;
        }
        else {
            style.appendChild(document.createTextNode(css));
        }
        head.appendChild(style);
        return returnValue;
    }
    var PlatformLocation = (function () {
        function PlatformLocation() {
        }
        PlatformLocation.prototype.getBaseHrefFromDOM = function () { };
        PlatformLocation.prototype.onPopState = function (fn) { };
        PlatformLocation.prototype.onHashChange = function (fn) { };
        Object.defineProperty(PlatformLocation.prototype, "pathname", {
            get: function () { return null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PlatformLocation.prototype, "search", {
            get: function () { return null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PlatformLocation.prototype, "hash", {
            get: function () { return null; },
            enumerable: true,
            configurable: true
        });
        PlatformLocation.prototype.replaceState = function (state, title, url) { };
        PlatformLocation.prototype.pushState = function (state, title, url) { };
        PlatformLocation.prototype.forward = function () { };
        PlatformLocation.prototype.back = function () { };
        return PlatformLocation;
    }());
    var globalScope;
    if (typeof window === 'undefined') {
        if (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope) {
            globalScope = (self);
        }
        else {
            globalScope = (global);
        }
    }
    else {
        globalScope = (window);
    }
    function scheduleMicroTask(fn) {
        Zone.current.scheduleMicroTask('scheduleMicrotask', fn);
    }
    var _global = globalScope;
    function getTypeNameForDebugging(type) {
        return type['name'] || typeof type;
    }
    _global.assert = function assert(condition) {
    };
    function isPresent(obj) {
        return obj != null;
    }
    function isBlank(obj) {
        return obj == null;
    }
    function stringify(token) {
        if (typeof token === 'string') {
            return token;
        }
        if (token == null) {
            return '' + token;
        }
        if (token.overriddenName) {
            return "" + token.overriddenName;
        }
        if (token.name) {
            return "" + token.name;
        }
        var res = token.toString();
        var newLineIndex = res.indexOf('\n');
        return newLineIndex === -1 ? res : res.substring(0, newLineIndex);
    }
    function looseIdentical(a, b) {
        return a === b || typeof a === 'number' && typeof b === 'number' && isNaN(a) && isNaN(b);
    }
    function isJsObject(o) {
        return o !== null && (typeof o === 'function' || typeof o === 'object');
    }
    function print(obj) {
        console.log(obj);
    }
    function warn(obj) {
        console.warn(obj);
    }
    var _symbolIterator = null;
    function getSymbolIterator() {
        if (!_symbolIterator) {
            if (((globalScope)).Symbol && Symbol.iterator) {
                _symbolIterator = Symbol.iterator;
            }
            else {
                var keys = Object.getOwnPropertyNames(Map.prototype);
                for (var i = 0; i < keys.length; ++i) {
                    var key = keys[i];
                    if (key !== 'entries' && key !== 'size' &&
                        ((Map)).prototype[key] === Map.prototype['entries']) {
                        _symbolIterator = key;
                    }
                }
            }
        }
        return _symbolIterator;
    }
    function isPrimitive(obj) {
        return !isJsObject(obj);
    }
    var _nextClassId = 0;
    var Reflect$1 = _global.Reflect;
    function extractAnnotation(annotation) {
        if (typeof annotation === 'function' && annotation.hasOwnProperty('annotation')) {
            annotation = annotation.annotation;
        }
        return annotation;
    }
    function applyParams(fnOrArray, key) {
        if (fnOrArray === Object || fnOrArray === String || fnOrArray === Function ||
            fnOrArray === Number || fnOrArray === Array) {
            throw new Error("Can not use native " + stringify(fnOrArray) + " as constructor");
        }
        if (typeof fnOrArray === 'function') {
            return fnOrArray;
        }
        if (Array.isArray(fnOrArray)) {
            var annotations = fnOrArray;
            var annoLength = annotations.length - 1;
            var fn = fnOrArray[annoLength];
            if (typeof fn !== 'function') {
                throw new Error("Last position of Class method array must be Function in key " + key + " was '" + stringify(fn) + "'");
            }
            if (annoLength != fn.length) {
                throw new Error("Number of annotations (" + annoLength + ") does not match number of arguments (" + fn.length + ") in the function: " + stringify(fn));
            }
            var paramsAnnotations = [];
            for (var i = 0, ii = annotations.length - 1; i < ii; i++) {
                var paramAnnotations = [];
                paramsAnnotations.push(paramAnnotations);
                var annotation = annotations[i];
                if (Array.isArray(annotation)) {
                    for (var j = 0; j < annotation.length; j++) {
                        paramAnnotations.push(extractAnnotation(annotation[j]));
                    }
                }
                else if (typeof annotation === 'function') {
                    paramAnnotations.push(extractAnnotation(annotation));
                }
                else {
                    paramAnnotations.push(annotation);
                }
            }
            Reflect$1.defineMetadata('parameters', paramsAnnotations, fn);
            return fn;
        }
        throw new Error("Only Function or Array is supported in Class definition for key '" + key + "' is '" + stringify(fnOrArray) + "'");
    }
    function Class(clsDef) {
        var constructor = applyParams(clsDef.hasOwnProperty('constructor') ? clsDef.constructor : undefined, 'constructor');
        var proto = constructor.prototype;
        if (clsDef.hasOwnProperty('extends')) {
            if (typeof clsDef.extends === 'function') {
                ((constructor)).prototype = proto =
                    Object.create(((clsDef.extends)).prototype);
            }
            else {
                throw new Error("Class definition 'extends' property must be a constructor function was: " + stringify(clsDef.extends));
            }
        }
        for (var key in clsDef) {
            if (key !== 'extends' && key !== 'prototype' && clsDef.hasOwnProperty(key)) {
                proto[key] = applyParams(clsDef[key], key);
            }
        }
        if (this && this.annotations instanceof Array) {
            Reflect$1.defineMetadata('annotations', this.annotations, constructor);
        }
        var constructorName = constructor['name'];
        if (!constructorName || constructorName === 'constructor') {
            ((constructor))['overriddenName'] = "class" + _nextClassId++;
        }
        return (constructor);
    }
    function makeDecorator(name, props, parentClass, chainFn) {
        if (chainFn === void 0) {
            chainFn = null;
        }
        var metaCtor = makeMetadataCtor([props]);
        function DecoratorFactory(objOrType) {
            if (!(Reflect$1 && Reflect$1.getOwnMetadata)) {
                throw 'reflect-metadata shim is required when using class decorators';
            }
            if (this instanceof DecoratorFactory) {
                metaCtor.call(this, objOrType);
                return this;
            }
            var annotationInstance = new ((DecoratorFactory))(objOrType);
            var chainAnnotation = typeof this === 'function' && Array.isArray(this.annotations) ? this.annotations : [];
            chainAnnotation.push(annotationInstance);
            var TypeDecorator = (function TypeDecorator(cls) {
                var annotations = Reflect$1.getOwnMetadata('annotations', cls) || [];
                annotations.push(annotationInstance);
                Reflect$1.defineMetadata('annotations', annotations, cls);
                return cls;
            });
            TypeDecorator.annotations = chainAnnotation;
            TypeDecorator.Class = Class;
            if (chainFn)
                chainFn(TypeDecorator);
            return TypeDecorator;
        }
        if (parentClass) {
            DecoratorFactory.prototype = Object.create(parentClass.prototype);
        }
        DecoratorFactory.prototype.toString = function () { return ("@" + name); };
        ((DecoratorFactory)).annotationCls = DecoratorFactory;
        return DecoratorFactory;
    }
    function makeMetadataCtor(props) {
        return function ctor() {
            var _this = this;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            props.forEach(function (prop, i) {
                var argVal = args[i];
                if (Array.isArray(prop)) {
                    _this[prop[0]] = argVal === undefined ? prop[1] : argVal;
                }
                else {
                    for (var propName in prop) {
                        _this[propName] =
                            argVal && argVal.hasOwnProperty(propName) ? argVal[propName] : prop[propName];
                    }
                }
            });
        };
    }
    function makeParamDecorator(name, props, parentClass) {
        var metaCtor = makeMetadataCtor(props);
        function ParamDecoratorFactory() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (this instanceof ParamDecoratorFactory) {
                metaCtor.apply(this, args);
                return this;
            }
            var annotationInstance = new ((_a = ((ParamDecoratorFactory))).bind.apply(_a, [void 0].concat(args)))();
            ((ParamDecorator)).annotation = annotationInstance;
            return ParamDecorator;
            function ParamDecorator(cls, unusedKey, index) {
                var parameters = Reflect$1.getOwnMetadata('parameters', cls) || [];
                while (parameters.length <= index) {
                    parameters.push(null);
                }
                parameters[index] = parameters[index] || [];
                parameters[index].push(annotationInstance);
                Reflect$1.defineMetadata('parameters', parameters, cls);
                return cls;
            }
            var _a;
        }
        if (parentClass) {
            ParamDecoratorFactory.prototype = Object.create(parentClass.prototype);
        }
        ParamDecoratorFactory.prototype.toString = function () { return ("@" + name); };
        ((ParamDecoratorFactory)).annotationCls = ParamDecoratorFactory;
        return ParamDecoratorFactory;
    }
    function makePropDecorator(name, props, parentClass) {
        var metaCtor = makeMetadataCtor(props);
        function PropDecoratorFactory() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            if (this instanceof PropDecoratorFactory) {
                metaCtor.apply(this, args);
                return this;
            }
            var decoratorInstance = new ((_a = ((PropDecoratorFactory))).bind.apply(_a, [void 0].concat(args)))();
            return function PropDecorator(target, name) {
                var meta = Reflect$1.getOwnMetadata('propMetadata', target.constructor) || {};
                meta[name] = meta.hasOwnProperty(name) && meta[name] || [];
                meta[name].unshift(decoratorInstance);
                Reflect$1.defineMetadata('propMetadata', meta, target.constructor);
            };
            var _a;
        }
        if (parentClass) {
            PropDecoratorFactory.prototype = Object.create(parentClass.prototype);
        }
        PropDecoratorFactory.prototype.toString = function () { return ("@" + name); };
        ((PropDecoratorFactory)).annotationCls = PropDecoratorFactory;
        return PropDecoratorFactory;
    }
    var Inject = makeParamDecorator('Inject', [['token', undefined]]);
    var Optional = makeParamDecorator('Optional', []);
    var Injectable = (makeDecorator('Injectable', []));
    var Self = makeParamDecorator('Self', []);
    var SkipSelf = makeParamDecorator('SkipSelf', []);
    var Host = makeParamDecorator('Host', []);
    var OpaqueToken = (function () {
        function OpaqueToken(_desc) {
            this._desc = _desc;
        }
        OpaqueToken.prototype.toString = function () { return "Token " + this._desc; };
        OpaqueToken.decorators = [
            { type: Injectable },
        ];
        OpaqueToken.ctorParameters = function () {
            return [
                null,
            ];
        };
        return OpaqueToken;
    }());
    var ANALYZE_FOR_ENTRY_COMPONENTS = new OpaqueToken('AnalyzeForEntryComponents');
    var Attribute = makeParamDecorator('Attribute', [['attributeName', undefined]]);
    var Query = (function () {
        function Query() {
        }
        return Query;
    }());
    var ContentChildren = (makePropDecorator('ContentChildren', [
        ['selector', undefined], {
            first: false,
            isViewQuery: false,
            descendants: false,
            read: undefined,
        }
    ], Query));
    var ContentChild = makePropDecorator('ContentChild', [
        ['selector', undefined], {
            first: true,
            isViewQuery: false,
            descendants: true,
            read: undefined,
        }
    ], Query);
    var ViewChildren = makePropDecorator('ViewChildren', [
        ['selector', undefined], {
            first: false,
            isViewQuery: true,
            descendants: true,
            read: undefined,
        }
    ], Query);
    var ViewChild = makePropDecorator('ViewChild', [
        ['selector', undefined], {
            first: true,
            isViewQuery: true,
            descendants: true,
            read: undefined,
        }
    ], Query);
    var ChangeDetectionStrategy = {};
    ChangeDetectionStrategy.OnPush = 0;
    ChangeDetectionStrategy.Default = 1;
    ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush] = "OnPush";
    ChangeDetectionStrategy[ChangeDetectionStrategy.Default] = "Default";
    var ChangeDetectorStatus = {};
    ChangeDetectorStatus.CheckOnce = 0;
    ChangeDetectorStatus.Checked = 1;
    ChangeDetectorStatus.CheckAlways = 2;
    ChangeDetectorStatus.Detached = 3;
    ChangeDetectorStatus.Errored = 4;
    ChangeDetectorStatus.Destroyed = 5;
    ChangeDetectorStatus[ChangeDetectorStatus.CheckOnce] = "CheckOnce";
    ChangeDetectorStatus[ChangeDetectorStatus.Checked] = "Checked";
    ChangeDetectorStatus[ChangeDetectorStatus.CheckAlways] = "CheckAlways";
    ChangeDetectorStatus[ChangeDetectorStatus.Detached] = "Detached";
    ChangeDetectorStatus[ChangeDetectorStatus.Errored] = "Errored";
    ChangeDetectorStatus[ChangeDetectorStatus.Destroyed] = "Destroyed";
    function isDefaultChangeDetectionStrategy(changeDetectionStrategy) {
        return isBlank(changeDetectionStrategy) ||
            changeDetectionStrategy === ChangeDetectionStrategy.Default;
    }
    var Directive = (makeDecorator('Directive', {
        selector: undefined,
        inputs: undefined,
        outputs: undefined,
        host: undefined,
        providers: undefined,
        exportAs: undefined,
        queries: undefined
    }));
    var Component = (makeDecorator('Component', {
        selector: undefined,
        inputs: undefined,
        outputs: undefined,
        host: undefined,
        exportAs: undefined,
        moduleId: undefined,
        providers: undefined,
        viewProviders: undefined,
        changeDetection: ChangeDetectionStrategy.Default,
        queries: undefined,
        templateUrl: undefined,
        template: undefined,
        styleUrls: undefined,
        styles: undefined,
        animations: undefined,
        encapsulation: undefined,
        interpolation: undefined,
        entryComponents: undefined
    }, Directive));
    var Pipe = (makeDecorator('Pipe', {
        name: undefined,
        pure: true,
    }));
    var Input = makePropDecorator('Input', [['bindingPropertyName', undefined]]);
    var Output = makePropDecorator('Output', [['bindingPropertyName', undefined]]);
    var HostBinding = makePropDecorator('HostBinding', [['hostPropertyName', undefined]]);
    var HostListener = makePropDecorator('HostListener', [['eventName', undefined], ['args', []]]);
    var LifecycleHooks = {};
    LifecycleHooks.OnInit = 0;
    LifecycleHooks.OnDestroy = 1;
    LifecycleHooks.DoCheck = 2;
    LifecycleHooks.OnChanges = 3;
    LifecycleHooks.AfterContentInit = 4;
    LifecycleHooks.AfterContentChecked = 5;
    LifecycleHooks.AfterViewInit = 6;
    LifecycleHooks.AfterViewChecked = 7;
    LifecycleHooks[LifecycleHooks.OnInit] = "OnInit";
    LifecycleHooks[LifecycleHooks.OnDestroy] = "OnDestroy";
    LifecycleHooks[LifecycleHooks.DoCheck] = "DoCheck";
    LifecycleHooks[LifecycleHooks.OnChanges] = "OnChanges";
    LifecycleHooks[LifecycleHooks.AfterContentInit] = "AfterContentInit";
    LifecycleHooks[LifecycleHooks.AfterContentChecked] = "AfterContentChecked";
    LifecycleHooks[LifecycleHooks.AfterViewInit] = "AfterViewInit";
    LifecycleHooks[LifecycleHooks.AfterViewChecked] = "AfterViewChecked";
    var LIFECYCLE_HOOKS_VALUES = [
        LifecycleHooks.OnInit, LifecycleHooks.OnDestroy, LifecycleHooks.DoCheck, LifecycleHooks.OnChanges,
        LifecycleHooks.AfterContentInit, LifecycleHooks.AfterContentChecked, LifecycleHooks.AfterViewInit,
        LifecycleHooks.AfterViewChecked
    ];
    var NgModule = (makeDecorator('NgModule', {
        providers: undefined,
        declarations: undefined,
        imports: undefined,
        exports: undefined,
        entryComponents: undefined,
        bootstrap: undefined,
        schemas: undefined,
        id: undefined,
    }));
    var ViewEncapsulation = {};
    ViewEncapsulation.Emulated = 0;
    ViewEncapsulation.Native = 1;
    ViewEncapsulation.None = 2;
    ViewEncapsulation[ViewEncapsulation.Emulated] = "Emulated";
    ViewEncapsulation[ViewEncapsulation.Native] = "Native";
    ViewEncapsulation[ViewEncapsulation.None] = "None";
    var ViewMetadata = (function () {
        function ViewMetadata(_a) {
            var _b = _a === void 0 ? {} : _a, templateUrl = _b.templateUrl, template = _b.template, encapsulation = _b.encapsulation, styles = _b.styles, styleUrls = _b.styleUrls, animations = _b.animations, interpolation = _b.interpolation;
            this.templateUrl = templateUrl;
            this.template = template;
            this.styleUrls = styleUrls;
            this.styles = styles;
            this.encapsulation = encapsulation;
            this.animations = animations;
            this.interpolation = interpolation;
        }
        return ViewMetadata;
    }());
    var Version = (function () {
        function Version(full) {
            this.full = full;
        }
        Object.defineProperty(Version.prototype, "major", {
            get: function () { return this.full.split('.')[0]; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Version.prototype, "minor", {
            get: function () { return this.full.split('.')[1]; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Version.prototype, "patch", {
            get: function () { return this.full.split('.').slice(2).join('.'); },
            enumerable: true,
            configurable: true
        });
        return Version;
    }());
    var VERSION = new Version('2.4.3');
    function forwardRef(forwardRefFn) {
        ((forwardRefFn)).__forward_ref__ = forwardRef;
        ((forwardRefFn)).toString = function () { return stringify(this()); };
        return (((forwardRefFn)));
    }
    function resolveForwardRef(type) {
        if (typeof type === 'function' && type.hasOwnProperty('__forward_ref__') &&
            type.__forward_ref__ === forwardRef) {
            return ((type))();
        }
        else {
            return type;
        }
    }
    var __extends = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    function unimplemented() {
        throw new Error('unimplemented');
    }
    var BaseError = (function (_super) {
        __extends(BaseError, _super);
        function BaseError(message) {
            _super.call(this, message);
            var nativeError = new Error(message);
            this._nativeError = nativeError;
        }
        Object.defineProperty(BaseError.prototype, "message", {
            get: function () { return this._nativeError.message; },
            set: function (message) { this._nativeError.message = message; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BaseError.prototype, "name", {
            get: function () { return this._nativeError.name; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BaseError.prototype, "stack", {
            get: function () { return ((this._nativeError)).stack; },
            set: function (value) { ((this._nativeError)).stack = value; },
            enumerable: true,
            configurable: true
        });
        BaseError.prototype.toString = function () { return this._nativeError.toString(); };
        return BaseError;
    }(Error));
    var WrappedError = (function (_super) {
        __extends(WrappedError, _super);
        function WrappedError(message, error) {
            _super.call(this, message + " caused by: " + (error instanceof Error ? error.message : error));
            this.originalError = error;
        }
        Object.defineProperty(WrappedError.prototype, "stack", {
            get: function () {
                return (((this.originalError instanceof Error ? this.originalError : this._nativeError)))
                    .stack;
            },
            enumerable: true,
            configurable: true
        });
        return WrappedError;
    }(BaseError));
    var _THROW_IF_NOT_FOUND = new Object();
    var THROW_IF_NOT_FOUND = _THROW_IF_NOT_FOUND;
    var _NullInjector = (function () {
        function _NullInjector() {
        }
        _NullInjector.prototype.get = function (token, notFoundValue) {
            if (notFoundValue === void 0) {
                notFoundValue = _THROW_IF_NOT_FOUND;
            }
            if (notFoundValue === _THROW_IF_NOT_FOUND) {
                throw new Error("No provider for " + stringify(token) + "!");
            }
            return notFoundValue;
        };
        return _NullInjector;
    }());
    var Injector = (function () {
        function Injector() {
        }
        Injector.prototype.get = function (token, notFoundValue) { return unimplemented(); };
        Injector.THROW_IF_NOT_FOUND = _THROW_IF_NOT_FOUND;
        Injector.NULL = new _NullInjector();
        return Injector;
    }());
    var __extends$1 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    function findFirstClosedCycle(keys) {
        var res = [];
        for (var i = 0; i < keys.length; ++i) {
            if (res.indexOf(keys[i]) > -1) {
                res.push(keys[i]);
                return res;
            }
            res.push(keys[i]);
        }
        return res;
    }
    function constructResolvingPath(keys) {
        if (keys.length > 1) {
            var reversed = findFirstClosedCycle(keys.slice().reverse());
            var tokenStrs = reversed.map(function (k) { return stringify(k.token); });
            return ' (' + tokenStrs.join(' -> ') + ')';
        }
        return '';
    }
    var AbstractProviderError = (function (_super) {
        __extends$1(AbstractProviderError, _super);
        function AbstractProviderError(injector, key, constructResolvingMessage) {
            _super.call(this, 'DI Error');
            this.keys = [key];
            this.injectors = [injector];
            this.constructResolvingMessage = constructResolvingMessage;
            this.message = this.constructResolvingMessage(this.keys);
        }
        AbstractProviderError.prototype.addKey = function (injector, key) {
            this.injectors.push(injector);
            this.keys.push(key);
            this.message = this.constructResolvingMessage(this.keys);
        };
        return AbstractProviderError;
    }(BaseError));
    var NoProviderError = (function (_super) {
        __extends$1(NoProviderError, _super);
        function NoProviderError(injector, key) {
            _super.call(this, injector, key, function (keys) {
                var first = stringify(keys[0].token);
                return "No provider for " + first + "!" + constructResolvingPath(keys);
            });
        }
        return NoProviderError;
    }(AbstractProviderError));
    var CyclicDependencyError = (function (_super) {
        __extends$1(CyclicDependencyError, _super);
        function CyclicDependencyError(injector, key) {
            _super.call(this, injector, key, function (keys) {
                return "Cannot instantiate cyclic dependency!" + constructResolvingPath(keys);
            });
        }
        return CyclicDependencyError;
    }(AbstractProviderError));
    var InstantiationError = (function (_super) {
        __extends$1(InstantiationError, _super);
        function InstantiationError(injector, originalException, originalStack, key) {
            _super.call(this, 'DI Error', originalException);
            this.keys = [key];
            this.injectors = [injector];
        }
        InstantiationError.prototype.addKey = function (injector, key) {
            this.injectors.push(injector);
            this.keys.push(key);
        };
        Object.defineProperty(InstantiationError.prototype, "message", {
            get: function () {
                var first = stringify(this.keys[0].token);
                return this.originalError.message + ": Error during instantiation of " + first + "!" + constructResolvingPath(this.keys) + ".";
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(InstantiationError.prototype, "causeKey", {
            get: function () { return this.keys[0]; },
            enumerable: true,
            configurable: true
        });
        return InstantiationError;
    }(WrappedError));
    var InvalidProviderError = (function (_super) {
        __extends$1(InvalidProviderError, _super);
        function InvalidProviderError(provider) {
            _super.call(this, "Invalid provider - only instances of Provider and Type are allowed, got: " + provider);
        }
        return InvalidProviderError;
    }(BaseError));
    var NoAnnotationError = (function (_super) {
        __extends$1(NoAnnotationError, _super);
        function NoAnnotationError(typeOrFunc, params) {
            _super.call(this, NoAnnotationError._genMessage(typeOrFunc, params));
        }
        NoAnnotationError._genMessage = function (typeOrFunc, params) {
            var signature = [];
            for (var i = 0, ii = params.length; i < ii; i++) {
                var parameter = params[i];
                if (!parameter || parameter.length == 0) {
                    signature.push('?');
                }
                else {
                    signature.push(parameter.map(stringify).join(' '));
                }
            }
            return 'Cannot resolve all parameters for \'' + stringify(typeOrFunc) + '\'(' +
                signature.join(', ') + '). ' +
                'Make sure that all the parameters are decorated with Inject or have valid type annotations and that \'' +
                stringify(typeOrFunc) + '\' is decorated with Injectable.';
        };
        return NoAnnotationError;
    }(BaseError));
    var OutOfBoundsError = (function (_super) {
        __extends$1(OutOfBoundsError, _super);
        function OutOfBoundsError(index) {
            _super.call(this, "Index " + index + " is out-of-bounds.");
        }
        return OutOfBoundsError;
    }(BaseError));
    var MixingMultiProvidersWithRegularProvidersError = (function (_super) {
        __extends$1(MixingMultiProvidersWithRegularProvidersError, _super);
        function MixingMultiProvidersWithRegularProvidersError(provider1, provider2) {
            _super.call(this, 'Cannot mix multi providers and regular providers, got: ' + provider1.toString() + ' ' +
                provider2.toString());
        }
        return MixingMultiProvidersWithRegularProvidersError;
    }(BaseError));
    var ReflectiveKey = (function () {
        function ReflectiveKey(token, id) {
            this.token = token;
            this.id = id;
            if (!token) {
                throw new Error('Token must be defined!');
            }
        }
        Object.defineProperty(ReflectiveKey.prototype, "displayName", {
            get: function () { return stringify(this.token); },
            enumerable: true,
            configurable: true
        });
        ReflectiveKey.get = function (token) {
            return _globalKeyRegistry.get(resolveForwardRef(token));
        };
        Object.defineProperty(ReflectiveKey, "numberOfKeys", {
            get: function () { return _globalKeyRegistry.numberOfKeys; },
            enumerable: true,
            configurable: true
        });
        return ReflectiveKey;
    }());
    var KeyRegistry = (function () {
        function KeyRegistry() {
            this._allKeys = new Map();
        }
        KeyRegistry.prototype.get = function (token) {
            if (token instanceof ReflectiveKey)
                return token;
            if (this._allKeys.has(token)) {
                return this._allKeys.get(token);
            }
            var newKey = new ReflectiveKey(token, ReflectiveKey.numberOfKeys);
            this._allKeys.set(token, newKey);
            return newKey;
        };
        Object.defineProperty(KeyRegistry.prototype, "numberOfKeys", {
            get: function () { return this._allKeys.size; },
            enumerable: true,
            configurable: true
        });
        return KeyRegistry;
    }());
    var _globalKeyRegistry = new KeyRegistry();
    var Type = Function;
    function isType(v) {
        return typeof v === 'function';
    }
    var DELEGATE_CTOR = /^function\s+\S+\(\)\s*{\s*("use strict";)?\s*(return\s+)?\S+\.apply\(this,\s*arguments\)/;
    var ReflectionCapabilities = (function () {
        function ReflectionCapabilities(reflect) {
            this._reflect = reflect || _global.Reflect;
        }
        ReflectionCapabilities.prototype.isReflectionEnabled = function () { return true; };
        ReflectionCapabilities.prototype.factory = function (t) {
            return function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                return new (t.bind.apply(t, [void 0].concat(args)))();
            };
        };
        ReflectionCapabilities.prototype._zipTypesAndAnnotations = function (paramTypes, paramAnnotations) {
            var result;
            if (typeof paramTypes === 'undefined') {
                result = new Array(paramAnnotations.length);
            }
            else {
                result = new Array(paramTypes.length);
            }
            for (var i = 0; i < result.length; i++) {
                if (typeof paramTypes === 'undefined') {
                    result[i] = [];
                }
                else if (paramTypes[i] != Object) {
                    result[i] = [paramTypes[i]];
                }
                else {
                    result[i] = [];
                }
                if (paramAnnotations && isPresent(paramAnnotations[i])) {
                    result[i] = result[i].concat(paramAnnotations[i]);
                }
            }
            return result;
        };
        ReflectionCapabilities.prototype._ownParameters = function (type, parentCtor) {
            if (DELEGATE_CTOR.exec(type.toString())) {
                return null;
            }
            if (((type)).parameters && ((type)).parameters !== parentCtor.parameters) {
                return ((type)).parameters;
            }
            var tsickleCtorParams = ((type)).ctorParameters;
            if (tsickleCtorParams && tsickleCtorParams !== parentCtor.ctorParameters) {
                var ctorParameters = typeof tsickleCtorParams === 'function' ? tsickleCtorParams() : tsickleCtorParams;
                var paramTypes = ctorParameters.map(function (ctorParam) { return ctorParam && ctorParam.type; });
                var paramAnnotations = ctorParameters.map(function (ctorParam) {
                    return ctorParam && convertTsickleDecoratorIntoMetadata(ctorParam.decorators);
                });
                return this._zipTypesAndAnnotations(paramTypes, paramAnnotations);
            }
            if (isPresent(this._reflect) && isPresent(this._reflect.getOwnMetadata)) {
                var paramAnnotations = this._reflect.getOwnMetadata('parameters', type);
                var paramTypes = this._reflect.getOwnMetadata('design:paramtypes', type);
                if (paramTypes || paramAnnotations) {
                    return this._zipTypesAndAnnotations(paramTypes, paramAnnotations);
                }
            }
            return new Array(((type.length))).fill(undefined);
        };
        ReflectionCapabilities.prototype.parameters = function (type) {
            if (!isType(type)) {
                return [];
            }
            var parentCtor = getParentCtor(type);
            var parameters = this._ownParameters(type, parentCtor);
            if (!parameters && parentCtor !== Object) {
                parameters = this.parameters(parentCtor);
            }
            return parameters || [];
        };
        ReflectionCapabilities.prototype._ownAnnotations = function (typeOrFunc, parentCtor) {
            if (((typeOrFunc)).annotations && ((typeOrFunc)).annotations !== parentCtor.annotations) {
                var annotations = ((typeOrFunc)).annotations;
                if (typeof annotations === 'function' && annotations.annotations) {
                    annotations = annotations.annotations;
                }
                return annotations;
            }
            if (((typeOrFunc)).decorators && ((typeOrFunc)).decorators !== parentCtor.decorators) {
                return convertTsickleDecoratorIntoMetadata(((typeOrFunc)).decorators);
            }
            if (this._reflect && this._reflect.getOwnMetadata) {
                return this._reflect.getOwnMetadata('annotations', typeOrFunc);
            }
        };
        ReflectionCapabilities.prototype.annotations = function (typeOrFunc) {
            if (!isType(typeOrFunc)) {
                return [];
            }
            var parentCtor = getParentCtor(typeOrFunc);
            var ownAnnotations = this._ownAnnotations(typeOrFunc, parentCtor) || [];
            var parentAnnotations = parentCtor !== Object ? this.annotations(parentCtor) : [];
            return parentAnnotations.concat(ownAnnotations);
        };
        ReflectionCapabilities.prototype._ownPropMetadata = function (typeOrFunc, parentCtor) {
            if (((typeOrFunc)).propMetadata &&
                ((typeOrFunc)).propMetadata !== parentCtor.propMetadata) {
                var propMetadata = ((typeOrFunc)).propMetadata;
                if (typeof propMetadata === 'function' && propMetadata.propMetadata) {
                    propMetadata = propMetadata.propMetadata;
                }
                return propMetadata;
            }
            if (((typeOrFunc)).propDecorators &&
                ((typeOrFunc)).propDecorators !== parentCtor.propDecorators) {
                var propDecorators_1 = ((typeOrFunc)).propDecorators;
                var propMetadata_1 = ({});
                Object.keys(propDecorators_1).forEach(function (prop) {
                    propMetadata_1[prop] = convertTsickleDecoratorIntoMetadata(propDecorators_1[prop]);
                });
                return propMetadata_1;
            }
            if (this._reflect && this._reflect.getOwnMetadata) {
                return this._reflect.getOwnMetadata('propMetadata', typeOrFunc);
            }
        };
        ReflectionCapabilities.prototype.propMetadata = function (typeOrFunc) {
            if (!isType(typeOrFunc)) {
                return {};
            }
            var parentCtor = getParentCtor(typeOrFunc);
            var propMetadata = {};
            if (parentCtor !== Object) {
                var parentPropMetadata_1 = this.propMetadata(parentCtor);
                Object.keys(parentPropMetadata_1).forEach(function (propName) {
                    propMetadata[propName] = parentPropMetadata_1[propName];
                });
            }
            var ownPropMetadata = this._ownPropMetadata(typeOrFunc, parentCtor);
            if (ownPropMetadata) {
                Object.keys(ownPropMetadata).forEach(function (propName) {
                    var decorators = [];
                    if (propMetadata.hasOwnProperty(propName)) {
                        decorators.push.apply(decorators, propMetadata[propName]);
                    }
                    decorators.push.apply(decorators, ownPropMetadata[propName]);
                    propMetadata[propName] = decorators;
                });
            }
            return propMetadata;
        };
        ReflectionCapabilities.prototype.hasLifecycleHook = function (type, lcProperty) {
            return type instanceof Type && lcProperty in type.prototype;
        };
        ReflectionCapabilities.prototype.getter = function (name) { return ((new Function('o', 'return o.' + name + ';'))); };
        ReflectionCapabilities.prototype.setter = function (name) {
            return ((new Function('o', 'v', 'return o.' + name + ' = v;')));
        };
        ReflectionCapabilities.prototype.method = function (name) {
            var functionBody = "if (!o." + name + ") throw new Error('\"" + name + "\" is undefined');\n        return o." + name + ".apply(o, args);";
            return ((new Function('o', 'args', functionBody)));
        };
        ReflectionCapabilities.prototype.importUri = function (type) {
            if (typeof type === 'object' && type['filePath']) {
                return type['filePath'];
            }
            return "./" + stringify(type);
        };
        ReflectionCapabilities.prototype.resolveIdentifier = function (name, moduleUrl, runtime) { return runtime; };
        ReflectionCapabilities.prototype.resolveEnum = function (enumIdentifier, name) { return enumIdentifier[name]; };
        return ReflectionCapabilities;
    }());
    function convertTsickleDecoratorIntoMetadata(decoratorInvocations) {
        if (!decoratorInvocations) {
            return [];
        }
        return decoratorInvocations.map(function (decoratorInvocation) {
            var decoratorType = decoratorInvocation.type;
            var annotationCls = decoratorType.annotationCls;
            var annotationArgs = decoratorInvocation.args ? decoratorInvocation.args : [];
            return new (annotationCls.bind.apply(annotationCls, [void 0].concat(annotationArgs)))();
        });
    }
    function getParentCtor(ctor) {
        var parentProto = Object.getPrototypeOf(ctor.prototype);
        var parentCtor = parentProto ? parentProto.constructor : null;
        return parentCtor || Object;
    }
    var ReflectorReader = (function () {
        function ReflectorReader() {
        }
        ReflectorReader.prototype.parameters = function (typeOrFunc) { };
        ReflectorReader.prototype.annotations = function (typeOrFunc) { };
        ReflectorReader.prototype.propMetadata = function (typeOrFunc) { };
        ReflectorReader.prototype.importUri = function (typeOrFunc) { };
        ReflectorReader.prototype.resolveIdentifier = function (name, moduleUrl, runtime) { };
        ReflectorReader.prototype.resolveEnum = function (identifier, name) { };
        return ReflectorReader;
    }());
    var __extends$2 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Reflector = (function (_super) {
        __extends$2(Reflector, _super);
        function Reflector(reflectionCapabilities) {
            _super.call(this);
            this.reflectionCapabilities = reflectionCapabilities;
        }
        Reflector.prototype.updateCapabilities = function (caps) { this.reflectionCapabilities = caps; };
        Reflector.prototype.factory = function (type) { return this.reflectionCapabilities.factory(type); };
        Reflector.prototype.parameters = function (typeOrFunc) {
            return this.reflectionCapabilities.parameters(typeOrFunc);
        };
        Reflector.prototype.annotations = function (typeOrFunc) {
            return this.reflectionCapabilities.annotations(typeOrFunc);
        };
        Reflector.prototype.propMetadata = function (typeOrFunc) {
            return this.reflectionCapabilities.propMetadata(typeOrFunc);
        };
        Reflector.prototype.hasLifecycleHook = function (type, lcProperty) {
            return this.reflectionCapabilities.hasLifecycleHook(type, lcProperty);
        };
        Reflector.prototype.getter = function (name) { return this.reflectionCapabilities.getter(name); };
        Reflector.prototype.setter = function (name) { return this.reflectionCapabilities.setter(name); };
        Reflector.prototype.method = function (name) { return this.reflectionCapabilities.method(name); };
        Reflector.prototype.importUri = function (type) { return this.reflectionCapabilities.importUri(type); };
        Reflector.prototype.resolveIdentifier = function (name, moduleUrl, runtime) {
            return this.reflectionCapabilities.resolveIdentifier(name, moduleUrl, runtime);
        };
        Reflector.prototype.resolveEnum = function (identifier, name) {
            return this.reflectionCapabilities.resolveEnum(identifier, name);
        };
        return Reflector;
    }(ReflectorReader));
    var reflector = new Reflector(new ReflectionCapabilities());
    var ReflectiveDependency = (function () {
        function ReflectiveDependency(key, optional, lowerBoundVisibility, upperBoundVisibility, properties) {
            this.key = key;
            this.optional = optional;
            this.lowerBoundVisibility = lowerBoundVisibility;
            this.upperBoundVisibility = upperBoundVisibility;
            this.properties = properties;
        }
        ReflectiveDependency.fromKey = function (key) {
            return new ReflectiveDependency(key, false, null, null, []);
        };
        return ReflectiveDependency;
    }());
    var _EMPTY_LIST = [];
    var ResolvedReflectiveProvider_ = (function () {
        function ResolvedReflectiveProvider_(key, resolvedFactories, multiProvider) {
            this.key = key;
            this.resolvedFactories = resolvedFactories;
            this.multiProvider = multiProvider;
        }
        Object.defineProperty(ResolvedReflectiveProvider_.prototype, "resolvedFactory", {
            get: function () { return this.resolvedFactories[0]; },
            enumerable: true,
            configurable: true
        });
        return ResolvedReflectiveProvider_;
    }());
    var ResolvedReflectiveFactory = (function () {
        function ResolvedReflectiveFactory(factory, dependencies) {
            this.factory = factory;
            this.dependencies = dependencies;
        }
        return ResolvedReflectiveFactory;
    }());
    function resolveReflectiveFactory(provider) {
        var factoryFn;
        var resolvedDeps;
        if (provider.useClass) {
            var useClass = resolveForwardRef(provider.useClass);
            factoryFn = reflector.factory(useClass);
            resolvedDeps = _dependenciesFor(useClass);
        }
        else if (provider.useExisting) {
            factoryFn = function (aliasInstance) { return aliasInstance; };
            resolvedDeps = [ReflectiveDependency.fromKey(ReflectiveKey.get(provider.useExisting))];
        }
        else if (provider.useFactory) {
            factoryFn = provider.useFactory;
            resolvedDeps = constructDependencies(provider.useFactory, provider.deps);
        }
        else {
            factoryFn = function () { return provider.useValue; };
            resolvedDeps = _EMPTY_LIST;
        }
        return new ResolvedReflectiveFactory(factoryFn, resolvedDeps);
    }
    function resolveReflectiveProvider(provider) {
        return new ResolvedReflectiveProvider_(ReflectiveKey.get(provider.provide), [resolveReflectiveFactory(provider)], provider.multi);
    }
    function resolveReflectiveProviders(providers) {
        var normalized = _normalizeProviders(providers, []);
        var resolved = normalized.map(resolveReflectiveProvider);
        var resolvedProviderMap = mergeResolvedReflectiveProviders(resolved, new Map());
        return Array.from(resolvedProviderMap.values());
    }
    function mergeResolvedReflectiveProviders(providers, normalizedProvidersMap) {
        for (var i = 0; i < providers.length; i++) {
            var provider = providers[i];
            var existing = normalizedProvidersMap.get(provider.key.id);
            if (existing) {
                if (provider.multiProvider !== existing.multiProvider) {
                    throw new MixingMultiProvidersWithRegularProvidersError(existing, provider);
                }
                if (provider.multiProvider) {
                    for (var j = 0; j < provider.resolvedFactories.length; j++) {
                        existing.resolvedFactories.push(provider.resolvedFactories[j]);
                    }
                }
                else {
                    normalizedProvidersMap.set(provider.key.id, provider);
                }
            }
            else {
                var resolvedProvider = void 0;
                if (provider.multiProvider) {
                    resolvedProvider = new ResolvedReflectiveProvider_(provider.key, provider.resolvedFactories.slice(), provider.multiProvider);
                }
                else {
                    resolvedProvider = provider;
                }
                normalizedProvidersMap.set(provider.key.id, resolvedProvider);
            }
        }
        return normalizedProvidersMap;
    }
    function _normalizeProviders(providers, res) {
        providers.forEach(function (b) {
            if (b instanceof Type) {
                res.push({ provide: b, useClass: b });
            }
            else if (b && typeof b == 'object' && ((b)).provide !== undefined) {
                res.push((b));
            }
            else if (b instanceof Array) {
                _normalizeProviders(b, res);
            }
            else {
                throw new InvalidProviderError(b);
            }
        });
        return res;
    }
    function constructDependencies(typeOrFunc, dependencies) {
        if (!dependencies) {
            return _dependenciesFor(typeOrFunc);
        }
        else {
            var params_1 = dependencies.map(function (t) { return [t]; });
            return dependencies.map(function (t) { return _extractToken(typeOrFunc, t, params_1); });
        }
    }
    function _dependenciesFor(typeOrFunc) {
        var params = reflector.parameters(typeOrFunc);
        if (!params)
            return [];
        if (params.some(function (p) { return p == null; })) {
            throw new NoAnnotationError(typeOrFunc, params);
        }
        return params.map(function (p) { return _extractToken(typeOrFunc, p, params); });
    }
    function _extractToken(typeOrFunc, metadata, params) {
        var depProps = [];
        var token = null;
        var optional = false;
        if (!Array.isArray(metadata)) {
            if (metadata instanceof Inject) {
                return _createDependency(metadata.token, optional, null, null, depProps);
            }
            else {
                return _createDependency(metadata, optional, null, null, depProps);
            }
        }
        var lowerBoundVisibility = null;
        var upperBoundVisibility = null;
        for (var i = 0; i < metadata.length; ++i) {
            var paramMetadata = metadata[i];
            if (paramMetadata instanceof Type) {
                token = paramMetadata;
            }
            else if (paramMetadata instanceof Inject) {
                token = paramMetadata.token;
            }
            else if (paramMetadata instanceof Optional) {
                optional = true;
            }
            else if (paramMetadata instanceof Self) {
                upperBoundVisibility = paramMetadata;
            }
            else if (paramMetadata instanceof Host) {
                upperBoundVisibility = paramMetadata;
            }
            else if (paramMetadata instanceof SkipSelf) {
                lowerBoundVisibility = paramMetadata;
            }
        }
        token = resolveForwardRef(token);
        if (token != null) {
            return _createDependency(token, optional, lowerBoundVisibility, upperBoundVisibility, depProps);
        }
        else {
            throw new NoAnnotationError(typeOrFunc, params);
        }
    }
    function _createDependency(token, optional, lowerBoundVisibility, upperBoundVisibility, depProps) {
        return new ReflectiveDependency(ReflectiveKey.get(token), optional, lowerBoundVisibility, upperBoundVisibility, depProps);
    }
    var _MAX_CONSTRUCTION_COUNTER = 10;
    var UNDEFINED = new Object();
    var ReflectiveProtoInjectorInlineStrategy = (function () {
        function ReflectiveProtoInjectorInlineStrategy(protoEI, providers) {
            this.provider0 = null;
            this.provider1 = null;
            this.provider2 = null;
            this.provider3 = null;
            this.provider4 = null;
            this.provider5 = null;
            this.provider6 = null;
            this.provider7 = null;
            this.provider8 = null;
            this.provider9 = null;
            this.keyId0 = null;
            this.keyId1 = null;
            this.keyId2 = null;
            this.keyId3 = null;
            this.keyId4 = null;
            this.keyId5 = null;
            this.keyId6 = null;
            this.keyId7 = null;
            this.keyId8 = null;
            this.keyId9 = null;
            var length = providers.length;
            if (length > 0) {
                this.provider0 = providers[0];
                this.keyId0 = providers[0].key.id;
            }
            if (length > 1) {
                this.provider1 = providers[1];
                this.keyId1 = providers[1].key.id;
            }
            if (length > 2) {
                this.provider2 = providers[2];
                this.keyId2 = providers[2].key.id;
            }
            if (length > 3) {
                this.provider3 = providers[3];
                this.keyId3 = providers[3].key.id;
            }
            if (length > 4) {
                this.provider4 = providers[4];
                this.keyId4 = providers[4].key.id;
            }
            if (length > 5) {
                this.provider5 = providers[5];
                this.keyId5 = providers[5].key.id;
            }
            if (length > 6) {
                this.provider6 = providers[6];
                this.keyId6 = providers[6].key.id;
            }
            if (length > 7) {
                this.provider7 = providers[7];
                this.keyId7 = providers[7].key.id;
            }
            if (length > 8) {
                this.provider8 = providers[8];
                this.keyId8 = providers[8].key.id;
            }
            if (length > 9) {
                this.provider9 = providers[9];
                this.keyId9 = providers[9].key.id;
            }
        }
        ReflectiveProtoInjectorInlineStrategy.prototype.getProviderAtIndex = function (index) {
            if (index == 0)
                return this.provider0;
            if (index == 1)
                return this.provider1;
            if (index == 2)
                return this.provider2;
            if (index == 3)
                return this.provider3;
            if (index == 4)
                return this.provider4;
            if (index == 5)
                return this.provider5;
            if (index == 6)
                return this.provider6;
            if (index == 7)
                return this.provider7;
            if (index == 8)
                return this.provider8;
            if (index == 9)
                return this.provider9;
            throw new OutOfBoundsError(index);
        };
        ReflectiveProtoInjectorInlineStrategy.prototype.createInjectorStrategy = function (injector) {
            return new ReflectiveInjectorInlineStrategy(injector, this);
        };
        return ReflectiveProtoInjectorInlineStrategy;
    }());
    var ReflectiveProtoInjectorDynamicStrategy = (function () {
        function ReflectiveProtoInjectorDynamicStrategy(protoInj, providers) {
            this.providers = providers;
            var len = providers.length;
            this.keyIds = new Array(len);
            for (var i = 0; i < len; i++) {
                this.keyIds[i] = providers[i].key.id;
            }
        }
        ReflectiveProtoInjectorDynamicStrategy.prototype.getProviderAtIndex = function (index) {
            if (index < 0 || index >= this.providers.length) {
                throw new OutOfBoundsError(index);
            }
            return this.providers[index];
        };
        ReflectiveProtoInjectorDynamicStrategy.prototype.createInjectorStrategy = function (ei) {
            return new ReflectiveInjectorDynamicStrategy(this, ei);
        };
        return ReflectiveProtoInjectorDynamicStrategy;
    }());
    var ReflectiveProtoInjector = (function () {
        function ReflectiveProtoInjector(providers) {
            this.numberOfProviders = providers.length;
            this._strategy = providers.length > _MAX_CONSTRUCTION_COUNTER ?
                new ReflectiveProtoInjectorDynamicStrategy(this, providers) :
                new ReflectiveProtoInjectorInlineStrategy(this, providers);
        }
        ReflectiveProtoInjector.fromResolvedProviders = function (providers) {
            return new ReflectiveProtoInjector(providers);
        };
        ReflectiveProtoInjector.prototype.getProviderAtIndex = function (index) {
            return this._strategy.getProviderAtIndex(index);
        };
        return ReflectiveProtoInjector;
    }());
    var ReflectiveInjectorInlineStrategy = (function () {
        function ReflectiveInjectorInlineStrategy(injector, protoStrategy) {
            this.injector = injector;
            this.protoStrategy = protoStrategy;
            this.obj0 = UNDEFINED;
            this.obj1 = UNDEFINED;
            this.obj2 = UNDEFINED;
            this.obj3 = UNDEFINED;
            this.obj4 = UNDEFINED;
            this.obj5 = UNDEFINED;
            this.obj6 = UNDEFINED;
            this.obj7 = UNDEFINED;
            this.obj8 = UNDEFINED;
            this.obj9 = UNDEFINED;
        }
        ReflectiveInjectorInlineStrategy.prototype.resetConstructionCounter = function () { this.injector._constructionCounter = 0; };
        ReflectiveInjectorInlineStrategy.prototype.instantiateProvider = function (provider) {
            return this.injector._new(provider);
        };
        ReflectiveInjectorInlineStrategy.prototype.getObjByKeyId = function (keyId) {
            var p = this.protoStrategy;
            var inj = this.injector;
            if (p.keyId0 === keyId) {
                if (this.obj0 === UNDEFINED) {
                    this.obj0 = inj._new(p.provider0);
                }
                return this.obj0;
            }
            if (p.keyId1 === keyId) {
                if (this.obj1 === UNDEFINED) {
                    this.obj1 = inj._new(p.provider1);
                }
                return this.obj1;
            }
            if (p.keyId2 === keyId) {
                if (this.obj2 === UNDEFINED) {
                    this.obj2 = inj._new(p.provider2);
                }
                return this.obj2;
            }
            if (p.keyId3 === keyId) {
                if (this.obj3 === UNDEFINED) {
                    this.obj3 = inj._new(p.provider3);
                }
                return this.obj3;
            }
            if (p.keyId4 === keyId) {
                if (this.obj4 === UNDEFINED) {
                    this.obj4 = inj._new(p.provider4);
                }
                return this.obj4;
            }
            if (p.keyId5 === keyId) {
                if (this.obj5 === UNDEFINED) {
                    this.obj5 = inj._new(p.provider5);
                }
                return this.obj5;
            }
            if (p.keyId6 === keyId) {
                if (this.obj6 === UNDEFINED) {
                    this.obj6 = inj._new(p.provider6);
                }
                return this.obj6;
            }
            if (p.keyId7 === keyId) {
                if (this.obj7 === UNDEFINED) {
                    this.obj7 = inj._new(p.provider7);
                }
                return this.obj7;
            }
            if (p.keyId8 === keyId) {
                if (this.obj8 === UNDEFINED) {
                    this.obj8 = inj._new(p.provider8);
                }
                return this.obj8;
            }
            if (p.keyId9 === keyId) {
                if (this.obj9 === UNDEFINED) {
                    this.obj9 = inj._new(p.provider9);
                }
                return this.obj9;
            }
            return UNDEFINED;
        };
        ReflectiveInjectorInlineStrategy.prototype.getObjAtIndex = function (index) {
            if (index == 0)
                return this.obj0;
            if (index == 1)
                return this.obj1;
            if (index == 2)
                return this.obj2;
            if (index == 3)
                return this.obj3;
            if (index == 4)
                return this.obj4;
            if (index == 5)
                return this.obj5;
            if (index == 6)
                return this.obj6;
            if (index == 7)
                return this.obj7;
            if (index == 8)
                return this.obj8;
            if (index == 9)
                return this.obj9;
            throw new OutOfBoundsError(index);
        };
        ReflectiveInjectorInlineStrategy.prototype.getMaxNumberOfObjects = function () { return _MAX_CONSTRUCTION_COUNTER; };
        return ReflectiveInjectorInlineStrategy;
    }());
    var ReflectiveInjectorDynamicStrategy = (function () {
        function ReflectiveInjectorDynamicStrategy(protoStrategy, injector) {
            this.protoStrategy = protoStrategy;
            this.injector = injector;
            this.objs = new Array(protoStrategy.providers.length).fill(UNDEFINED);
        }
        ReflectiveInjectorDynamicStrategy.prototype.resetConstructionCounter = function () { this.injector._constructionCounter = 0; };
        ReflectiveInjectorDynamicStrategy.prototype.instantiateProvider = function (provider) {
            return this.injector._new(provider);
        };
        ReflectiveInjectorDynamicStrategy.prototype.getObjByKeyId = function (keyId) {
            var p = this.protoStrategy;
            for (var i = 0; i < p.keyIds.length; i++) {
                if (p.keyIds[i] === keyId) {
                    if (this.objs[i] === UNDEFINED) {
                        this.objs[i] = this.injector._new(p.providers[i]);
                    }
                    return this.objs[i];
                }
            }
            return UNDEFINED;
        };
        ReflectiveInjectorDynamicStrategy.prototype.getObjAtIndex = function (index) {
            if (index < 0 || index >= this.objs.length) {
                throw new OutOfBoundsError(index);
            }
            return this.objs[index];
        };
        ReflectiveInjectorDynamicStrategy.prototype.getMaxNumberOfObjects = function () { return this.objs.length; };
        return ReflectiveInjectorDynamicStrategy;
    }());
    var ReflectiveInjector = (function () {
        function ReflectiveInjector() {
        }
        ReflectiveInjector.resolve = function (providers) {
            return resolveReflectiveProviders(providers);
        };
        ReflectiveInjector.resolveAndCreate = function (providers, parent) {
            if (parent === void 0) {
                parent = null;
            }
            var ResolvedReflectiveProviders = ReflectiveInjector.resolve(providers);
            return ReflectiveInjector.fromResolvedProviders(ResolvedReflectiveProviders, parent);
        };
        ReflectiveInjector.fromResolvedProviders = function (providers, parent) {
            if (parent === void 0) {
                parent = null;
            }
            return new ReflectiveInjector_(ReflectiveProtoInjector.fromResolvedProviders(providers), parent);
        };
        Object.defineProperty(ReflectiveInjector.prototype, "parent", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        ReflectiveInjector.prototype.resolveAndCreateChild = function (providers) { return unimplemented(); };
        ReflectiveInjector.prototype.createChildFromResolved = function (providers) {
            return unimplemented();
        };
        ReflectiveInjector.prototype.resolveAndInstantiate = function (provider) { return unimplemented(); };
        ReflectiveInjector.prototype.instantiateResolved = function (provider) { return unimplemented(); };
        ReflectiveInjector.prototype.get = function (token, notFoundValue) { };
        return ReflectiveInjector;
    }());
    var ReflectiveInjector_ = (function () {
        function ReflectiveInjector_(_proto, _parent) {
            if (_parent === void 0) {
                _parent = null;
            }
            this._constructionCounter = 0;
            this._proto = _proto;
            this._parent = _parent;
            this._strategy = _proto._strategy.createInjectorStrategy(this);
        }
        ReflectiveInjector_.prototype.get = function (token, notFoundValue) {
            if (notFoundValue === void 0) {
                notFoundValue = THROW_IF_NOT_FOUND;
            }
            return this._getByKey(ReflectiveKey.get(token), null, null, notFoundValue);
        };
        ReflectiveInjector_.prototype.getAt = function (index) { return this._strategy.getObjAtIndex(index); };
        Object.defineProperty(ReflectiveInjector_.prototype, "parent", {
            get: function () { return this._parent; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ReflectiveInjector_.prototype, "internalStrategy", {
            get: function () { return this._strategy; },
            enumerable: true,
            configurable: true
        });
        ReflectiveInjector_.prototype.resolveAndCreateChild = function (providers) {
            var ResolvedReflectiveProviders = ReflectiveInjector.resolve(providers);
            return this.createChildFromResolved(ResolvedReflectiveProviders);
        };
        ReflectiveInjector_.prototype.createChildFromResolved = function (providers) {
            var proto = new ReflectiveProtoInjector(providers);
            var inj = new ReflectiveInjector_(proto);
            inj._parent = this;
            return inj;
        };
        ReflectiveInjector_.prototype.resolveAndInstantiate = function (provider) {
            return this.instantiateResolved(ReflectiveInjector.resolve([provider])[0]);
        };
        ReflectiveInjector_.prototype.instantiateResolved = function (provider) {
            return this._instantiateProvider(provider);
        };
        ReflectiveInjector_.prototype._new = function (provider) {
            if (this._constructionCounter++ > this._strategy.getMaxNumberOfObjects()) {
                throw new CyclicDependencyError(this, provider.key);
            }
            return this._instantiateProvider(provider);
        };
        ReflectiveInjector_.prototype._instantiateProvider = function (provider) {
            if (provider.multiProvider) {
                var res = new Array(provider.resolvedFactories.length);
                for (var i = 0; i < provider.resolvedFactories.length; ++i) {
                    res[i] = this._instantiate(provider, provider.resolvedFactories[i]);
                }
                return res;
            }
            else {
                return this._instantiate(provider, provider.resolvedFactories[0]);
            }
        };
        ReflectiveInjector_.prototype._instantiate = function (provider, ResolvedReflectiveFactory$$1) {
            var factory = ResolvedReflectiveFactory$$1.factory;
            var deps = ResolvedReflectiveFactory$$1.dependencies;
            var length = deps.length;
            var d0;
            var d1;
            var d2;
            var d3;
            var d4;
            var d5;
            var d6;
            var d7;
            var d8;
            var d9;
            var d10;
            var d11;
            var d12;
            var d13;
            var d14;
            var d15;
            var d16;
            var d17;
            var d18;
            var d19;
            try {
                d0 = length > 0 ? this._getByReflectiveDependency(provider, deps[0]) : null;
                d1 = length > 1 ? this._getByReflectiveDependency(provider, deps[1]) : null;
                d2 = length > 2 ? this._getByReflectiveDependency(provider, deps[2]) : null;
                d3 = length > 3 ? this._getByReflectiveDependency(provider, deps[3]) : null;
                d4 = length > 4 ? this._getByReflectiveDependency(provider, deps[4]) : null;
                d5 = length > 5 ? this._getByReflectiveDependency(provider, deps[5]) : null;
                d6 = length > 6 ? this._getByReflectiveDependency(provider, deps[6]) : null;
                d7 = length > 7 ? this._getByReflectiveDependency(provider, deps[7]) : null;
                d8 = length > 8 ? this._getByReflectiveDependency(provider, deps[8]) : null;
                d9 = length > 9 ? this._getByReflectiveDependency(provider, deps[9]) : null;
                d10 = length > 10 ? this._getByReflectiveDependency(provider, deps[10]) : null;
                d11 = length > 11 ? this._getByReflectiveDependency(provider, deps[11]) : null;
                d12 = length > 12 ? this._getByReflectiveDependency(provider, deps[12]) : null;
                d13 = length > 13 ? this._getByReflectiveDependency(provider, deps[13]) : null;
                d14 = length > 14 ? this._getByReflectiveDependency(provider, deps[14]) : null;
                d15 = length > 15 ? this._getByReflectiveDependency(provider, deps[15]) : null;
                d16 = length > 16 ? this._getByReflectiveDependency(provider, deps[16]) : null;
                d17 = length > 17 ? this._getByReflectiveDependency(provider, deps[17]) : null;
                d18 = length > 18 ? this._getByReflectiveDependency(provider, deps[18]) : null;
                d19 = length > 19 ? this._getByReflectiveDependency(provider, deps[19]) : null;
            }
            catch (e) {
                if (e instanceof AbstractProviderError || e instanceof InstantiationError) {
                    e.addKey(this, provider.key);
                }
                throw e;
            }
            var obj;
            try {
                switch (length) {
                    case 0:
                        obj = factory();
                        break;
                    case 1:
                        obj = factory(d0);
                        break;
                    case 2:
                        obj = factory(d0, d1);
                        break;
                    case 3:
                        obj = factory(d0, d1, d2);
                        break;
                    case 4:
                        obj = factory(d0, d1, d2, d3);
                        break;
                    case 5:
                        obj = factory(d0, d1, d2, d3, d4);
                        break;
                    case 6:
                        obj = factory(d0, d1, d2, d3, d4, d5);
                        break;
                    case 7:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6);
                        break;
                    case 8:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7);
                        break;
                    case 9:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8);
                        break;
                    case 10:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9);
                        break;
                    case 11:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10);
                        break;
                    case 12:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11);
                        break;
                    case 13:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12);
                        break;
                    case 14:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13);
                        break;
                    case 15:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14);
                        break;
                    case 16:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15);
                        break;
                    case 17:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16);
                        break;
                    case 18:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16, d17);
                        break;
                    case 19:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16, d17, d18);
                        break;
                    case 20:
                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16, d17, d18, d19);
                        break;
                    default:
                        throw new Error("Cannot instantiate '" + provider.key.displayName + "' because it has more than 20 dependencies");
                }
            }
            catch (e) {
                throw new InstantiationError(this, e, e.stack, provider.key);
            }
            return obj;
        };
        ReflectiveInjector_.prototype._getByReflectiveDependency = function (provider, dep) {
            return this._getByKey(dep.key, dep.lowerBoundVisibility, dep.upperBoundVisibility, dep.optional ? null : THROW_IF_NOT_FOUND);
        };
        ReflectiveInjector_.prototype._getByKey = function (key, lowerBoundVisibility, upperBoundVisibility, notFoundValue) {
            if (key === INJECTOR_KEY) {
                return this;
            }
            if (upperBoundVisibility instanceof Self) {
                return this._getByKeySelf(key, notFoundValue);
            }
            else {
                return this._getByKeyDefault(key, notFoundValue, lowerBoundVisibility);
            }
        };
        ReflectiveInjector_.prototype._throwOrNull = function (key, notFoundValue) {
            if (notFoundValue !== THROW_IF_NOT_FOUND) {
                return notFoundValue;
            }
            else {
                throw new NoProviderError(this, key);
            }
        };
        ReflectiveInjector_.prototype._getByKeySelf = function (key, notFoundValue) {
            var obj = this._strategy.getObjByKeyId(key.id);
            return (obj !== UNDEFINED) ? obj : this._throwOrNull(key, notFoundValue);
        };
        ReflectiveInjector_.prototype._getByKeyDefault = function (key, notFoundValue, lowerBoundVisibility) {
            var inj;
            if (lowerBoundVisibility instanceof SkipSelf) {
                inj = this._parent;
            }
            else {
                inj = this;
            }
            while (inj instanceof ReflectiveInjector_) {
                var inj_ = (inj);
                var obj = inj_._strategy.getObjByKeyId(key.id);
                if (obj !== UNDEFINED)
                    return obj;
                inj = inj_._parent;
            }
            if (inj !== null) {
                return inj.get(key.token, notFoundValue);
            }
            else {
                return this._throwOrNull(key, notFoundValue);
            }
        };
        Object.defineProperty(ReflectiveInjector_.prototype, "displayName", {
            get: function () {
                var providers = _mapProviders(this, function (b) { return ' "' + b.key.displayName + '" '; })
                    .join(', ');
                return "ReflectiveInjector(providers: [" + providers + "])";
            },
            enumerable: true,
            configurable: true
        });
        ReflectiveInjector_.prototype.toString = function () { return this.displayName; };
        return ReflectiveInjector_;
    }());
    var INJECTOR_KEY = ReflectiveKey.get(Injector);
    function _mapProviders(injector, fn) {
        var res = new Array(injector._proto.numberOfProviders);
        for (var i = 0; i < injector._proto.numberOfProviders; ++i) {
            res[i] = fn(injector._proto.getProviderAtIndex(i));
        }
        return res;
    }
    var ErrorHandler = (function () {
        function ErrorHandler(rethrowError) {
            if (rethrowError === void 0) {
                rethrowError = true;
            }
            this._console = console;
            this.rethrowError = rethrowError;
        }
        ErrorHandler.prototype.handleError = function (error) {
            var originalError = this._findOriginalError(error);
            var originalStack = this._findOriginalStack(error);
            var context = this._findContext(error);
            this._console.error("EXCEPTION: " + this._extractMessage(error));
            if (originalError) {
                this._console.error("ORIGINAL EXCEPTION: " + this._extractMessage(originalError));
            }
            if (originalStack) {
                this._console.error('ORIGINAL STACKTRACE:');
                this._console.error(originalStack);
            }
            if (context) {
                this._console.error('ERROR CONTEXT:');
                this._console.error(context);
            }
            if (this.rethrowError)
                throw error;
        };
        ErrorHandler.prototype._extractMessage = function (error) {
            return error instanceof Error ? error.message : error.toString();
        };
        ErrorHandler.prototype._findContext = function (error) {
            if (error) {
                return error.context ? error.context :
                    this._findContext(((error)).originalError);
            }
            return null;
        };
        ErrorHandler.prototype._findOriginalError = function (error) {
            var e = ((error)).originalError;
            while (e && ((e)).originalError) {
                e = ((e)).originalError;
            }
            return e;
        };
        ErrorHandler.prototype._findOriginalStack = function (error) {
            if (!(error instanceof Error))
                return null;
            var e = error;
            var stack = e.stack;
            while (e instanceof Error && ((e)).originalError) {
                e = ((e)).originalError;
                if (e instanceof Error && e.stack) {
                    stack = e.stack;
                }
            }
            return stack;
        };
        return ErrorHandler;
    }());
    var StringMapWrapper = (function () {
        function StringMapWrapper() {
        }
        StringMapWrapper.merge = function (m1, m2) {
            var m = {};
            for (var _i = 0, _a = Object.keys(m1); _i < _a.length; _i++) {
                var k = _a[_i];
                m[k] = m1[k];
            }
            for (var _b = 0, _c = Object.keys(m2); _b < _c.length; _b++) {
                var k = _c[_b];
                m[k] = m2[k];
            }
            return m;
        };
        StringMapWrapper.equals = function (m1, m2) {
            var k1 = Object.keys(m1);
            var k2 = Object.keys(m2);
            if (k1.length != k2.length) {
                return false;
            }
            for (var i = 0; i < k1.length; i++) {
                var key = k1[i];
                if (m1[key] !== m2[key]) {
                    return false;
                }
            }
            return true;
        };
        return StringMapWrapper;
    }());
    var ListWrapper = (function () {
        function ListWrapper() {
        }
        ListWrapper.findLast = function (arr, condition) {
            for (var i = arr.length - 1; i >= 0; i--) {
                if (condition(arr[i])) {
                    return arr[i];
                }
            }
            return null;
        };
        ListWrapper.removeAll = function (list, items) {
            for (var i = 0; i < items.length; ++i) {
                var index = list.indexOf(items[i]);
                if (index > -1) {
                    list.splice(index, 1);
                }
            }
        };
        ListWrapper.remove = function (list, el) {
            var index = list.indexOf(el);
            if (index > -1) {
                list.splice(index, 1);
                return true;
            }
            return false;
        };
        ListWrapper.equals = function (a, b) {
            if (a.length != b.length)
                return false;
            for (var i = 0; i < a.length; ++i) {
                if (a[i] !== b[i])
                    return false;
            }
            return true;
        };
        ListWrapper.flatten = function (list) {
            return list.reduce(function (flat, item) {
                var flatItem = Array.isArray(item) ? ListWrapper.flatten(item) : item;
                return ((flat)).concat(flatItem);
            }, []);
        };
        return ListWrapper;
    }());
    function isListLikeIterable(obj) {
        if (!isJsObject(obj))
            return false;
        return Array.isArray(obj) ||
            (!(obj instanceof Map) &&
                getSymbolIterator() in obj);
    }
    function areIterablesEqual(a, b, comparator) {
        var iterator1 = a[getSymbolIterator()]();
        var iterator2 = b[getSymbolIterator()]();
        while (true) {
            var item1 = iterator1.next();
            var item2 = iterator2.next();
            if (item1.done && item2.done)
                return true;
            if (item1.done || item2.done)
                return false;
            if (!comparator(item1.value, item2.value))
                return false;
        }
    }
    function iterateListLike(obj, fn) {
        if (Array.isArray(obj)) {
            for (var i = 0; i < obj.length; i++) {
                fn(obj[i]);
            }
        }
        else {
            var iterator = obj[getSymbolIterator()]();
            var item = void 0;
            while (!((item = iterator.next()).done)) {
                fn(item.value);
            }
        }
    }
    function isPromise(obj) {
        return !!obj && typeof obj.then === 'function';
    }
    var APP_INITIALIZER = new OpaqueToken('Application Initializer');
    var ApplicationInitStatus = (function () {
        function ApplicationInitStatus(appInits) {
            var _this = this;
            this._done = false;
            var asyncInitPromises = [];
            if (appInits) {
                for (var i = 0; i < appInits.length; i++) {
                    var initResult = appInits[i]();
                    if (isPromise(initResult)) {
                        asyncInitPromises.push(initResult);
                    }
                }
            }
            this._donePromise = Promise.all(asyncInitPromises).then(function () { _this._done = true; });
            if (asyncInitPromises.length === 0) {
                this._done = true;
            }
        }
        Object.defineProperty(ApplicationInitStatus.prototype, "done", {
            get: function () { return this._done; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ApplicationInitStatus.prototype, "donePromise", {
            get: function () { return this._donePromise; },
            enumerable: true,
            configurable: true
        });
        ApplicationInitStatus.decorators = [
            { type: Injectable },
        ];
        ApplicationInitStatus.ctorParameters = function () {
            return [
                { type: Array, decorators: [{ type: Inject, args: [APP_INITIALIZER,] }, { type: Optional },] },
            ];
        };
        return ApplicationInitStatus;
    }());
    var APP_ID = new OpaqueToken('AppId');
    function _appIdRandomProviderFactory() {
        return "" + _randomChar() + _randomChar() + _randomChar();
    }
    var APP_ID_RANDOM_PROVIDER = {
        provide: APP_ID,
        useFactory: _appIdRandomProviderFactory,
        deps: ([]),
    };
    function _randomChar() {
        return String.fromCharCode(97 + Math.floor(Math.random() * 25));
    }
    var PLATFORM_INITIALIZER = new OpaqueToken('Platform Initializer');
    var APP_BOOTSTRAP_LISTENER = new OpaqueToken('appBootstrapListener');
    var PACKAGE_ROOT_URL = new OpaqueToken('Application Packages Root URL');
    var Console = (function () {
        function Console() {
        }
        Console.prototype.log = function (message) { print(message); };
        Console.prototype.warn = function (message) { warn(message); };
        Console.decorators = [
            { type: Injectable },
        ];
        Console.ctorParameters = function () { return []; };
        return Console;
    }());
    var __extends$4 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var ComponentStillLoadingError = (function (_super) {
        __extends$4(ComponentStillLoadingError, _super);
        function ComponentStillLoadingError(compType) {
            _super.call(this, "Can't compile synchronously as " + stringify(compType) + " is still being loaded!");
            this.compType = compType;
        }
        return ComponentStillLoadingError;
    }(BaseError));
    function _throwError() {
        throw new Error("Runtime compiler is not loaded");
    }
    var Compiler = (function () {
        function Compiler() {
        }
        Compiler.prototype.compileModuleSync = function (moduleType) { throw _throwError(); };
        Compiler.prototype.compileModuleAsync = function (moduleType) { throw _throwError(); };
        Compiler.prototype.compileModuleAndAllComponentsSync = function (moduleType) {
            throw _throwError();
        };
        Compiler.prototype.compileModuleAndAllComponentsAsync = function (moduleType) {
            throw _throwError();
        };
        Compiler.prototype.getNgContentSelectors = function (component) { throw _throwError(); };
        Compiler.prototype.clearCache = function () { };
        Compiler.prototype.clearCacheFor = function (type) { };
        Compiler.decorators = [
            { type: Injectable },
        ];
        Compiler.ctorParameters = function () { return []; };
        return Compiler;
    }());
    var COMPILER_OPTIONS = new OpaqueToken('compilerOptions');
    var CompilerFactory = (function () {
        function CompilerFactory() {
        }
        CompilerFactory.prototype.createCompiler = function (options) { };
        return CompilerFactory;
    }());
    var ElementRef = (function () {
        function ElementRef(nativeElement) {
            this.nativeElement = nativeElement;
        }
        return ElementRef;
    }());
    var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};
    function createCommonjsModule(fn, module) {
        return module = { exports: {} }, fn(module, module.exports), module.exports;
    }
    var root = createCommonjsModule(function (module, exports) {
        "use strict";
        exports.root = (typeof window == 'object' && window.window === window && window
            || typeof self == 'object' && self.self === self && self
            || typeof commonjsGlobal == 'object' && commonjsGlobal.global === commonjsGlobal && commonjsGlobal);
        if (!exports.root) {
            throw new Error('RxJS could not find any global context (window, self, global)');
        }
    });
    function isFunction(x) {
        return typeof x === 'function';
    }
    var isFunction_2 = isFunction;
    var isFunction_1$1 = {
        isFunction: isFunction_2
    };
    var isArray_1$1 = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });
    var isArray = {
        isArray: isArray_1$1
    };
    function isObject(x) {
        return x != null && typeof x === 'object';
    }
    var isObject_2 = isObject;
    var isObject_1$1 = {
        isObject: isObject_2
    };
    var errorObject_1$2 = { e: {} };
    var errorObject = {
        errorObject: errorObject_1$2
    };
    var errorObject_1$1 = errorObject;
    var tryCatchTarget;
    function tryCatcher() {
        try {
            return tryCatchTarget.apply(this, arguments);
        }
        catch (e) {
            errorObject_1$1.errorObject.e = e;
            return errorObject_1$1.errorObject;
        }
    }
    function tryCatch(fn) {
        tryCatchTarget = fn;
        return tryCatcher;
    }
    var tryCatch_2 = tryCatch;
    var tryCatch_1$1 = {
        tryCatch: tryCatch_2
    };
    var __extends$9 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var UnsubscriptionError = (function (_super) {
        __extends$9(UnsubscriptionError, _super);
        function UnsubscriptionError(errors) {
            _super.call(this);
            this.errors = errors;
            var err = Error.call(this, errors ?
                errors.length + " errors occurred during unsubscription:\n  " + errors.map(function (err, i) { return ((i + 1) + ") " + err.toString()); }).join('\n  ') : '');
            this.name = err.name = 'UnsubscriptionError';
            this.stack = err.stack;
            this.message = err.message;
        }
        return UnsubscriptionError;
    }(Error));
    var UnsubscriptionError_2 = UnsubscriptionError;
    var UnsubscriptionError_1$1 = {
        UnsubscriptionError: UnsubscriptionError_2
    };
    var isArray_1 = isArray;
    var isObject_1 = isObject_1$1;
    var isFunction_1$3 = isFunction_1$1;
    var tryCatch_1 = tryCatch_1$1;
    var errorObject_1 = errorObject;
    var UnsubscriptionError_1 = UnsubscriptionError_1$1;
    var Subscription = (function () {
        function Subscription(unsubscribe) {
            this.closed = false;
            if (unsubscribe) {
                this._unsubscribe = unsubscribe;
            }
        }
        Subscription.prototype.unsubscribe = function () {
            var hasErrors = false;
            var errors;
            if (this.closed) {
                return;
            }
            this.closed = true;
            var _a = this, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;
            this._subscriptions = null;
            if (isFunction_1$3.isFunction(_unsubscribe)) {
                var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);
                if (trial === errorObject_1.errorObject) {
                    hasErrors = true;
                    (errors = errors || []).push(errorObject_1.errorObject.e);
                }
            }
            if (isArray_1.isArray(_subscriptions)) {
                var index = -1;
                var len = _subscriptions.length;
                while (++index < len) {
                    var sub = _subscriptions[index];
                    if (isObject_1.isObject(sub)) {
                        var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);
                        if (trial === errorObject_1.errorObject) {
                            hasErrors = true;
                            errors = errors || [];
                            var err = errorObject_1.errorObject.e;
                            if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {
                                errors = errors.concat(err.errors);
                            }
                            else {
                                errors.push(err);
                            }
                        }
                    }
                }
            }
            if (hasErrors) {
                throw new UnsubscriptionError_1.UnsubscriptionError(errors);
            }
        };
        Subscription.prototype.add = function (teardown) {
            if (!teardown || (teardown === Subscription.EMPTY)) {
                return Subscription.EMPTY;
            }
            if (teardown === this) {
                return this;
            }
            var sub = teardown;
            switch (typeof teardown) {
                case 'function':
                    sub = new Subscription(teardown);
                case 'object':
                    if (sub.closed || typeof sub.unsubscribe !== 'function') {
                        break;
                    }
                    else if (this.closed) {
                        sub.unsubscribe();
                    }
                    else {
                        (this._subscriptions || (this._subscriptions = [])).push(sub);
                    }
                    break;
                default:
                    throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');
            }
            return sub;
        };
        Subscription.prototype.remove = function (subscription) {
            if (subscription == null || (subscription === this) || (subscription === Subscription.EMPTY)) {
                return;
            }
            var subscriptions = this._subscriptions;
            if (subscriptions) {
                var subscriptionIndex = subscriptions.indexOf(subscription);
                if (subscriptionIndex !== -1) {
                    subscriptions.splice(subscriptionIndex, 1);
                }
            }
        };
        Subscription.EMPTY = (function (empty) {
            empty.closed = true;
            return empty;
        }(new Subscription()));
        return Subscription;
    }());
    var Subscription_2 = Subscription;
    var Subscription_1$2 = {
        Subscription: Subscription_2
    };
    var empty = {
        closed: true,
        next: function (value) { },
        error: function (err) { throw err; },
        complete: function () { }
    };
    var Observer = {
        empty: empty
    };
    var root_1$2 = root;
    var Symbol$1 = root_1$2.root.Symbol;
    var $$rxSubscriber = (typeof Symbol$1 === 'function' && typeof Symbol$1.for === 'function') ?
        Symbol$1.for('rxSubscriber') : '@@rxSubscriber';
    var rxSubscriber = {
        $$rxSubscriber: $$rxSubscriber
    };
    var __extends$8 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var isFunction_1 = isFunction_1$1;
    var Subscription_1$1 = Subscription_1$2;
    var Observer_1$1 = Observer;
    var rxSubscriber_1$2 = rxSubscriber;
    var Subscriber = (function (_super) {
        __extends$8(Subscriber, _super);
        function Subscriber(destinationOrNext, error, complete) {
            _super.call(this);
            this.syncErrorValue = null;
            this.syncErrorThrown = false;
            this.syncErrorThrowable = false;
            this.isStopped = false;
            switch (arguments.length) {
                case 0:
                    this.destination = Observer_1$1.empty;
                    break;
                case 1:
                    if (!destinationOrNext) {
                        this.destination = Observer_1$1.empty;
                        break;
                    }
                    if (typeof destinationOrNext === 'object') {
                        if (destinationOrNext instanceof Subscriber) {
                            this.destination = destinationOrNext;
                            this.destination.add(this);
                        }
                        else {
                            this.syncErrorThrowable = true;
                            this.destination = new SafeSubscriber(this, destinationOrNext);
                        }
                        break;
                    }
                default:
                    this.syncErrorThrowable = true;
                    this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);
                    break;
            }
        }
        Subscriber.prototype[rxSubscriber_1$2.$$rxSubscriber] = function () { return this; };
        Subscriber.create = function (next, error, complete) {
            var subscriber = new Subscriber(next, error, complete);
            subscriber.syncErrorThrowable = false;
            return subscriber;
        };
        Subscriber.prototype.next = function (value) {
            if (!this.isStopped) {
                this._next(value);
            }
        };
        Subscriber.prototype.error = function (err) {
            if (!this.isStopped) {
                this.isStopped = true;
                this._error(err);
            }
        };
        Subscriber.prototype.complete = function () {
            if (!this.isStopped) {
                this.isStopped = true;
                this._complete();
            }
        };
        Subscriber.prototype.unsubscribe = function () {
            if (this.closed) {
                return;
            }
            this.isStopped = true;
            _super.prototype.unsubscribe.call(this);
        };
        Subscriber.prototype._next = function (value) {
            this.destination.next(value);
        };
        Subscriber.prototype._error = function (err) {
            this.destination.error(err);
            this.unsubscribe();
        };
        Subscriber.prototype._complete = function () {
            this.destination.complete();
            this.unsubscribe();
        };
        return Subscriber;
    }(Subscription_1$1.Subscription));
    var Subscriber_2 = Subscriber;
    var SafeSubscriber = (function (_super) {
        __extends$8(SafeSubscriber, _super);
        function SafeSubscriber(_parent, observerOrNext, error, complete) {
            _super.call(this);
            this._parent = _parent;
            var next;
            var context = this;
            if (isFunction_1.isFunction(observerOrNext)) {
                next = observerOrNext;
            }
            else if (observerOrNext) {
                context = observerOrNext;
                next = observerOrNext.next;
                error = observerOrNext.error;
                complete = observerOrNext.complete;
                if (isFunction_1.isFunction(context.unsubscribe)) {
                    this.add(context.unsubscribe.bind(context));
                }
                context.unsubscribe = this.unsubscribe.bind(this);
            }
            this._context = context;
            this._next = next;
            this._error = error;
            this._complete = complete;
        }
        SafeSubscriber.prototype.next = function (value) {
            if (!this.isStopped && this._next) {
                var _parent = this._parent;
                if (!_parent.syncErrorThrowable) {
                    this.__tryOrUnsub(this._next, value);
                }
                else if (this.__tryOrSetError(_parent, this._next, value)) {
                    this.unsubscribe();
                }
            }
        };
        SafeSubscriber.prototype.error = function (err) {
            if (!this.isStopped) {
                var _parent = this._parent;
                if (this._error) {
                    if (!_parent.syncErrorThrowable) {
                        this.__tryOrUnsub(this._error, err);
                        this.unsubscribe();
                    }
                    else {
                        this.__tryOrSetError(_parent, this._error, err);
                        this.unsubscribe();
                    }
                }
                else if (!_parent.syncErrorThrowable) {
                    this.unsubscribe();
                    throw err;
                }
                else {
                    _parent.syncErrorValue = err;
                    _parent.syncErrorThrown = true;
                    this.unsubscribe();
                }
            }
        };
        SafeSubscriber.prototype.complete = function () {
            if (!this.isStopped) {
                var _parent = this._parent;
                if (this._complete) {
                    if (!_parent.syncErrorThrowable) {
                        this.__tryOrUnsub(this._complete);
                        this.unsubscribe();
                    }
                    else {
                        this.__tryOrSetError(_parent, this._complete);
                        this.unsubscribe();
                    }
                }
                else {
                    this.unsubscribe();
                }
            }
        };
        SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {
            try {
                fn.call(this._context, value);
            }
            catch (err) {
                this.unsubscribe();
                throw err;
            }
        };
        SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {
            try {
                fn.call(this._context, value);
            }
            catch (err) {
                parent.syncErrorValue = err;
                parent.syncErrorThrown = true;
                return true;
            }
            return false;
        };
        SafeSubscriber.prototype._unsubscribe = function () {
            var _parent = this._parent;
            this._context = null;
            this._parent = null;
            _parent.unsubscribe();
        };
        return SafeSubscriber;
    }(Subscriber));
    var Subscriber_1$2 = {
        Subscriber: Subscriber_2
    };
    var Subscriber_1$1 = Subscriber_1$2;
    var rxSubscriber_1$1 = rxSubscriber;
    var Observer_1 = Observer;
    function toSubscriber(nextOrObserver, error, complete) {
        if (nextOrObserver) {
            if (nextOrObserver instanceof Subscriber_1$1.Subscriber) {
                return nextOrObserver;
            }
            if (nextOrObserver[rxSubscriber_1$1.$$rxSubscriber]) {
                return nextOrObserver[rxSubscriber_1$1.$$rxSubscriber]();
            }
        }
        if (!nextOrObserver && !error && !complete) {
            return new Subscriber_1$1.Subscriber(Observer_1.empty);
        }
        return new Subscriber_1$1.Subscriber(nextOrObserver, error, complete);
    }
    var toSubscriber_2 = toSubscriber;
    var toSubscriber_1$1 = {
        toSubscriber: toSubscriber_2
    };
    var root_1$3 = root;
    function getSymbolObservable(context) {
        var $$observable;
        var Symbol = context.Symbol;
        if (typeof Symbol === 'function') {
            if (Symbol.observable) {
                $$observable = Symbol.observable;
            }
            else {
                $$observable = Symbol('observable');
                Symbol.observable = $$observable;
            }
        }
        else {
            $$observable = '@@observable';
        }
        return $$observable;
    }
    var getSymbolObservable_1 = getSymbolObservable;
    var $$observable = getSymbolObservable(root_1$3.root);
    var observable = {
        getSymbolObservable: getSymbolObservable_1,
        $$observable: $$observable
    };
    var root_1 = root;
    var toSubscriber_1 = toSubscriber_1$1;
    var observable_1 = observable;
    var Observable = (function () {
        function Observable(subscribe) {
            this._isScalar = false;
            if (subscribe) {
                this._subscribe = subscribe;
            }
        }
        Observable.prototype.lift = function (operator) {
            var observable$$1 = new Observable();
            observable$$1.source = this;
            observable$$1.operator = operator;
            return observable$$1;
        };
        Observable.prototype.subscribe = function (observerOrNext, error, complete) {
            var operator = this.operator;
            var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);
            if (operator) {
                operator.call(sink, this.source);
            }
            else {
                sink.add(this._subscribe(sink));
            }
            if (sink.syncErrorThrowable) {
                sink.syncErrorThrowable = false;
                if (sink.syncErrorThrown) {
                    throw sink.syncErrorValue;
                }
            }
            return sink;
        };
        Observable.prototype.forEach = function (next, PromiseCtor) {
            var _this = this;
            if (!PromiseCtor) {
                if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {
                    PromiseCtor = root_1.root.Rx.config.Promise;
                }
                else if (root_1.root.Promise) {
                    PromiseCtor = root_1.root.Promise;
                }
            }
            if (!PromiseCtor) {
                throw new Error('no Promise impl found');
            }
            return new PromiseCtor(function (resolve, reject) {
                var subscription = _this.subscribe(function (value) {
                    if (subscription) {
                        try {
                            next(value);
                        }
                        catch (err) {
                            reject(err);
                            subscription.unsubscribe();
                        }
                    }
                    else {
                        next(value);
                    }
                }, reject, resolve);
            });
        };
        Observable.prototype._subscribe = function (subscriber) {
            return this.source.subscribe(subscriber);
        };
        Observable.prototype[observable_1.$$observable] = function () {
            return this;
        };
        Observable.create = function (subscribe) {
            return new Observable(subscribe);
        };
        return Observable;
    }());
    var Observable_2 = Observable;
    var Observable_1$1 = {
        Observable: Observable_2
    };
    var __extends$10 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var ObjectUnsubscribedError = (function (_super) {
        __extends$10(ObjectUnsubscribedError, _super);
        function ObjectUnsubscribedError() {
            var err = _super.call(this, 'object unsubscribed');
            this.name = err.name = 'ObjectUnsubscribedError';
            this.stack = err.stack;
            this.message = err.message;
        }
        return ObjectUnsubscribedError;
    }(Error));
    var ObjectUnsubscribedError_2 = ObjectUnsubscribedError;
    var ObjectUnsubscribedError_1$1 = {
        ObjectUnsubscribedError: ObjectUnsubscribedError_2
    };
    var __extends$11 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subscription_1$4 = Subscription_1$2;
    var SubjectSubscription = (function (_super) {
        __extends$11(SubjectSubscription, _super);
        function SubjectSubscription(subject, subscriber) {
            _super.call(this);
            this.subject = subject;
            this.subscriber = subscriber;
            this.closed = false;
        }
        SubjectSubscription.prototype.unsubscribe = function () {
            if (this.closed) {
                return;
            }
            this.closed = true;
            var subject = this.subject;
            var observers = subject.observers;
            this.subject = null;
            if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {
                return;
            }
            var subscriberIndex = observers.indexOf(this.subscriber);
            if (subscriberIndex !== -1) {
                observers.splice(subscriberIndex, 1);
            }
        };
        return SubjectSubscription;
    }(Subscription_1$4.Subscription));
    var SubjectSubscription_2 = SubjectSubscription;
    var SubjectSubscription_1$1 = {
        SubjectSubscription: SubjectSubscription_2
    };
    var __extends$7 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Observable_1 = Observable_1$1;
    var Subscriber_1 = Subscriber_1$2;
    var Subscription_1 = Subscription_1$2;
    var ObjectUnsubscribedError_1 = ObjectUnsubscribedError_1$1;
    var SubjectSubscription_1 = SubjectSubscription_1$1;
    var rxSubscriber_1 = rxSubscriber;
    var SubjectSubscriber = (function (_super) {
        __extends$7(SubjectSubscriber, _super);
        function SubjectSubscriber(destination) {
            _super.call(this, destination);
            this.destination = destination;
        }
        return SubjectSubscriber;
    }(Subscriber_1.Subscriber));
    var SubjectSubscriber_1 = SubjectSubscriber;
    var Subject = (function (_super) {
        __extends$7(Subject, _super);
        function Subject() {
            _super.call(this);
            this.observers = [];
            this.closed = false;
            this.isStopped = false;
            this.hasError = false;
            this.thrownError = null;
        }
        Subject.prototype[rxSubscriber_1.$$rxSubscriber] = function () {
            return new SubjectSubscriber(this);
        };
        Subject.prototype.lift = function (operator) {
            var subject = new AnonymousSubject(this, this);
            subject.operator = operator;
            return subject;
        };
        Subject.prototype.next = function (value) {
            if (this.closed) {
                throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            }
            if (!this.isStopped) {
                var observers = this.observers;
                var len = observers.length;
                var copy = observers.slice();
                for (var i = 0; i < len; i++) {
                    copy[i].next(value);
                }
            }
        };
        Subject.prototype.error = function (err) {
            if (this.closed) {
                throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            }
            this.hasError = true;
            this.thrownError = err;
            this.isStopped = true;
            var observers = this.observers;
            var len = observers.length;
            var copy = observers.slice();
            for (var i = 0; i < len; i++) {
                copy[i].error(err);
            }
            this.observers.length = 0;
        };
        Subject.prototype.complete = function () {
            if (this.closed) {
                throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            }
            this.isStopped = true;
            var observers = this.observers;
            var len = observers.length;
            var copy = observers.slice();
            for (var i = 0; i < len; i++) {
                copy[i].complete();
            }
            this.observers.length = 0;
        };
        Subject.prototype.unsubscribe = function () {
            this.isStopped = true;
            this.closed = true;
            this.observers = null;
        };
        Subject.prototype._subscribe = function (subscriber) {
            if (this.closed) {
                throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();
            }
            else if (this.hasError) {
                subscriber.error(this.thrownError);
                return Subscription_1.Subscription.EMPTY;
            }
            else if (this.isStopped) {
                subscriber.complete();
                return Subscription_1.Subscription.EMPTY;
            }
            else {
                this.observers.push(subscriber);
                return new SubjectSubscription_1.SubjectSubscription(this, subscriber);
            }
        };
        Subject.prototype.asObservable = function () {
            var observable = new Observable_1.Observable();
            observable.source = this;
            return observable;
        };
        Subject.create = function (destination, source) {
            return new AnonymousSubject(destination, source);
        };
        return Subject;
    }(Observable_1.Observable));
    var Subject_2 = Subject;
    var AnonymousSubject = (function (_super) {
        __extends$7(AnonymousSubject, _super);
        function AnonymousSubject(destination, source) {
            _super.call(this);
            this.destination = destination;
            this.source = source;
        }
        AnonymousSubject.prototype.next = function (value) {
            var destination = this.destination;
            if (destination && destination.next) {
                destination.next(value);
            }
        };
        AnonymousSubject.prototype.error = function (err) {
            var destination = this.destination;
            if (destination && destination.error) {
                this.destination.error(err);
            }
        };
        AnonymousSubject.prototype.complete = function () {
            var destination = this.destination;
            if (destination && destination.complete) {
                this.destination.complete();
            }
        };
        AnonymousSubject.prototype._subscribe = function (subscriber) {
            var source = this.source;
            if (source) {
                return this.source.subscribe(subscriber);
            }
            else {
                return Subscription_1.Subscription.EMPTY;
            }
        };
        return AnonymousSubject;
    }(Subject));
    var AnonymousSubject_1 = AnonymousSubject;
    var Subject_1 = {
        SubjectSubscriber: SubjectSubscriber_1,
        Subject: Subject_2,
        AnonymousSubject: AnonymousSubject_1
    };
    var __extends$6 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var EventEmitter = (function (_super) {
        __extends$6(EventEmitter, _super);
        function EventEmitter(isAsync) {
            if (isAsync === void 0) {
                isAsync = false;
            }
            _super.call(this);
            this.__isAsync = isAsync;
        }
        EventEmitter.prototype.emit = function (value) { _super.prototype.next.call(this, value); };
        EventEmitter.prototype.subscribe = function (generatorOrNext, error, complete) {
            var schedulerFn;
            var errorFn = function (err) { return null; };
            var completeFn = function () { return null; };
            if (generatorOrNext && typeof generatorOrNext === 'object') {
                schedulerFn = this.__isAsync ? function (value) {
                    setTimeout(function () { return generatorOrNext.next(value); });
                } : function (value) { generatorOrNext.next(value); };
                if (generatorOrNext.error) {
                    errorFn = this.__isAsync ? function (err) { setTimeout(function () { return generatorOrNext.error(err); }); } :
                        function (err) { generatorOrNext.error(err); };
                }
                if (generatorOrNext.complete) {
                    completeFn = this.__isAsync ? function () { setTimeout(function () { return generatorOrNext.complete(); }); } :
                        function () { generatorOrNext.complete(); };
                }
            }
            else {
                schedulerFn = this.__isAsync ? function (value) { setTimeout(function () { return generatorOrNext(value); }); } :
                    function (value) { generatorOrNext(value); };
                if (error) {
                    errorFn =
                        this.__isAsync ? function (err) { setTimeout(function () { return error(err); }); } : function (err) { error(err); };
                }
                if (complete) {
                    completeFn =
                        this.__isAsync ? function () { setTimeout(function () { return complete(); }); } : function () { complete(); };
                }
            }
            return _super.prototype.subscribe.call(this, schedulerFn, errorFn, completeFn);
        };
        return EventEmitter;
    }(Subject_2));
    var NgZone = (function () {
        function NgZone(_a) {
            var _b = _a.enableLongStackTrace, enableLongStackTrace = _b === void 0 ? false : _b;
            this._hasPendingMicrotasks = false;
            this._hasPendingMacrotasks = false;
            this._isStable = true;
            this._nesting = 0;
            this._onUnstable = new EventEmitter(false);
            this._onMicrotaskEmpty = new EventEmitter(false);
            this._onStable = new EventEmitter(false);
            this._onErrorEvents = new EventEmitter(false);
            if (typeof Zone == 'undefined') {
                throw new Error('Angular requires Zone.js prolyfill.');
            }
            Zone.assertZonePatched();
            this.outer = this.inner = Zone.current;
            if (Zone['wtfZoneSpec']) {
                this.inner = this.inner.fork(Zone['wtfZoneSpec']);
            }
            if (enableLongStackTrace && Zone['longStackTraceZoneSpec']) {
                this.inner = this.inner.fork(Zone['longStackTraceZoneSpec']);
            }
            this.forkInnerZoneWithAngularBehavior();
        }
        NgZone.isInAngularZone = function () { return Zone.current.get('isAngularZone') === true; };
        NgZone.assertInAngularZone = function () {
            if (!NgZone.isInAngularZone()) {
                throw new Error('Expected to be in Angular Zone, but it is not!');
            }
        };
        NgZone.assertNotInAngularZone = function () {
            if (NgZone.isInAngularZone()) {
                throw new Error('Expected to not be in Angular Zone, but it is!');
            }
        };
        NgZone.prototype.run = function (fn) { return this.inner.run(fn); };
        NgZone.prototype.runGuarded = function (fn) { return this.inner.runGuarded(fn); };
        NgZone.prototype.runOutsideAngular = function (fn) { return this.outer.run(fn); };
        Object.defineProperty(NgZone.prototype, "onUnstable", {
            get: function () { return this._onUnstable; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgZone.prototype, "onMicrotaskEmpty", {
            get: function () { return this._onMicrotaskEmpty; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgZone.prototype, "onStable", {
            get: function () { return this._onStable; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgZone.prototype, "onError", {
            get: function () { return this._onErrorEvents; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgZone.prototype, "isStable", {
            get: function () { return this._isStable; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgZone.prototype, "hasPendingMicrotasks", {
            get: function () { return this._hasPendingMicrotasks; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgZone.prototype, "hasPendingMacrotasks", {
            get: function () { return this._hasPendingMacrotasks; },
            enumerable: true,
            configurable: true
        });
        NgZone.prototype.checkStable = function () {
            var _this = this;
            if (this._nesting == 0 && !this._hasPendingMicrotasks && !this._isStable) {
                try {
                    this._nesting++;
                    this._onMicrotaskEmpty.emit(null);
                }
                finally {
                    this._nesting--;
                    if (!this._hasPendingMicrotasks) {
                        try {
                            this.runOutsideAngular(function () { return _this._onStable.emit(null); });
                        }
                        finally {
                            this._isStable = true;
                        }
                    }
                }
            }
        };
        NgZone.prototype.forkInnerZoneWithAngularBehavior = function () {
            var _this = this;
            this.inner = this.inner.fork({
                name: 'angular',
                properties: ({ 'isAngularZone': true }),
                onInvokeTask: function (delegate, current, target, task, applyThis, applyArgs) {
                    try {
                        _this.onEnter();
                        return delegate.invokeTask(target, task, applyThis, applyArgs);
                    }
                    finally {
                        _this.onLeave();
                    }
                },
                onInvoke: function (delegate, current, target, callback, applyThis, applyArgs, source) {
                    try {
                        _this.onEnter();
                        return delegate.invoke(target, callback, applyThis, applyArgs, source);
                    }
                    finally {
                        _this.onLeave();
                    }
                },
                onHasTask: function (delegate, current, target, hasTaskState) {
                    delegate.hasTask(target, hasTaskState);
                    if (current === target) {
                        if (hasTaskState.change == 'microTask') {
                            _this.setHasMicrotask(hasTaskState.microTask);
                        }
                        else if (hasTaskState.change == 'macroTask') {
                            _this.setHasMacrotask(hasTaskState.macroTask);
                        }
                    }
                },
                onHandleError: function (delegate, current, target, error) {
                    delegate.handleError(target, error);
                    _this.triggerError(error);
                    return false;
                }
            });
        };
        NgZone.prototype.onEnter = function () {
            this._nesting++;
            if (this._isStable) {
                this._isStable = false;
                this._onUnstable.emit(null);
            }
        };
        NgZone.prototype.onLeave = function () {
            this._nesting--;
            this.checkStable();
        };
        NgZone.prototype.setHasMicrotask = function (hasMicrotasks) {
            this._hasPendingMicrotasks = hasMicrotasks;
            this.checkStable();
        };
        NgZone.prototype.setHasMacrotask = function (hasMacrotasks) { this._hasPendingMacrotasks = hasMacrotasks; };
        NgZone.prototype.triggerError = function (error) { this._onErrorEvents.emit(error); };
        return NgZone;
    }());
    var AnimationQueue = (function () {
        function AnimationQueue(_zone) {
            this._zone = _zone;
            this.entries = [];
        }
        AnimationQueue.prototype.enqueue = function (player) { this.entries.push(player); };
        AnimationQueue.prototype.flush = function () {
            var _this = this;
            if (this.entries.length) {
                this._zone.runOutsideAngular(function () {
                    Promise.resolve(null).then(function () { return _this._triggerAnimations(); });
                });
            }
        };
        AnimationQueue.prototype._triggerAnimations = function () {
            NgZone.assertNotInAngularZone();
            while (this.entries.length) {
                var player = this.entries.shift();
                if (!player.hasStarted()) {
                    player.play();
                }
            }
        };
        AnimationQueue.decorators = [
            { type: Injectable },
        ];
        AnimationQueue.ctorParameters = function () {
            return [
                { type: NgZone, },
            ];
        };
        return AnimationQueue;
    }());
    var DefaultIterableDifferFactory = (function () {
        function DefaultIterableDifferFactory() {
        }
        DefaultIterableDifferFactory.prototype.supports = function (obj) { return isListLikeIterable(obj); };
        DefaultIterableDifferFactory.prototype.create = function (cdRef, trackByFn) {
            return new DefaultIterableDiffer(trackByFn);
        };
        return DefaultIterableDifferFactory;
    }());
    var trackByIdentity = function (index, item) { return item; };
    var DefaultIterableDiffer = (function () {
        function DefaultIterableDiffer(_trackByFn) {
            this._trackByFn = _trackByFn;
            this._length = null;
            this._collection = null;
            this._linkedRecords = null;
            this._unlinkedRecords = null;
            this._previousItHead = null;
            this._itHead = null;
            this._itTail = null;
            this._additionsHead = null;
            this._additionsTail = null;
            this._movesHead = null;
            this._movesTail = null;
            this._removalsHead = null;
            this._removalsTail = null;
            this._identityChangesHead = null;
            this._identityChangesTail = null;
            this._trackByFn = this._trackByFn || trackByIdentity;
        }
        Object.defineProperty(DefaultIterableDiffer.prototype, "collection", {
            get: function () { return this._collection; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DefaultIterableDiffer.prototype, "length", {
            get: function () { return this._length; },
            enumerable: true,
            configurable: true
        });
        DefaultIterableDiffer.prototype.forEachItem = function (fn) {
            var record;
            for (record = this._itHead; record !== null; record = record._next) {
                fn(record);
            }
        };
        DefaultIterableDiffer.prototype.forEachOperation = function (fn) {
            var nextIt = this._itHead;
            var nextRemove = this._removalsHead;
            var addRemoveOffset = 0;
            var moveOffsets = null;
            while (nextIt || nextRemove) {
                var record = !nextRemove ||
                    nextIt &&
                        nextIt.currentIndex < getPreviousIndex(nextRemove, addRemoveOffset, moveOffsets) ?
                    nextIt :
                    nextRemove;
                var adjPreviousIndex = getPreviousIndex(record, addRemoveOffset, moveOffsets);
                var currentIndex = record.currentIndex;
                if (record === nextRemove) {
                    addRemoveOffset--;
                    nextRemove = nextRemove._nextRemoved;
                }
                else {
                    nextIt = nextIt._next;
                    if (record.previousIndex == null) {
                        addRemoveOffset++;
                    }
                    else {
                        if (!moveOffsets)
                            moveOffsets = [];
                        var localMovePreviousIndex = adjPreviousIndex - addRemoveOffset;
                        var localCurrentIndex = currentIndex - addRemoveOffset;
                        if (localMovePreviousIndex != localCurrentIndex) {
                            for (var i = 0; i < localMovePreviousIndex; i++) {
                                var offset = i < moveOffsets.length ? moveOffsets[i] : (moveOffsets[i] = 0);
                                var index = offset + i;
                                if (localCurrentIndex <= index && index < localMovePreviousIndex) {
                                    moveOffsets[i] = offset + 1;
                                }
                            }
                            var previousIndex = record.previousIndex;
                            moveOffsets[previousIndex] = localCurrentIndex - localMovePreviousIndex;
                        }
                    }
                }
                if (adjPreviousIndex !== currentIndex) {
                    fn(record, adjPreviousIndex, currentIndex);
                }
            }
        };
        DefaultIterableDiffer.prototype.forEachPreviousItem = function (fn) {
            var record;
            for (record = this._previousItHead; record !== null; record = record._nextPrevious) {
                fn(record);
            }
        };
        DefaultIterableDiffer.prototype.forEachAddedItem = function (fn) {
            var record;
            for (record = this._additionsHead; record !== null; record = record._nextAdded) {
                fn(record);
            }
        };
        DefaultIterableDiffer.prototype.forEachMovedItem = function (fn) {
            var record;
            for (record = this._movesHead; record !== null; record = record._nextMoved) {
                fn(record);
            }
        };
        DefaultIterableDiffer.prototype.forEachRemovedItem = function (fn) {
            var record;
            for (record = this._removalsHead; record !== null; record = record._nextRemoved) {
                fn(record);
            }
        };
        DefaultIterableDiffer.prototype.forEachIdentityChange = function (fn) {
            var record;
            for (record = this._identityChangesHead; record !== null; record = record._nextIdentityChange) {
                fn(record);
            }
        };
        DefaultIterableDiffer.prototype.diff = function (collection) {
            if (isBlank(collection))
                collection = [];
            if (!isListLikeIterable(collection)) {
                throw new Error("Error trying to diff '" + collection + "'");
            }
            if (this.check(collection)) {
                return this;
            }
            else {
                return null;
            }
        };
        DefaultIterableDiffer.prototype.onDestroy = function () { };
        DefaultIterableDiffer.prototype.check = function (collection) {
            var _this = this;
            this._reset();
            var record = this._itHead;
            var mayBeDirty = false;
            var index;
            var item;
            var itemTrackBy;
            if (Array.isArray(collection)) {
                var list = collection;
                this._length = collection.length;
                for (var index_1 = 0; index_1 < this._length; index_1++) {
                    item = list[index_1];
                    itemTrackBy = this._trackByFn(index_1, item);
                    if (record === null || !looseIdentical(record.trackById, itemTrackBy)) {
                        record = this._mismatch(record, item, itemTrackBy, index_1);
                        mayBeDirty = true;
                    }
                    else {
                        if (mayBeDirty) {
                            record = this._verifyReinsertion(record, item, itemTrackBy, index_1);
                        }
                        if (!looseIdentical(record.item, item))
                            this._addIdentityChange(record, item);
                    }
                    record = record._next;
                }
            }
            else {
                index = 0;
                iterateListLike(collection, function (item) {
                    itemTrackBy = _this._trackByFn(index, item);
                    if (record === null || !looseIdentical(record.trackById, itemTrackBy)) {
                        record = _this._mismatch(record, item, itemTrackBy, index);
                        mayBeDirty = true;
                    }
                    else {
                        if (mayBeDirty) {
                            record = _this._verifyReinsertion(record, item, itemTrackBy, index);
                        }
                        if (!looseIdentical(record.item, item))
                            _this._addIdentityChange(record, item);
                    }
                    record = record._next;
                    index++;
                });
                this._length = index;
            }
            this._truncate(record);
            this._collection = collection;
            return this.isDirty;
        };
        Object.defineProperty(DefaultIterableDiffer.prototype, "isDirty", {
            get: function () {
                return this._additionsHead !== null || this._movesHead !== null ||
                    this._removalsHead !== null || this._identityChangesHead !== null;
            },
            enumerable: true,
            configurable: true
        });
        DefaultIterableDiffer.prototype._reset = function () {
            if (this.isDirty) {
                var record = void 0;
                var nextRecord = void 0;
                for (record = this._previousItHead = this._itHead; record !== null; record = record._next) {
                    record._nextPrevious = record._next;
                }
                for (record = this._additionsHead; record !== null; record = record._nextAdded) {
                    record.previousIndex = record.currentIndex;
                }
                this._additionsHead = this._additionsTail = null;
                for (record = this._movesHead; record !== null; record = nextRecord) {
                    record.previousIndex = record.currentIndex;
                    nextRecord = record._nextMoved;
                }
                this._movesHead = this._movesTail = null;
                this._removalsHead = this._removalsTail = null;
                this._identityChangesHead = this._identityChangesTail = null;
            }
        };
        DefaultIterableDiffer.prototype._mismatch = function (record, item, itemTrackBy, index) {
            var previousRecord;
            if (record === null) {
                previousRecord = this._itTail;
            }
            else {
                previousRecord = record._prev;
                this._remove(record);
            }
            record = this._linkedRecords === null ? null : this._linkedRecords.get(itemTrackBy, index);
            if (record !== null) {
                if (!looseIdentical(record.item, item))
                    this._addIdentityChange(record, item);
                this._moveAfter(record, previousRecord, index);
            }
            else {
                record = this._unlinkedRecords === null ? null : this._unlinkedRecords.get(itemTrackBy);
                if (record !== null) {
                    if (!looseIdentical(record.item, item))
                        this._addIdentityChange(record, item);
                    this._reinsertAfter(record, previousRecord, index);
                }
                else {
                    record =
                        this._addAfter(new CollectionChangeRecord(item, itemTrackBy), previousRecord, index);
                }
            }
            return record;
        };
        DefaultIterableDiffer.prototype._verifyReinsertion = function (record, item, itemTrackBy, index) {
            var reinsertRecord = this._unlinkedRecords === null ? null : this._unlinkedRecords.get(itemTrackBy);
            if (reinsertRecord !== null) {
                record = this._reinsertAfter(reinsertRecord, record._prev, index);
            }
            else if (record.currentIndex != index) {
                record.currentIndex = index;
                this._addToMoves(record, index);
            }
            return record;
        };
        DefaultIterableDiffer.prototype._truncate = function (record) {
            while (record !== null) {
                var nextRecord = record._next;
                this._addToRemovals(this._unlink(record));
                record = nextRecord;
            }
            if (this._unlinkedRecords !== null) {
                this._unlinkedRecords.clear();
            }
            if (this._additionsTail !== null) {
                this._additionsTail._nextAdded = null;
            }
            if (this._movesTail !== null) {
                this._movesTail._nextMoved = null;
            }
            if (this._itTail !== null) {
                this._itTail._next = null;
            }
            if (this._removalsTail !== null) {
                this._removalsTail._nextRemoved = null;
            }
            if (this._identityChangesTail !== null) {
                this._identityChangesTail._nextIdentityChange = null;
            }
        };
        DefaultIterableDiffer.prototype._reinsertAfter = function (record, prevRecord, index) {
            if (this._unlinkedRecords !== null) {
                this._unlinkedRecords.remove(record);
            }
            var prev = record._prevRemoved;
            var next = record._nextRemoved;
            if (prev === null) {
                this._removalsHead = next;
            }
            else {
                prev._nextRemoved = next;
            }
            if (next === null) {
                this._removalsTail = prev;
            }
            else {
                next._prevRemoved = prev;
            }
            this._insertAfter(record, prevRecord, index);
            this._addToMoves(record, index);
            return record;
        };
        DefaultIterableDiffer.prototype._moveAfter = function (record, prevRecord, index) {
            this._unlink(record);
            this._insertAfter(record, prevRecord, index);
            this._addToMoves(record, index);
            return record;
        };
        DefaultIterableDiffer.prototype._addAfter = function (record, prevRecord, index) {
            this._insertAfter(record, prevRecord, index);
            if (this._additionsTail === null) {
                this._additionsTail = this._additionsHead = record;
            }
            else {
                this._additionsTail = this._additionsTail._nextAdded = record;
            }
            return record;
        };
        DefaultIterableDiffer.prototype._insertAfter = function (record, prevRecord, index) {
            var next = prevRecord === null ? this._itHead : prevRecord._next;
            record._next = next;
            record._prev = prevRecord;
            if (next === null) {
                this._itTail = record;
            }
            else {
                next._prev = record;
            }
            if (prevRecord === null) {
                this._itHead = record;
            }
            else {
                prevRecord._next = record;
            }
            if (this._linkedRecords === null) {
                this._linkedRecords = new _DuplicateMap();
            }
            this._linkedRecords.put(record);
            record.currentIndex = index;
            return record;
        };
        DefaultIterableDiffer.prototype._remove = function (record) {
            return this._addToRemovals(this._unlink(record));
        };
        DefaultIterableDiffer.prototype._unlink = function (record) {
            if (this._linkedRecords !== null) {
                this._linkedRecords.remove(record);
            }
            var prev = record._prev;
            var next = record._next;
            if (prev === null) {
                this._itHead = next;
            }
            else {
                prev._next = next;
            }
            if (next === null) {
                this._itTail = prev;
            }
            else {
                next._prev = prev;
            }
            return record;
        };
        DefaultIterableDiffer.prototype._addToMoves = function (record, toIndex) {
            if (record.previousIndex === toIndex) {
                return record;
            }
            if (this._movesTail === null) {
                this._movesTail = this._movesHead = record;
            }
            else {
                this._movesTail = this._movesTail._nextMoved = record;
            }
            return record;
        };
        DefaultIterableDiffer.prototype._addToRemovals = function (record) {
            if (this._unlinkedRecords === null) {
                this._unlinkedRecords = new _DuplicateMap();
            }
            this._unlinkedRecords.put(record);
            record.currentIndex = null;
            record._nextRemoved = null;
            if (this._removalsTail === null) {
                this._removalsTail = this._removalsHead = record;
                record._prevRemoved = null;
            }
            else {
                record._prevRemoved = this._removalsTail;
                this._removalsTail = this._removalsTail._nextRemoved = record;
            }
            return record;
        };
        DefaultIterableDiffer.prototype._addIdentityChange = function (record, item) {
            record.item = item;
            if (this._identityChangesTail === null) {
                this._identityChangesTail = this._identityChangesHead = record;
            }
            else {
                this._identityChangesTail = this._identityChangesTail._nextIdentityChange = record;
            }
            return record;
        };
        DefaultIterableDiffer.prototype.toString = function () {
            var list = [];
            this.forEachItem(function (record) { return list.push(record); });
            var previous = [];
            this.forEachPreviousItem(function (record) { return previous.push(record); });
            var additions = [];
            this.forEachAddedItem(function (record) { return additions.push(record); });
            var moves = [];
            this.forEachMovedItem(function (record) { return moves.push(record); });
            var removals = [];
            this.forEachRemovedItem(function (record) { return removals.push(record); });
            var identityChanges = [];
            this.forEachIdentityChange(function (record) { return identityChanges.push(record); });
            return 'collection: ' + list.join(', ') + '\n' +
                'previous: ' + previous.join(', ') + '\n' +
                'additions: ' + additions.join(', ') + '\n' +
                'moves: ' + moves.join(', ') + '\n' +
                'removals: ' + removals.join(', ') + '\n' +
                'identityChanges: ' + identityChanges.join(', ') + '\n';
        };
        return DefaultIterableDiffer;
    }());
    var CollectionChangeRecord = (function () {
        function CollectionChangeRecord(item, trackById) {
            this.item = item;
            this.trackById = trackById;
            this.currentIndex = null;
            this.previousIndex = null;
            this._nextPrevious = null;
            this._prev = null;
            this._next = null;
            this._prevDup = null;
            this._nextDup = null;
            this._prevRemoved = null;
            this._nextRemoved = null;
            this._nextAdded = null;
            this._nextMoved = null;
            this._nextIdentityChange = null;
        }
        CollectionChangeRecord.prototype.toString = function () {
            return this.previousIndex === this.currentIndex ? stringify(this.item) :
                stringify(this.item) + '[' +
                    stringify(this.previousIndex) + '->' + stringify(this.currentIndex) + ']';
        };
        return CollectionChangeRecord;
    }());
    var _DuplicateItemRecordList = (function () {
        function _DuplicateItemRecordList() {
            this._head = null;
            this._tail = null;
        }
        _DuplicateItemRecordList.prototype.add = function (record) {
            if (this._head === null) {
                this._head = this._tail = record;
                record._nextDup = null;
                record._prevDup = null;
            }
            else {
                this._tail._nextDup = record;
                record._prevDup = this._tail;
                record._nextDup = null;
                this._tail = record;
            }
        };
        _DuplicateItemRecordList.prototype.get = function (trackById, afterIndex) {
            var record;
            for (record = this._head; record !== null; record = record._nextDup) {
                if ((afterIndex === null || afterIndex < record.currentIndex) &&
                    looseIdentical(record.trackById, trackById)) {
                    return record;
                }
            }
            return null;
        };
        _DuplicateItemRecordList.prototype.remove = function (record) {
            var prev = record._prevDup;
            var next = record._nextDup;
            if (prev === null) {
                this._head = next;
            }
            else {
                prev._nextDup = next;
            }
            if (next === null) {
                this._tail = prev;
            }
            else {
                next._prevDup = prev;
            }
            return this._head === null;
        };
        return _DuplicateItemRecordList;
    }());
    var _DuplicateMap = (function () {
        function _DuplicateMap() {
            this.map = new Map();
        }
        _DuplicateMap.prototype.put = function (record) {
            var key = record.trackById;
            var duplicates = this.map.get(key);
            if (!duplicates) {
                duplicates = new _DuplicateItemRecordList();
                this.map.set(key, duplicates);
            }
            duplicates.add(record);
        };
        _DuplicateMap.prototype.get = function (trackById, afterIndex) {
            if (afterIndex === void 0) {
                afterIndex = null;
            }
            var key = trackById;
            var recordList = this.map.get(key);
            return recordList ? recordList.get(trackById, afterIndex) : null;
        };
        _DuplicateMap.prototype.remove = function (record) {
            var key = record.trackById;
            var recordList = this.map.get(key);
            if (recordList.remove(record)) {
                this.map.delete(key);
            }
            return record;
        };
        Object.defineProperty(_DuplicateMap.prototype, "isEmpty", {
            get: function () { return this.map.size === 0; },
            enumerable: true,
            configurable: true
        });
        _DuplicateMap.prototype.clear = function () { this.map.clear(); };
        _DuplicateMap.prototype.toString = function () { return '_DuplicateMap(' + stringify(this.map) + ')'; };
        return _DuplicateMap;
    }());
    function getPreviousIndex(item, addRemoveOffset, moveOffsets) {
        var previousIndex = item.previousIndex;
        if (previousIndex === null)
            return previousIndex;
        var moveOffset = 0;
        if (moveOffsets && previousIndex < moveOffsets.length) {
            moveOffset = moveOffsets[previousIndex];
        }
        return previousIndex + addRemoveOffset + moveOffset;
    }
    var DefaultKeyValueDifferFactory = (function () {
        function DefaultKeyValueDifferFactory() {
        }
        DefaultKeyValueDifferFactory.prototype.supports = function (obj) { return obj instanceof Map || isJsObject(obj); };
        DefaultKeyValueDifferFactory.prototype.create = function (cdRef) { return new DefaultKeyValueDiffer(); };
        return DefaultKeyValueDifferFactory;
    }());
    var DefaultKeyValueDiffer = (function () {
        function DefaultKeyValueDiffer() {
            this._records = new Map();
            this._mapHead = null;
            this._previousMapHead = null;
            this._changesHead = null;
            this._changesTail = null;
            this._additionsHead = null;
            this._additionsTail = null;
            this._removalsHead = null;
            this._removalsTail = null;
        }
        Object.defineProperty(DefaultKeyValueDiffer.prototype, "isDirty", {
            get: function () {
                return this._additionsHead !== null || this._changesHead !== null ||
                    this._removalsHead !== null;
            },
            enumerable: true,
            configurable: true
        });
        DefaultKeyValueDiffer.prototype.forEachItem = function (fn) {
            var record;
            for (record = this._mapHead; record !== null; record = record._next) {
                fn(record);
            }
        };
        DefaultKeyValueDiffer.prototype.forEachPreviousItem = function (fn) {
            var record;
            for (record = this._previousMapHead; record !== null; record = record._nextPrevious) {
                fn(record);
            }
        };
        DefaultKeyValueDiffer.prototype.forEachChangedItem = function (fn) {
            var record;
            for (record = this._changesHead; record !== null; record = record._nextChanged) {
                fn(record);
            }
        };
        DefaultKeyValueDiffer.prototype.forEachAddedItem = function (fn) {
            var record;
            for (record = this._additionsHead; record !== null; record = record._nextAdded) {
                fn(record);
            }
        };
        DefaultKeyValueDiffer.prototype.forEachRemovedItem = function (fn) {
            var record;
            for (record = this._removalsHead; record !== null; record = record._nextRemoved) {
                fn(record);
            }
        };
        DefaultKeyValueDiffer.prototype.diff = function (map) {
            if (!map) {
                map = new Map();
            }
            else if (!(map instanceof Map || isJsObject(map))) {
                throw new Error("Error trying to diff '" + map + "'");
            }
            return this.check(map) ? this : null;
        };
        DefaultKeyValueDiffer.prototype.onDestroy = function () { };
        DefaultKeyValueDiffer.prototype.check = function (map) {
            var _this = this;
            this._reset();
            var records = this._records;
            var oldSeqRecord = this._mapHead;
            var lastOldSeqRecord = null;
            var lastNewSeqRecord = null;
            var seqChanged = false;
            this._forEach(map, function (value, key) {
                var newSeqRecord;
                if (oldSeqRecord && key === oldSeqRecord.key) {
                    newSeqRecord = oldSeqRecord;
                    _this._maybeAddToChanges(newSeqRecord, value);
                }
                else {
                    seqChanged = true;
                    if (oldSeqRecord !== null) {
                        _this._removeFromSeq(lastOldSeqRecord, oldSeqRecord);
                        _this._addToRemovals(oldSeqRecord);
                    }
                    if (records.has(key)) {
                        newSeqRecord = records.get(key);
                        _this._maybeAddToChanges(newSeqRecord, value);
                    }
                    else {
                        newSeqRecord = new KeyValueChangeRecord(key);
                        records.set(key, newSeqRecord);
                        newSeqRecord.currentValue = value;
                        _this._addToAdditions(newSeqRecord);
                    }
                }
                if (seqChanged) {
                    if (_this._isInRemovals(newSeqRecord)) {
                        _this._removeFromRemovals(newSeqRecord);
                    }
                    if (lastNewSeqRecord == null) {
                        _this._mapHead = newSeqRecord;
                    }
                    else {
                        lastNewSeqRecord._next = newSeqRecord;
                    }
                }
                lastOldSeqRecord = oldSeqRecord;
                lastNewSeqRecord = newSeqRecord;
                oldSeqRecord = oldSeqRecord && oldSeqRecord._next;
            });
            this._truncate(lastOldSeqRecord, oldSeqRecord);
            return this.isDirty;
        };
        DefaultKeyValueDiffer.prototype._reset = function () {
            if (this.isDirty) {
                var record = void 0;
                for (record = this._previousMapHead = this._mapHead; record !== null; record = record._next) {
                    record._nextPrevious = record._next;
                }
                for (record = this._changesHead; record !== null; record = record._nextChanged) {
                    record.previousValue = record.currentValue;
                }
                for (record = this._additionsHead; record != null; record = record._nextAdded) {
                    record.previousValue = record.currentValue;
                }
                this._changesHead = this._changesTail = null;
                this._additionsHead = this._additionsTail = null;
                this._removalsHead = this._removalsTail = null;
            }
        };
        DefaultKeyValueDiffer.prototype._truncate = function (lastRecord, record) {
            while (record !== null) {
                if (lastRecord === null) {
                    this._mapHead = null;
                }
                else {
                    lastRecord._next = null;
                }
                var nextRecord = record._next;
                this._addToRemovals(record);
                lastRecord = record;
                record = nextRecord;
            }
            for (var rec = this._removalsHead; rec !== null; rec = rec._nextRemoved) {
                rec.previousValue = rec.currentValue;
                rec.currentValue = null;
                this._records.delete(rec.key);
            }
        };
        DefaultKeyValueDiffer.prototype._maybeAddToChanges = function (record, newValue) {
            if (!looseIdentical(newValue, record.currentValue)) {
                record.previousValue = record.currentValue;
                record.currentValue = newValue;
                this._addToChanges(record);
            }
        };
        DefaultKeyValueDiffer.prototype._isInRemovals = function (record) {
            return record === this._removalsHead || record._nextRemoved !== null ||
                record._prevRemoved !== null;
        };
        DefaultKeyValueDiffer.prototype._addToRemovals = function (record) {
            if (this._removalsHead === null) {
                this._removalsHead = this._removalsTail = record;
            }
            else {
                this._removalsTail._nextRemoved = record;
                record._prevRemoved = this._removalsTail;
                this._removalsTail = record;
            }
        };
        DefaultKeyValueDiffer.prototype._removeFromSeq = function (prev, record) {
            var next = record._next;
            if (prev === null) {
                this._mapHead = next;
            }
            else {
                prev._next = next;
            }
            record._next = null;
        };
        DefaultKeyValueDiffer.prototype._removeFromRemovals = function (record) {
            var prev = record._prevRemoved;
            var next = record._nextRemoved;
            if (prev === null) {
                this._removalsHead = next;
            }
            else {
                prev._nextRemoved = next;
            }
            if (next === null) {
                this._removalsTail = prev;
            }
            else {
                next._prevRemoved = prev;
            }
            record._prevRemoved = record._nextRemoved = null;
        };
        DefaultKeyValueDiffer.prototype._addToAdditions = function (record) {
            if (this._additionsHead === null) {
                this._additionsHead = this._additionsTail = record;
            }
            else {
                this._additionsTail._nextAdded = record;
                this._additionsTail = record;
            }
        };
        DefaultKeyValueDiffer.prototype._addToChanges = function (record) {
            if (this._changesHead === null) {
                this._changesHead = this._changesTail = record;
            }
            else {
                this._changesTail._nextChanged = record;
                this._changesTail = record;
            }
        };
        DefaultKeyValueDiffer.prototype.toString = function () {
            var items = [];
            var previous = [];
            var changes = [];
            var additions = [];
            var removals = [];
            var record;
            for (record = this._mapHead; record !== null; record = record._next) {
                items.push(stringify(record));
            }
            for (record = this._previousMapHead; record !== null; record = record._nextPrevious) {
                previous.push(stringify(record));
            }
            for (record = this._changesHead; record !== null; record = record._nextChanged) {
                changes.push(stringify(record));
            }
            for (record = this._additionsHead; record !== null; record = record._nextAdded) {
                additions.push(stringify(record));
            }
            for (record = this._removalsHead; record !== null; record = record._nextRemoved) {
                removals.push(stringify(record));
            }
            return 'map: ' + items.join(', ') + '\n' +
                'previous: ' + previous.join(', ') + '\n' +
                'additions: ' + additions.join(', ') + '\n' +
                'changes: ' + changes.join(', ') + '\n' +
                'removals: ' + removals.join(', ') + '\n';
        };
        DefaultKeyValueDiffer.prototype._forEach = function (obj, fn) {
            if (obj instanceof Map) {
                obj.forEach(fn);
            }
            else {
                Object.keys(obj).forEach(function (k) { return fn(obj[k], k); });
            }
        };
        return DefaultKeyValueDiffer;
    }());
    var KeyValueChangeRecord = (function () {
        function KeyValueChangeRecord(key) {
            this.key = key;
            this.previousValue = null;
            this.currentValue = null;
            this._nextPrevious = null;
            this._next = null;
            this._nextAdded = null;
            this._nextRemoved = null;
            this._prevRemoved = null;
            this._nextChanged = null;
        }
        KeyValueChangeRecord.prototype.toString = function () {
            return looseIdentical(this.previousValue, this.currentValue) ?
                stringify(this.key) :
                (stringify(this.key) + '[' + stringify(this.previousValue) + '->' +
                    stringify(this.currentValue) + ']');
        };
        return KeyValueChangeRecord;
    }());
    var IterableDiffers = (function () {
        function IterableDiffers(factories) {
            this.factories = factories;
        }
        IterableDiffers.create = function (factories, parent) {
            if (isPresent(parent)) {
                var copied = parent.factories.slice();
                factories = factories.concat(copied);
                return new IterableDiffers(factories);
            }
            else {
                return new IterableDiffers(factories);
            }
        };
        IterableDiffers.extend = function (factories) {
            return {
                provide: IterableDiffers,
                useFactory: function (parent) {
                    if (!parent) {
                        throw new Error('Cannot extend IterableDiffers without a parent injector');
                    }
                    return IterableDiffers.create(factories, parent);
                },
                deps: [[IterableDiffers, new SkipSelf(), new Optional()]]
            };
        };
        IterableDiffers.prototype.find = function (iterable) {
            var factory = this.factories.find(function (f) { return f.supports(iterable); });
            if (isPresent(factory)) {
                return factory;
            }
            else {
                throw new Error("Cannot find a differ supporting object '" + iterable + "' of type '" + getTypeNameForDebugging(iterable) + "'");
            }
        };
        return IterableDiffers;
    }());
    var KeyValueDiffers = (function () {
        function KeyValueDiffers(factories) {
            this.factories = factories;
        }
        KeyValueDiffers.create = function (factories, parent) {
            if (isPresent(parent)) {
                var copied = parent.factories.slice();
                factories = factories.concat(copied);
                return new KeyValueDiffers(factories);
            }
            else {
                return new KeyValueDiffers(factories);
            }
        };
        KeyValueDiffers.extend = function (factories) {
            return {
                provide: KeyValueDiffers,
                useFactory: function (parent) {
                    if (!parent) {
                        throw new Error('Cannot extend KeyValueDiffers without a parent injector');
                    }
                    return KeyValueDiffers.create(factories, parent);
                },
                deps: [[KeyValueDiffers, new SkipSelf(), new Optional()]]
            };
        };
        KeyValueDiffers.prototype.find = function (kv) {
            var factory = this.factories.find(function (f) { return f.supports(kv); });
            if (isPresent(factory)) {
                return factory;
            }
            else {
                throw new Error("Cannot find a differ supporting object '" + kv + "'");
            }
        };
        return KeyValueDiffers;
    }());
    var UNINITIALIZED = {
        toString: function () { return 'CD_INIT_VALUE'; }
    };
    function devModeEqual(a, b) {
        if (isListLikeIterable(a) && isListLikeIterable(b)) {
            return areIterablesEqual(a, b, devModeEqual);
        }
        else if (!isListLikeIterable(a) && !isPrimitive(a) && !isListLikeIterable(b) && !isPrimitive(b)) {
            return true;
        }
        else {
            return looseIdentical(a, b);
        }
    }
    var WrappedValue = (function () {
        function WrappedValue(wrapped) {
            this.wrapped = wrapped;
        }
        WrappedValue.wrap = function (value) { return new WrappedValue(value); };
        return WrappedValue;
    }());
    var ValueUnwrapper = (function () {
        function ValueUnwrapper() {
            this.hasWrappedValue = false;
        }
        ValueUnwrapper.prototype.unwrap = function (value) {
            if (value instanceof WrappedValue) {
                this.hasWrappedValue = true;
                return value.wrapped;
            }
            return value;
        };
        ValueUnwrapper.prototype.reset = function () { this.hasWrappedValue = false; };
        return ValueUnwrapper;
    }());
    var SimpleChange = (function () {
        function SimpleChange(previousValue, currentValue) {
            this.previousValue = previousValue;
            this.currentValue = currentValue;
        }
        SimpleChange.prototype.isFirstChange = function () { return this.previousValue === UNINITIALIZED; };
        return SimpleChange;
    }());
    var ChangeDetectorRef = (function () {
        function ChangeDetectorRef() {
        }
        ChangeDetectorRef.prototype.markForCheck = function () { };
        ChangeDetectorRef.prototype.detach = function () { };
        ChangeDetectorRef.prototype.detectChanges = function () { };
        ChangeDetectorRef.prototype.checkNoChanges = function () { };
        ChangeDetectorRef.prototype.reattach = function () { };
        return ChangeDetectorRef;
    }());
    var keyValDiff = [new DefaultKeyValueDifferFactory()];
    var iterableDiff = [new DefaultIterableDifferFactory()];
    var defaultIterableDiffers = new IterableDiffers(iterableDiff);
    var defaultKeyValueDiffers = new KeyValueDiffers(keyValDiff);
    var RenderComponentType = (function () {
        function RenderComponentType(id, templateUrl, slotCount, encapsulation, styles, animations) {
            this.id = id;
            this.templateUrl = templateUrl;
            this.slotCount = slotCount;
            this.encapsulation = encapsulation;
            this.styles = styles;
            this.animations = animations;
        }
        return RenderComponentType;
    }());
    var RenderDebugInfo = (function () {
        function RenderDebugInfo() {
        }
        Object.defineProperty(RenderDebugInfo.prototype, "injector", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RenderDebugInfo.prototype, "component", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RenderDebugInfo.prototype, "providerTokens", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RenderDebugInfo.prototype, "references", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RenderDebugInfo.prototype, "context", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RenderDebugInfo.prototype, "source", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        return RenderDebugInfo;
    }());
    var Renderer = (function () {
        function Renderer() {
        }
        Renderer.prototype.selectRootElement = function (selectorOrNode, debugInfo) { };
        Renderer.prototype.createElement = function (parentElement, name, debugInfo) { };
        Renderer.prototype.createViewRoot = function (hostElement) { };
        Renderer.prototype.createTemplateAnchor = function (parentElement, debugInfo) { };
        Renderer.prototype.createText = function (parentElement, value, debugInfo) { };
        Renderer.prototype.projectNodes = function (parentElement, nodes) { };
        Renderer.prototype.attachViewAfter = function (node, viewRootNodes) { };
        Renderer.prototype.detachView = function (viewRootNodes) { };
        Renderer.prototype.destroyView = function (hostElement, viewAllNodes) { };
        Renderer.prototype.listen = function (renderElement, name, callback) { };
        Renderer.prototype.listenGlobal = function (target, name, callback) { };
        Renderer.prototype.setElementProperty = function (renderElement, propertyName, propertyValue) { };
        Renderer.prototype.setElementAttribute = function (renderElement, attributeName, attributeValue) { };
        Renderer.prototype.setBindingDebugInfo = function (renderElement, propertyName, propertyValue) { };
        Renderer.prototype.setElementClass = function (renderElement, className, isAdd) { };
        Renderer.prototype.setElementStyle = function (renderElement, styleName, styleValue) { };
        Renderer.prototype.invokeElementMethod = function (renderElement, methodName, args) { };
        Renderer.prototype.setText = function (renderNode, text) { };
        Renderer.prototype.animate = function (element, startingStyles, keyframes, duration, delay, easing, previousPlayers) { };
        return Renderer;
    }());
    var RootRenderer = (function () {
        function RootRenderer() {
        }
        RootRenderer.prototype.renderComponent = function (componentType) { };
        return RootRenderer;
    }());
    var SecurityContext = {};
    SecurityContext.NONE = 0;
    SecurityContext.HTML = 1;
    SecurityContext.STYLE = 2;
    SecurityContext.SCRIPT = 3;
    SecurityContext.URL = 4;
    SecurityContext.RESOURCE_URL = 5;
    SecurityContext[SecurityContext.NONE] = "NONE";
    SecurityContext[SecurityContext.HTML] = "HTML";
    SecurityContext[SecurityContext.STYLE] = "STYLE";
    SecurityContext[SecurityContext.SCRIPT] = "SCRIPT";
    SecurityContext[SecurityContext.URL] = "URL";
    SecurityContext[SecurityContext.RESOURCE_URL] = "RESOURCE_URL";
    var Sanitizer = (function () {
        function Sanitizer() {
        }
        Sanitizer.prototype.sanitize = function (context, value) { };
        return Sanitizer;
    }());
    var __extends$12 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var ExpressionChangedAfterItHasBeenCheckedError = (function (_super) {
        __extends$12(ExpressionChangedAfterItHasBeenCheckedError, _super);
        function ExpressionChangedAfterItHasBeenCheckedError(oldValue, currValue) {
            var msg = "Expression has changed after it was checked. Previous value: '" + oldValue + "'. Current value: '" + currValue + "'.";
            if (oldValue === UNINITIALIZED) {
                msg +=
                    " It seems like the view has been created after its parent and its children have been dirty checked." +
                        " Has it been created in a change detection hook ?";
            }
            _super.call(this, msg);
        }
        return ExpressionChangedAfterItHasBeenCheckedError;
    }(BaseError));
    var ViewWrappedError = (function (_super) {
        __extends$12(ViewWrappedError, _super);
        function ViewWrappedError(originalError, context) {
            _super.call(this, "Error in " + context.source, originalError);
            this.context = context;
        }
        return ViewWrappedError;
    }(WrappedError));
    var ViewDestroyedError = (function (_super) {
        __extends$12(ViewDestroyedError, _super);
        function ViewDestroyedError(details) {
            _super.call(this, "Attempt to use a destroyed view: " + details);
        }
        return ViewDestroyedError;
    }(BaseError));
    var ViewUtils = (function () {
        function ViewUtils(_renderer, sanitizer, animationQueue) {
            this._renderer = _renderer;
            this.animationQueue = animationQueue;
            this.sanitizer = sanitizer;
        }
        ViewUtils.prototype.renderComponent = function (renderComponentType) {
            return this._renderer.renderComponent(renderComponentType);
        };
        ViewUtils.decorators = [
            { type: Injectable },
        ];
        ViewUtils.ctorParameters = function () {
            return [
                { type: RootRenderer, },
                { type: Sanitizer, },
                { type: AnimationQueue, },
            ];
        };
        return ViewUtils;
    }());
    var nextRenderComponentTypeId = 0;
    function createRenderComponentType(templateUrl, slotCount, encapsulation, styles, animations) {
        return new RenderComponentType("" + nextRenderComponentTypeId++, templateUrl, slotCount, encapsulation, styles, animations);
    }
    function addToArray(e, array) {
        array.push(e);
    }
    function interpolate(valueCount, constAndInterp) {
        var result = '';
        for (var i = 0; i < valueCount * 2; i = i + 2) {
            result = result + constAndInterp[i] + _toStringWithNull(constAndInterp[i + 1]);
        }
        return result + constAndInterp[valueCount * 2];
    }
    function inlineInterpolate(valueCount, c0, a1, c1, a2, c2, a3, c3, a4, c4, a5, c5, a6, c6, a7, c7, a8, c8, a9, c9) {
        switch (valueCount) {
            case 1:
                return c0 + _toStringWithNull(a1) + c1;
            case 2:
                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2;
            case 3:
                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +
                    c3;
            case 4:
                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +
                    c3 + _toStringWithNull(a4) + c4;
            case 5:
                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +
                    c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5;
            case 6:
                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +
                    c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) + c6;
            case 7:
                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +
                    c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) +
                    c6 + _toStringWithNull(a7) + c7;
            case 8:
                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +
                    c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) +
                    c6 + _toStringWithNull(a7) + c7 + _toStringWithNull(a8) + c8;
            case 9:
                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +
                    c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) +
                    c6 + _toStringWithNull(a7) + c7 + _toStringWithNull(a8) + c8 + _toStringWithNull(a9) + c9;
            default:
                throw new Error("Does not support more than 9 expressions");
        }
    }
    function _toStringWithNull(v) {
        return v != null ? v.toString() : '';
    }
    function checkBinding(throwOnChange, oldValue, newValue) {
        if (throwOnChange) {
            if (!devModeEqual(oldValue, newValue)) {
                throw new ExpressionChangedAfterItHasBeenCheckedError(oldValue, newValue);
            }
            return false;
        }
        else {
            return !looseIdentical(oldValue, newValue);
        }
    }
    function castByValue(input, value) {
        return (input);
    }
    var EMPTY_ARRAY = [];
    var EMPTY_MAP = {};
    function pureProxy1(fn) {
        var result;
        var v0 = UNINITIALIZED;
        return function (p0) {
            if (!looseIdentical(v0, p0)) {
                v0 = p0;
                result = fn(p0);
            }
            return result;
        };
    }
    function pureProxy2(fn) {
        var result;
        var v0 = UNINITIALIZED;
        var v1 = UNINITIALIZED;
        return function (p0, p1) {
            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1)) {
                v0 = p0;
                v1 = p1;
                result = fn(p0, p1);
            }
            return result;
        };
    }
    function pureProxy3(fn) {
        var result;
        var v0 = UNINITIALIZED;
        var v1 = UNINITIALIZED;
        var v2 = UNINITIALIZED;
        return function (p0, p1, p2) {
            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2)) {
                v0 = p0;
                v1 = p1;
                v2 = p2;
                result = fn(p0, p1, p2);
            }
            return result;
        };
    }
    function pureProxy4(fn) {
        var result;
        var v0, v1, v2, v3;
        v0 = v1 = v2 = v3 = UNINITIALIZED;
        return function (p0, p1, p2, p3) {
            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||
                !looseIdentical(v3, p3)) {
                v0 = p0;
                v1 = p1;
                v2 = p2;
                v3 = p3;
                result = fn(p0, p1, p2, p3);
            }
            return result;
        };
    }
    function pureProxy5(fn) {
        var result;
        var v0, v1, v2, v3, v4;
        v0 = v1 = v2 = v3 = v4 = UNINITIALIZED;
        return function (p0, p1, p2, p3, p4) {
            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||
                !looseIdentical(v3, p3) || !looseIdentical(v4, p4)) {
                v0 = p0;
                v1 = p1;
                v2 = p2;
                v3 = p3;
                v4 = p4;
                result = fn(p0, p1, p2, p3, p4);
            }
            return result;
        };
    }
    function pureProxy6(fn) {
        var result;
        var v0, v1, v2, v3, v4, v5;
        v0 = v1 = v2 = v3 = v4 = v5 = UNINITIALIZED;
        return function (p0, p1, p2, p3, p4, p5) {
            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||
                !looseIdentical(v3, p3) || !looseIdentical(v4, p4) || !looseIdentical(v5, p5)) {
                v0 = p0;
                v1 = p1;
                v2 = p2;
                v3 = p3;
                v4 = p4;
                v5 = p5;
                result = fn(p0, p1, p2, p3, p4, p5);
            }
            return result;
        };
    }
    function pureProxy7(fn) {
        var result;
        var v0, v1, v2, v3, v4, v5, v6;
        v0 = v1 = v2 = v3 = v4 = v5 = v6 = UNINITIALIZED;
        return function (p0, p1, p2, p3, p4, p5, p6) {
            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||
                !looseIdentical(v3, p3) || !looseIdentical(v4, p4) || !looseIdentical(v5, p5) ||
                !looseIdentical(v6, p6)) {
                v0 = p0;
                v1 = p1;
                v2 = p2;
                v3 = p3;
                v4 = p4;
                v5 = p5;
                v6 = p6;
                result = fn(p0, p1, p2, p3, p4, p5, p6);
            }
            return result;
        };
    }
    function pureProxy8(fn) {
        var result;
        var v0, v1, v2, v3, v4, v5, v6, v7;
        v0 = v1 = v2 = v3 = v4 = v5 = v6 = v7 = UNINITIALIZED;
        return function (p0, p1, p2, p3, p4, p5, p6, p7) {
            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||
                !looseIdentical(v3, p3) || !looseIdentical(v4, p4) || !looseIdentical(v5, p5) ||
                !looseIdentical(v6, p6) || !looseIdentical(v7, p7)) {
                v0 = p0;
                v1 = p1;
                v2 = p2;
                v3 = p3;
                v4 = p4;
                v5 = p5;
                v6 = p6;
                v7 = p7;
                result = fn(p0, p1, p2, p3, p4, p5, p6, p7);
            }
            return result;
        };
    }
    function pureProxy9(fn) {
        var result;
        var v0, v1, v2, v3, v4, v5, v6, v7, v8;
        v0 = v1 = v2 = v3 = v4 = v5 = v6 = v7 = v8 = UNINITIALIZED;
        return function (p0, p1, p2, p3, p4, p5, p6, p7, p8) {
            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||
                !looseIdentical(v3, p3) || !looseIdentical(v4, p4) || !looseIdentical(v5, p5) ||
                !looseIdentical(v6, p6) || !looseIdentical(v7, p7) || !looseIdentical(v8, p8)) {
                v0 = p0;
                v1 = p1;
                v2 = p2;
                v3 = p3;
                v4 = p4;
                v5 = p5;
                v6 = p6;
                v7 = p7;
                v8 = p8;
                result = fn(p0, p1, p2, p3, p4, p5, p6, p7, p8);
            }
            return result;
        };
    }
    function pureProxy10(fn) {
        var result;
        var v0, v1, v2, v3, v4, v5, v6, v7, v8, v9;
        v0 = v1 = v2 = v3 = v4 = v5 = v6 = v7 = v8 = v9 = UNINITIALIZED;
        return function (p0, p1, p2, p3, p4, p5, p6, p7, p8, p9) {
            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||
                !looseIdentical(v3, p3) || !looseIdentical(v4, p4) || !looseIdentical(v5, p5) ||
                !looseIdentical(v6, p6) || !looseIdentical(v7, p7) || !looseIdentical(v8, p8) ||
                !looseIdentical(v9, p9)) {
                v0 = p0;
                v1 = p1;
                v2 = p2;
                v3 = p3;
                v4 = p4;
                v5 = p5;
                v6 = p6;
                v7 = p7;
                v8 = p8;
                v9 = p9;
                result = fn(p0, p1, p2, p3, p4, p5, p6, p7, p8, p9);
            }
            return result;
        };
    }
    function setBindingDebugInfoForChanges(renderer, el, changes) {
        Object.keys(changes).forEach(function (propName) {
            setBindingDebugInfo(renderer, el, propName, changes[propName].currentValue);
        });
    }
    function setBindingDebugInfo(renderer, el, propName, value) {
        try {
            renderer.setBindingDebugInfo(el, "ng-reflect-" + camelCaseToDashCase(propName), value ? value.toString() : null);
        }
        catch (e) {
            renderer.setBindingDebugInfo(el, "ng-reflect-" + camelCaseToDashCase(propName), '[ERROR] Exception while trying to serialize the value');
        }
    }
    var CAMEL_CASE_REGEXP = /([A-Z])/g;
    function camelCaseToDashCase(input) {
        return input.replace(CAMEL_CASE_REGEXP, function () {
            var m = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                m[_i - 0] = arguments[_i];
            }
            return '-' + m[1].toLowerCase();
        });
    }
    function createRenderElement(renderer, parentElement, name, attrs, debugInfo) {
        var el = renderer.createElement(parentElement, name, debugInfo);
        for (var i = 0; i < attrs.length; i += 2) {
            renderer.setElementAttribute(el, attrs.get(i), attrs.get(i + 1));
        }
        return el;
    }
    function selectOrCreateRenderHostElement(renderer, elementName, attrs, rootSelectorOrNode, debugInfo) {
        var hostElement;
        if (isPresent(rootSelectorOrNode)) {
            hostElement = renderer.selectRootElement(rootSelectorOrNode, debugInfo);
            for (var i = 0; i < attrs.length; i += 2) {
                renderer.setElementAttribute(hostElement, attrs.get(i), attrs.get(i + 1));
            }
            renderer.setElementAttribute(hostElement, 'ng-version', VERSION.full);
        }
        else {
            hostElement = createRenderElement(renderer, null, elementName, attrs, debugInfo);
        }
        return hostElement;
    }
    function subscribeToRenderElement(view, element, eventNamesAndTargets, listener) {
        var disposables = createEmptyInlineArray(eventNamesAndTargets.length / 2);
        for (var i = 0; i < eventNamesAndTargets.length; i += 2) {
            var eventName = eventNamesAndTargets.get(i);
            var eventTarget = eventNamesAndTargets.get(i + 1);
            var disposable = void 0;
            if (eventTarget) {
                disposable = view.renderer.listenGlobal(eventTarget, eventName, listener.bind(view, eventTarget + ":" + eventName));
            }
            else {
                disposable = view.renderer.listen(element, eventName, listener.bind(view, eventName));
            }
            disposables.set(i / 2, disposable);
        }
        return disposeInlineArray.bind(null, disposables);
    }
    function disposeInlineArray(disposables) {
        for (var i = 0; i < disposables.length; i++) {
            disposables.get(i)();
        }
    }
    function noop() { }
    function createEmptyInlineArray(length) {
        var ctor;
        if (length <= 2) {
            ctor = InlineArray2;
        }
        else if (length <= 4) {
            ctor = InlineArray4;
        }
        else if (length <= 8) {
            ctor = InlineArray8;
        }
        else if (length <= 16) {
            ctor = InlineArray16;
        }
        else {
            ctor = InlineArrayDynamic;
        }
        return new ctor(length);
    }
    var InlineArray0 = (function () {
        function InlineArray0() {
            this.length = 0;
        }
        InlineArray0.prototype.get = function (index) { return undefined; };
        InlineArray0.prototype.set = function (index, value) { };
        return InlineArray0;
    }());
    var InlineArray2 = (function () {
        function InlineArray2(length, _v0, _v1) {
            this.length = length;
            this._v0 = _v0;
            this._v1 = _v1;
        }
        InlineArray2.prototype.get = function (index) {
            switch (index) {
                case 0:
                    return this._v0;
                case 1:
                    return this._v1;
                default:
                    return undefined;
            }
        };
        InlineArray2.prototype.set = function (index, value) {
            switch (index) {
                case 0:
                    this._v0 = value;
                    break;
                case 1:
                    this._v1 = value;
                    break;
            }
        };
        return InlineArray2;
    }());
    var InlineArray4 = (function () {
        function InlineArray4(length, _v0, _v1, _v2, _v3) {
            this.length = length;
            this._v0 = _v0;
            this._v1 = _v1;
            this._v2 = _v2;
            this._v3 = _v3;
        }
        InlineArray4.prototype.get = function (index) {
            switch (index) {
                case 0:
                    return this._v0;
                case 1:
                    return this._v1;
                case 2:
                    return this._v2;
                case 3:
                    return this._v3;
                default:
                    return undefined;
            }
        };
        InlineArray4.prototype.set = function (index, value) {
            switch (index) {
                case 0:
                    this._v0 = value;
                    break;
                case 1:
                    this._v1 = value;
                    break;
                case 2:
                    this._v2 = value;
                    break;
                case 3:
                    this._v3 = value;
                    break;
            }
        };
        return InlineArray4;
    }());
    var InlineArray8 = (function () {
        function InlineArray8(length, _v0, _v1, _v2, _v3, _v4, _v5, _v6, _v7) {
            this.length = length;
            this._v0 = _v0;
            this._v1 = _v1;
            this._v2 = _v2;
            this._v3 = _v3;
            this._v4 = _v4;
            this._v5 = _v5;
            this._v6 = _v6;
            this._v7 = _v7;
        }
        InlineArray8.prototype.get = function (index) {
            switch (index) {
                case 0:
                    return this._v0;
                case 1:
                    return this._v1;
                case 2:
                    return this._v2;
                case 3:
                    return this._v3;
                case 4:
                    return this._v4;
                case 5:
                    return this._v5;
                case 6:
                    return this._v6;
                case 7:
                    return this._v7;
                default:
                    return undefined;
            }
        };
        InlineArray8.prototype.set = function (index, value) {
            switch (index) {
                case 0:
                    this._v0 = value;
                    break;
                case 1:
                    this._v1 = value;
                    break;
                case 2:
                    this._v2 = value;
                    break;
                case 3:
                    this._v3 = value;
                    break;
                case 4:
                    this._v4 = value;
                    break;
                case 5:
                    this._v5 = value;
                    break;
                case 6:
                    this._v6 = value;
                    break;
                case 7:
                    this._v7 = value;
                    break;
            }
        };
        return InlineArray8;
    }());
    var InlineArray16 = (function () {
        function InlineArray16(length, _v0, _v1, _v2, _v3, _v4, _v5, _v6, _v7, _v8, _v9, _v10, _v11, _v12, _v13, _v14, _v15) {
            this.length = length;
            this._v0 = _v0;
            this._v1 = _v1;
            this._v2 = _v2;
            this._v3 = _v3;
            this._v4 = _v4;
            this._v5 = _v5;
            this._v6 = _v6;
            this._v7 = _v7;
            this._v8 = _v8;
            this._v9 = _v9;
            this._v10 = _v10;
            this._v11 = _v11;
            this._v12 = _v12;
            this._v13 = _v13;
            this._v14 = _v14;
            this._v15 = _v15;
        }
        InlineArray16.prototype.get = function (index) {
            switch (index) {
                case 0:
                    return this._v0;
                case 1:
                    return this._v1;
                case 2:
                    return this._v2;
                case 3:
                    return this._v3;
                case 4:
                    return this._v4;
                case 5:
                    return this._v5;
                case 6:
                    return this._v6;
                case 7:
                    return this._v7;
                case 8:
                    return this._v8;
                case 9:
                    return this._v9;
                case 10:
                    return this._v10;
                case 11:
                    return this._v11;
                case 12:
                    return this._v12;
                case 13:
                    return this._v13;
                case 14:
                    return this._v14;
                case 15:
                    return this._v15;
                default:
                    return undefined;
            }
        };
        InlineArray16.prototype.set = function (index, value) {
            switch (index) {
                case 0:
                    this._v0 = value;
                    break;
                case 1:
                    this._v1 = value;
                    break;
                case 2:
                    this._v2 = value;
                    break;
                case 3:
                    this._v3 = value;
                    break;
                case 4:
                    this._v4 = value;
                    break;
                case 5:
                    this._v5 = value;
                    break;
                case 6:
                    this._v6 = value;
                    break;
                case 7:
                    this._v7 = value;
                    break;
                case 8:
                    this._v8 = value;
                    break;
                case 9:
                    this._v9 = value;
                    break;
                case 10:
                    this._v10 = value;
                    break;
                case 11:
                    this._v11 = value;
                    break;
                case 12:
                    this._v12 = value;
                    break;
                case 13:
                    this._v13 = value;
                    break;
                case 14:
                    this._v14 = value;
                    break;
                case 15:
                    this._v15 = value;
                    break;
            }
        };
        return InlineArray16;
    }());
    var InlineArrayDynamic = (function () {
        function InlineArrayDynamic(length) {
            var values = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                values[_i - 1] = arguments[_i];
            }
            this.length = length;
            this._values = values;
        }
        InlineArrayDynamic.prototype.get = function (index) { return this._values[index]; };
        InlineArrayDynamic.prototype.set = function (index, value) { this._values[index] = value; };
        return InlineArrayDynamic;
    }());
    var EMPTY_INLINE_ARRAY = new InlineArray0();
    var view_utils = Object.freeze({
        ViewUtils: ViewUtils,
        createRenderComponentType: createRenderComponentType,
        addToArray: addToArray,
        interpolate: interpolate,
        inlineInterpolate: inlineInterpolate,
        checkBinding: checkBinding,
        castByValue: castByValue,
        EMPTY_ARRAY: EMPTY_ARRAY,
        EMPTY_MAP: EMPTY_MAP,
        pureProxy1: pureProxy1,
        pureProxy2: pureProxy2,
        pureProxy3: pureProxy3,
        pureProxy4: pureProxy4,
        pureProxy5: pureProxy5,
        pureProxy6: pureProxy6,
        pureProxy7: pureProxy7,
        pureProxy8: pureProxy8,
        pureProxy9: pureProxy9,
        pureProxy10: pureProxy10,
        setBindingDebugInfoForChanges: setBindingDebugInfoForChanges,
        setBindingDebugInfo: setBindingDebugInfo,
        createRenderElement: createRenderElement,
        selectOrCreateRenderHostElement: selectOrCreateRenderHostElement,
        subscribeToRenderElement: subscribeToRenderElement,
        noop: noop,
        InlineArray2: InlineArray2,
        InlineArray4: InlineArray4,
        InlineArray8: InlineArray8,
        InlineArray16: InlineArray16,
        InlineArrayDynamic: InlineArrayDynamic,
        EMPTY_INLINE_ARRAY: EMPTY_INLINE_ARRAY
    });
    var __extends$5 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var ComponentRef = (function () {
        function ComponentRef() {
        }
        Object.defineProperty(ComponentRef.prototype, "location", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ComponentRef.prototype, "injector", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ComponentRef.prototype, "instance", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ComponentRef.prototype, "hostView", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ComponentRef.prototype, "changeDetectorRef", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ComponentRef.prototype, "componentType", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        ComponentRef.prototype.destroy = function () { };
        ComponentRef.prototype.onDestroy = function (callback) { };
        return ComponentRef;
    }());
    var ComponentRef_ = (function (_super) {
        __extends$5(ComponentRef_, _super);
        function ComponentRef_(_index, _parentView, _nativeElement, _component) {
            _super.call(this);
            this._index = _index;
            this._parentView = _parentView;
            this._nativeElement = _nativeElement;
            this._component = _component;
        }
        Object.defineProperty(ComponentRef_.prototype, "location", {
            get: function () { return new ElementRef(this._nativeElement); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ComponentRef_.prototype, "injector", {
            get: function () { return this._parentView.injector(this._index); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ComponentRef_.prototype, "instance", {
            get: function () { return this._component; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ComponentRef_.prototype, "hostView", {
            get: function () { return this._parentView.ref; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ComponentRef_.prototype, "changeDetectorRef", {
            get: function () { return this._parentView.ref; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ComponentRef_.prototype, "componentType", {
            get: function () { return (this._component.constructor); },
            enumerable: true,
            configurable: true
        });
        ComponentRef_.prototype.destroy = function () { this._parentView.detachAndDestroy(); };
        ComponentRef_.prototype.onDestroy = function (callback) { this.hostView.onDestroy(callback); };
        return ComponentRef_;
    }(ComponentRef));
    var ComponentFactory = (function () {
        function ComponentFactory(selector, _viewClass, _componentType) {
            this.selector = selector;
            this._viewClass = _viewClass;
            this._componentType = _componentType;
        }
        Object.defineProperty(ComponentFactory.prototype, "componentType", {
            get: function () { return this._componentType; },
            enumerable: true,
            configurable: true
        });
        ComponentFactory.prototype.create = function (injector, projectableNodes, rootSelectorOrNode) {
            if (projectableNodes === void 0) {
                projectableNodes = null;
            }
            if (rootSelectorOrNode === void 0) {
                rootSelectorOrNode = null;
            }
            var vu = injector.get(ViewUtils);
            if (!projectableNodes) {
                projectableNodes = [];
            }
            var hostView = new this._viewClass(vu, null, null, null);
            return hostView.createHostView(rootSelectorOrNode, injector, projectableNodes);
        };
        return ComponentFactory;
    }());
    var __extends$13 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var NoComponentFactoryError = (function (_super) {
        __extends$13(NoComponentFactoryError, _super);
        function NoComponentFactoryError(component) {
            _super.call(this, "No component factory found for " + stringify(component) + ". Did you add it to @NgModule.entryComponents?");
            this.component = component;
        }
        return NoComponentFactoryError;
    }(BaseError));
    var _NullComponentFactoryResolver = (function () {
        function _NullComponentFactoryResolver() {
        }
        _NullComponentFactoryResolver.prototype.resolveComponentFactory = function (component) {
            throw new NoComponentFactoryError(component);
        };
        return _NullComponentFactoryResolver;
    }());
    var ComponentFactoryResolver = (function () {
        function ComponentFactoryResolver() {
        }
        ComponentFactoryResolver.prototype.resolveComponentFactory = function (component) { };
        ComponentFactoryResolver.NULL = new _NullComponentFactoryResolver();
        return ComponentFactoryResolver;
    }());
    var CodegenComponentFactoryResolver = (function () {
        function CodegenComponentFactoryResolver(factories, _parent) {
            this._parent = _parent;
            this._factories = new Map();
            for (var i = 0; i < factories.length; i++) {
                var factory = factories[i];
                this._factories.set(factory.componentType, factory);
            }
        }
        CodegenComponentFactoryResolver.prototype.resolveComponentFactory = function (component) {
            var result = this._factories.get(component);
            if (!result) {
                result = this._parent.resolveComponentFactory(component);
            }
            return result;
        };
        return CodegenComponentFactoryResolver;
    }());
    var trace;
    var events;
    function detectWTF() {
        var wtf = ((_global))['wtf'];
        if (wtf) {
            trace = wtf['trace'];
            if (trace) {
                events = trace['events'];
                return true;
            }
        }
        return false;
    }
    function createScope$1(signature, flags) {
        if (flags === void 0) {
            flags = null;
        }
        return events.createScope(signature, flags);
    }
    function leave(scope, returnValue) {
        trace.leaveScope(scope, returnValue);
        return returnValue;
    }
    var wtfEnabled = detectWTF();
    function noopScope(arg0, arg1) {
        return null;
    }
    var wtfCreateScope = wtfEnabled ? createScope$1 : function (signature, flags) { return noopScope; };
    var wtfLeave = wtfEnabled ? leave : function (s, r) { return r; };
    var Testability = (function () {
        function Testability(_ngZone) {
            this._ngZone = _ngZone;
            this._pendingCount = 0;
            this._isZoneStable = true;
            this._didWork = false;
            this._callbacks = [];
            this._watchAngularEvents();
        }
        Testability.prototype._watchAngularEvents = function () {
            var _this = this;
            this._ngZone.onUnstable.subscribe({
                next: function () {
                    _this._didWork = true;
                    _this._isZoneStable = false;
                }
            });
            this._ngZone.runOutsideAngular(function () {
                _this._ngZone.onStable.subscribe({
                    next: function () {
                        NgZone.assertNotInAngularZone();
                        scheduleMicroTask(function () {
                            _this._isZoneStable = true;
                            _this._runCallbacksIfReady();
                        });
                    }
                });
            });
        };
        Testability.prototype.increasePendingRequestCount = function () {
            this._pendingCount += 1;
            this._didWork = true;
            return this._pendingCount;
        };
        Testability.prototype.decreasePendingRequestCount = function () {
            this._pendingCount -= 1;
            if (this._pendingCount < 0) {
                throw new Error('pending async requests below zero');
            }
            this._runCallbacksIfReady();
            return this._pendingCount;
        };
        Testability.prototype.isStable = function () {
            return this._isZoneStable && this._pendingCount == 0 && !this._ngZone.hasPendingMacrotasks;
        };
        Testability.prototype._runCallbacksIfReady = function () {
            var _this = this;
            if (this.isStable()) {
                scheduleMicroTask(function () {
                    while (_this._callbacks.length !== 0) {
                        (_this._callbacks.pop())(_this._didWork);
                    }
                    _this._didWork = false;
                });
            }
            else {
                this._didWork = true;
            }
        };
        Testability.prototype.whenStable = function (callback) {
            this._callbacks.push(callback);
            this._runCallbacksIfReady();
        };
        Testability.prototype.getPendingRequestCount = function () { return this._pendingCount; };
        Testability.prototype.findBindings = function (using, provider, exactMatch) {
            return [];
        };
        Testability.prototype.findProviders = function (using, provider, exactMatch) {
            return [];
        };
        Testability.decorators = [
            { type: Injectable },
        ];
        Testability.ctorParameters = function () {
            return [
                { type: NgZone, },
            ];
        };
        return Testability;
    }());
    var TestabilityRegistry = (function () {
        function TestabilityRegistry() {
            this._applications = new Map();
            _testabilityGetter.addToWindow(this);
        }
        TestabilityRegistry.prototype.registerApplication = function (token, testability) {
            this._applications.set(token, testability);
        };
        TestabilityRegistry.prototype.getTestability = function (elem) { return this._applications.get(elem); };
        TestabilityRegistry.prototype.getAllTestabilities = function () { return Array.from(this._applications.values()); };
        TestabilityRegistry.prototype.getAllRootElements = function () { return Array.from(this._applications.keys()); };
        TestabilityRegistry.prototype.findTestabilityInTree = function (elem, findInAncestors) {
            if (findInAncestors === void 0) {
                findInAncestors = true;
            }
            return _testabilityGetter.findTestabilityInTree(this, elem, findInAncestors);
        };
        TestabilityRegistry.decorators = [
            { type: Injectable },
        ];
        TestabilityRegistry.ctorParameters = function () { return []; };
        return TestabilityRegistry;
    }());
    var _NoopGetTestability = (function () {
        function _NoopGetTestability() {
        }
        _NoopGetTestability.prototype.addToWindow = function (registry) { };
        _NoopGetTestability.prototype.findTestabilityInTree = function (registry, elem, findInAncestors) {
            return null;
        };
        return _NoopGetTestability;
    }());
    function setTestabilityGetter(getter) {
        _testabilityGetter = getter;
    }
    var _testabilityGetter = new _NoopGetTestability();
    var __extends$3 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var _devMode = true;
    var _runModeLocked = false;
    var _platform;
    function isDevMode() {
        _runModeLocked = true;
        return _devMode;
    }
    var NgProbeToken = (function () {
        function NgProbeToken(name, token) {
            this.name = name;
            this.token = token;
        }
        return NgProbeToken;
    }());
    function createPlatform(injector) {
        if (_platform && !_platform.destroyed) {
            throw new Error('There can be only one platform. Destroy the previous one to create a new one.');
        }
        _platform = injector.get(PlatformRef);
        var inits = (injector.get(PLATFORM_INITIALIZER, null));
        if (inits)
            inits.forEach(function (init) { return init(); });
        return _platform;
    }
    function createPlatformFactory(parentPlatformFactory, name, providers) {
        if (providers === void 0) {
            providers = [];
        }
        var marker = new OpaqueToken("Platform: " + name);
        return function (extraProviders) {
            if (extraProviders === void 0) {
                extraProviders = [];
            }
            if (!getPlatform()) {
                if (parentPlatformFactory) {
                    parentPlatformFactory(providers.concat(extraProviders).concat({ provide: marker, useValue: true }));
                }
                else {
                    createPlatform(ReflectiveInjector.resolveAndCreate(providers.concat(extraProviders).concat({ provide: marker, useValue: true })));
                }
            }
            return assertPlatform(marker);
        };
    }
    function assertPlatform(requiredToken) {
        var platform = getPlatform();
        if (!platform) {
            throw new Error('No platform exists!');
        }
        if (!platform.injector.get(requiredToken, null)) {
            throw new Error('A platform with a different configuration has been created. Please destroy it first.');
        }
        return platform;
    }
    function getPlatform() {
        return _platform && !_platform.destroyed ? _platform : null;
    }
    var PlatformRef = (function () {
        function PlatformRef() {
        }
        PlatformRef.prototype.bootstrapModuleFactory = function (moduleFactory) {
            throw unimplemented();
        };
        PlatformRef.prototype.bootstrapModule = function (moduleType, compilerOptions) {
            if (compilerOptions === void 0) {
                compilerOptions = [];
            }
            throw unimplemented();
        };
        PlatformRef.prototype.onDestroy = function (callback) { };
        Object.defineProperty(PlatformRef.prototype, "injector", {
            get: function () { throw unimplemented(); },
            enumerable: true,
            configurable: true
        });
        PlatformRef.prototype.destroy = function () { };
        Object.defineProperty(PlatformRef.prototype, "destroyed", {
            get: function () { throw unimplemented(); },
            enumerable: true,
            configurable: true
        });
        return PlatformRef;
    }());
    function _callAndReportToErrorHandler(errorHandler, callback) {
        try {
            var result = callback();
            if (isPromise(result)) {
                return result.catch(function (e) {
                    errorHandler.handleError(e);
                    throw e;
                });
            }
            return result;
        }
        catch (e) {
            errorHandler.handleError(e);
            throw e;
        }
    }
    var PlatformRef_ = (function (_super) {
        __extends$3(PlatformRef_, _super);
        function PlatformRef_(_injector) {
            _super.call(this);
            this._injector = _injector;
            this._modules = [];
            this._destroyListeners = [];
            this._destroyed = false;
        }
        PlatformRef_.prototype.onDestroy = function (callback) { this._destroyListeners.push(callback); };
        Object.defineProperty(PlatformRef_.prototype, "injector", {
            get: function () { return this._injector; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PlatformRef_.prototype, "destroyed", {
            get: function () { return this._destroyed; },
            enumerable: true,
            configurable: true
        });
        PlatformRef_.prototype.destroy = function () {
            if (this._destroyed) {
                throw new Error('The platform has already been destroyed!');
            }
            this._modules.slice().forEach(function (module) { return module.destroy(); });
            this._destroyListeners.forEach(function (listener) { return listener(); });
            this._destroyed = true;
        };
        PlatformRef_.prototype.bootstrapModuleFactory = function (moduleFactory) {
            return this._bootstrapModuleFactoryWithZone(moduleFactory, null);
        };
        PlatformRef_.prototype._bootstrapModuleFactoryWithZone = function (moduleFactory, ngZone) {
            var _this = this;
            if (!ngZone)
                ngZone = new NgZone({ enableLongStackTrace: isDevMode() });
            return ngZone.run(function () {
                var ngZoneInjector = ReflectiveInjector.resolveAndCreate([{ provide: NgZone, useValue: ngZone }], _this.injector);
                var moduleRef = (moduleFactory.create(ngZoneInjector));
                var exceptionHandler = moduleRef.injector.get(ErrorHandler, null);
                if (!exceptionHandler) {
                    throw new Error('No ErrorHandler. Is platform module (BrowserModule) included?');
                }
                moduleRef.onDestroy(function () { return ListWrapper.remove(_this._modules, moduleRef); });
                ngZone.onError.subscribe({ next: function (error) { exceptionHandler.handleError(error); } });
                return _callAndReportToErrorHandler(exceptionHandler, function () {
                    var initStatus = moduleRef.injector.get(ApplicationInitStatus);
                    return initStatus.donePromise.then(function () {
                        _this._moduleDoBootstrap(moduleRef);
                        return moduleRef;
                    });
                });
            });
        };
        PlatformRef_.prototype.bootstrapModule = function (moduleType, compilerOptions) {
            if (compilerOptions === void 0) {
                compilerOptions = [];
            }
            return this._bootstrapModuleWithZone(moduleType, compilerOptions, null);
        };
        PlatformRef_.prototype._bootstrapModuleWithZone = function (moduleType, compilerOptions, ngZone, componentFactoryCallback) {
            var _this = this;
            if (compilerOptions === void 0) {
                compilerOptions = [];
            }
            var compilerFactory = this.injector.get(CompilerFactory);
            var compiler = compilerFactory.createCompiler(Array.isArray(compilerOptions) ? compilerOptions : [compilerOptions]);
            if (componentFactoryCallback) {
                return compiler.compileModuleAndAllComponentsAsync(moduleType)
                    .then(function (_a) {
                    var ngModuleFactory = _a.ngModuleFactory, componentFactories = _a.componentFactories;
                    componentFactoryCallback(componentFactories);
                    return _this._bootstrapModuleFactoryWithZone(ngModuleFactory, ngZone);
                });
            }
            return compiler.compileModuleAsync(moduleType)
                .then(function (moduleFactory) { return _this._bootstrapModuleFactoryWithZone(moduleFactory, ngZone); });
        };
        PlatformRef_.prototype._moduleDoBootstrap = function (moduleRef) {
            var appRef = moduleRef.injector.get(ApplicationRef);
            if (moduleRef.bootstrapFactories.length > 0) {
                moduleRef.bootstrapFactories.forEach(function (compFactory) { return appRef.bootstrap(compFactory); });
            }
            else if (moduleRef.instance.ngDoBootstrap) {
                moduleRef.instance.ngDoBootstrap(appRef);
            }
            else {
                throw new Error(("The module " + stringify(moduleRef.instance.constructor) + " was bootstrapped, but it does not declare \"@NgModule.bootstrap\" components nor a \"ngDoBootstrap\" method. ") +
                    "Please define one of these.");
            }
        };
        PlatformRef_.decorators = [
            { type: Injectable },
        ];
        PlatformRef_.ctorParameters = function () {
            return [
                { type: Injector, },
            ];
        };
        return PlatformRef_;
    }(PlatformRef));
    var ApplicationRef = (function () {
        function ApplicationRef() {
        }
        ApplicationRef.prototype.bootstrap = function (componentFactory) { };
        ApplicationRef.prototype.tick = function () { };
        Object.defineProperty(ApplicationRef.prototype, "componentTypes", {
            get: function () { return (unimplemented()); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ApplicationRef.prototype, "components", {
            get: function () { return (unimplemented()); },
            enumerable: true,
            configurable: true
        });
        ApplicationRef.prototype.attachView = function (view) { unimplemented(); };
        ApplicationRef.prototype.detachView = function (view) { unimplemented(); };
        Object.defineProperty(ApplicationRef.prototype, "viewCount", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        return ApplicationRef;
    }());
    var ApplicationRef_ = (function (_super) {
        __extends$3(ApplicationRef_, _super);
        function ApplicationRef_(_zone, _console, _injector, _exceptionHandler, _componentFactoryResolver, _initStatus, _testabilityRegistry, _testability) {
            var _this = this;
            _super.call(this);
            this._zone = _zone;
            this._console = _console;
            this._injector = _injector;
            this._exceptionHandler = _exceptionHandler;
            this._componentFactoryResolver = _componentFactoryResolver;
            this._initStatus = _initStatus;
            this._testabilityRegistry = _testabilityRegistry;
            this._testability = _testability;
            this._bootstrapListeners = [];
            this._rootComponents = [];
            this._rootComponentTypes = [];
            this._views = [];
            this._runningTick = false;
            this._enforceNoNewChanges = false;
            this._enforceNoNewChanges = isDevMode();
            this._zone.onMicrotaskEmpty.subscribe({ next: function () { _this._zone.run(function () { _this.tick(); }); } });
        }
        ApplicationRef_.prototype.attachView = function (viewRef) {
            var view = ((viewRef)).internalView;
            this._views.push(view);
            view.attachToAppRef(this);
        };
        ApplicationRef_.prototype.detachView = function (viewRef) {
            var view = ((viewRef)).internalView;
            ListWrapper.remove(this._views, view);
            view.detach();
        };
        ApplicationRef_.prototype.bootstrap = function (componentOrFactory) {
            var _this = this;
            if (!this._initStatus.done) {
                throw new Error('Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.');
            }
            var componentFactory;
            if (componentOrFactory instanceof ComponentFactory) {
                componentFactory = componentOrFactory;
            }
            else {
                componentFactory = this._componentFactoryResolver.resolveComponentFactory(componentOrFactory);
            }
            this._rootComponentTypes.push(componentFactory.componentType);
            var compRef = componentFactory.create(this._injector, [], componentFactory.selector);
            compRef.onDestroy(function () { _this._unloadComponent(compRef); });
            var testability = compRef.injector.get(Testability, null);
            if (testability) {
                compRef.injector.get(TestabilityRegistry)
                    .registerApplication(compRef.location.nativeElement, testability);
            }
            this._loadComponent(compRef);
            if (isDevMode()) {
                this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode.");
            }
            return compRef;
        };
        ApplicationRef_.prototype._loadComponent = function (componentRef) {
            this.attachView(componentRef.hostView);
            this.tick();
            this._rootComponents.push(componentRef);
            var listeners = (this._injector.get(APP_BOOTSTRAP_LISTENER, [])
                .concat(this._bootstrapListeners));
            listeners.forEach(function (listener) { return listener(componentRef); });
        };
        ApplicationRef_.prototype._unloadComponent = function (componentRef) {
            this.detachView(componentRef.hostView);
            ListWrapper.remove(this._rootComponents, componentRef);
        };
        ApplicationRef_.prototype.tick = function () {
            if (this._runningTick) {
                throw new Error('ApplicationRef.tick is called recursively');
            }
            var scope = ApplicationRef_._tickScope();
            try {
                this._runningTick = true;
                this._views.forEach(function (view) { return view.ref.detectChanges(); });
                if (this._enforceNoNewChanges) {
                    this._views.forEach(function (view) { return view.ref.checkNoChanges(); });
                }
            }
            finally {
                this._runningTick = false;
                wtfLeave(scope);
            }
        };
        ApplicationRef_.prototype.ngOnDestroy = function () {
            this._views.slice().forEach(function (view) { return view.destroy(); });
        };
        Object.defineProperty(ApplicationRef_.prototype, "viewCount", {
            get: function () { return this._views.length; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ApplicationRef_.prototype, "componentTypes", {
            get: function () { return this._rootComponentTypes; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ApplicationRef_.prototype, "components", {
            get: function () { return this._rootComponents; },
            enumerable: true,
            configurable: true
        });
        ApplicationRef_._tickScope = wtfCreateScope('ApplicationRef#tick()');
        ApplicationRef_.decorators = [
            { type: Injectable },
        ];
        ApplicationRef_.ctorParameters = function () {
            return [
                { type: NgZone, },
                { type: Console, },
                { type: Injector, },
                { type: ErrorHandler, },
                { type: ComponentFactoryResolver, },
                { type: ApplicationInitStatus, },
                { type: TestabilityRegistry, decorators: [{ type: Optional },] },
                { type: Testability, decorators: [{ type: Optional },] },
            ];
        };
        return ApplicationRef_;
    }(ApplicationRef));
    var __extends$14 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var NgModuleRef = (function () {
        function NgModuleRef() {
        }
        Object.defineProperty(NgModuleRef.prototype, "injector", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgModuleRef.prototype, "componentFactoryResolver", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgModuleRef.prototype, "instance", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        NgModuleRef.prototype.destroy = function () { };
        NgModuleRef.prototype.onDestroy = function (callback) { };
        return NgModuleRef;
    }());
    var NgModuleFactory = (function () {
        function NgModuleFactory(_injectorClass, _moduleType) {
            this._injectorClass = _injectorClass;
            this._moduleType = _moduleType;
        }
        Object.defineProperty(NgModuleFactory.prototype, "moduleType", {
            get: function () { return this._moduleType; },
            enumerable: true,
            configurable: true
        });
        NgModuleFactory.prototype.create = function (parentInjector) {
            if (!parentInjector) {
                parentInjector = Injector.NULL;
            }
            var instance = new this._injectorClass(parentInjector);
            instance.create();
            return instance;
        };
        return NgModuleFactory;
    }());
    var _UNDEFINED = new Object();
    var NgModuleInjector = (function (_super) {
        __extends$14(NgModuleInjector, _super);
        function NgModuleInjector(parent, factories, bootstrapFactories) {
            _super.call(this, factories, parent.get(ComponentFactoryResolver, ComponentFactoryResolver.NULL));
            this.parent = parent;
            this.bootstrapFactories = bootstrapFactories;
            this._destroyListeners = [];
            this._destroyed = false;
        }
        NgModuleInjector.prototype.create = function () { this.instance = this.createInternal(); };
        NgModuleInjector.prototype.createInternal = function () { };
        NgModuleInjector.prototype.get = function (token, notFoundValue) {
            if (notFoundValue === void 0) {
                notFoundValue = THROW_IF_NOT_FOUND;
            }
            if (token === Injector || token === ComponentFactoryResolver) {
                return this;
            }
            var result = this.getInternal(token, _UNDEFINED);
            return result === _UNDEFINED ? this.parent.get(token, notFoundValue) : result;
        };
        NgModuleInjector.prototype.getInternal = function (token, notFoundValue) { };
        Object.defineProperty(NgModuleInjector.prototype, "injector", {
            get: function () { return this; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgModuleInjector.prototype, "componentFactoryResolver", {
            get: function () { return this; },
            enumerable: true,
            configurable: true
        });
        NgModuleInjector.prototype.destroy = function () {
            if (this._destroyed) {
                throw new Error("The ng module " + stringify(this.instance.constructor) + " has already been destroyed.");
            }
            this._destroyed = true;
            this.destroyInternal();
            this._destroyListeners.forEach(function (listener) { return listener(); });
        };
        NgModuleInjector.prototype.onDestroy = function (callback) { this._destroyListeners.push(callback); };
        NgModuleInjector.prototype.destroyInternal = function () { };
        return NgModuleInjector;
    }(CodegenComponentFactoryResolver));
    var NgModuleFactoryLoader = (function () {
        function NgModuleFactoryLoader() {
        }
        NgModuleFactoryLoader.prototype.load = function (path) { };
        return NgModuleFactoryLoader;
    }());
    var moduleFactories = new Map();
    function registerModuleFactory(id, factory) {
        var existing = moduleFactories.get(id);
        if (existing) {
            throw new Error("Duplicate module registered for " + id + " - " + existing.moduleType.name + " vs " + factory.moduleType.name);
        }
        moduleFactories.set(id, factory);
    }
    var QueryList = (function () {
        function QueryList() {
            this._dirty = true;
            this._results = [];
            this._emitter = new EventEmitter();
        }
        Object.defineProperty(QueryList.prototype, "changes", {
            get: function () { return this._emitter; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(QueryList.prototype, "length", {
            get: function () { return this._results.length; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(QueryList.prototype, "first", {
            get: function () { return this._results[0]; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(QueryList.prototype, "last", {
            get: function () { return this._results[this.length - 1]; },
            enumerable: true,
            configurable: true
        });
        QueryList.prototype.map = function (fn) { return this._results.map(fn); };
        QueryList.prototype.filter = function (fn) {
            return this._results.filter(fn);
        };
        QueryList.prototype.find = function (fn) { return this._results.find(fn); };
        QueryList.prototype.reduce = function (fn, init) {
            return this._results.reduce(fn, init);
        };
        QueryList.prototype.forEach = function (fn) { this._results.forEach(fn); };
        QueryList.prototype.some = function (fn) {
            return this._results.some(fn);
        };
        QueryList.prototype.toArray = function () { return this._results.slice(); };
        QueryList.prototype[getSymbolIterator()] = function () { return ((this._results))[getSymbolIterator()](); };
        QueryList.prototype.toString = function () { return this._results.toString(); };
        QueryList.prototype.reset = function (res) {
            this._results = ListWrapper.flatten(res);
            this._dirty = false;
        };
        QueryList.prototype.notifyOnChanges = function () { this._emitter.emit(this); };
        QueryList.prototype.setDirty = function () { this._dirty = true; };
        Object.defineProperty(QueryList.prototype, "dirty", {
            get: function () { return this._dirty; },
            enumerable: true,
            configurable: true
        });
        return QueryList;
    }());
    var _SEPARATOR = '#';
    var FACTORY_CLASS_SUFFIX = 'NgFactory';
    var SystemJsNgModuleLoaderConfig = (function () {
        function SystemJsNgModuleLoaderConfig() {
        }
        return SystemJsNgModuleLoaderConfig;
    }());
    var DEFAULT_CONFIG = {
        factoryPathPrefix: '',
        factoryPathSuffix: '.ngfactory',
    };
    var SystemJsNgModuleLoader = (function () {
        function SystemJsNgModuleLoader(_compiler, config) {
            this._compiler = _compiler;
            this._config = config || DEFAULT_CONFIG;
        }
        SystemJsNgModuleLoader.prototype.load = function (path) {
            var offlineMode = this._compiler instanceof Compiler;
            return offlineMode ? this.loadFactory(path) : this.loadAndCompile(path);
        };
        SystemJsNgModuleLoader.prototype.loadAndCompile = function (path) {
            var _this = this;
            var _a = path.split(_SEPARATOR), module = _a[0], exportName = _a[1];
            if (exportName === undefined) {
                exportName = 'default';
            }
            return System.import(module)
                .then(function (module) { return module[exportName]; })
                .then(function (type) { return checkNotEmpty(type, module, exportName); })
                .then(function (type) { return _this._compiler.compileModuleAsync(type); });
        };
        SystemJsNgModuleLoader.prototype.loadFactory = function (path) {
            var _a = path.split(_SEPARATOR), module = _a[0], exportName = _a[1];
            var factoryClassSuffix = FACTORY_CLASS_SUFFIX;
            if (exportName === undefined) {
                exportName = 'default';
                factoryClassSuffix = '';
            }
            return System.import(this._config.factoryPathPrefix + module + this._config.factoryPathSuffix)
                .then(function (module) { return module[exportName + factoryClassSuffix]; })
                .then(function (factory) { return checkNotEmpty(factory, module, exportName); });
        };
        SystemJsNgModuleLoader.decorators = [
            { type: Injectable },
        ];
        SystemJsNgModuleLoader.ctorParameters = function () {
            return [
                { type: Compiler, },
                { type: SystemJsNgModuleLoaderConfig, decorators: [{ type: Optional },] },
            ];
        };
        return SystemJsNgModuleLoader;
    }());
    function checkNotEmpty(value, modulePath, exportName) {
        if (!value) {
            throw new Error("Cannot find '" + exportName + "' in '" + modulePath + "'");
        }
        return value;
    }
    var __extends$15 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var TemplateRef = (function () {
        function TemplateRef() {
        }
        Object.defineProperty(TemplateRef.prototype, "elementRef", {
            get: function () { return null; },
            enumerable: true,
            configurable: true
        });
        TemplateRef.prototype.createEmbeddedView = function (context) { };
        return TemplateRef;
    }());
    var TemplateRef_ = (function (_super) {
        __extends$15(TemplateRef_, _super);
        function TemplateRef_(_parentView, _nodeIndex, _nativeElement) {
            _super.call(this);
            this._parentView = _parentView;
            this._nodeIndex = _nodeIndex;
            this._nativeElement = _nativeElement;
        }
        TemplateRef_.prototype.createEmbeddedView = function (context) {
            var view = this._parentView.createEmbeddedViewInternal(this._nodeIndex);
            view.create(context || ({}));
            return view.ref;
        };
        Object.defineProperty(TemplateRef_.prototype, "elementRef", {
            get: function () { return new ElementRef(this._nativeElement); },
            enumerable: true,
            configurable: true
        });
        return TemplateRef_;
    }(TemplateRef));
    var ViewContainerRef = (function () {
        function ViewContainerRef() {
        }
        Object.defineProperty(ViewContainerRef.prototype, "element", {
            get: function () { return (unimplemented()); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewContainerRef.prototype, "injector", {
            get: function () { return (unimplemented()); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewContainerRef.prototype, "parentInjector", {
            get: function () { return (unimplemented()); },
            enumerable: true,
            configurable: true
        });
        ViewContainerRef.prototype.clear = function () { };
        ViewContainerRef.prototype.get = function (index) { };
        Object.defineProperty(ViewContainerRef.prototype, "length", {
            get: function () { return (unimplemented()); },
            enumerable: true,
            configurable: true
        });
        ViewContainerRef.prototype.createEmbeddedView = function (templateRef, context, index) { };
        ViewContainerRef.prototype.createComponent = function (componentFactory, index, injector, projectableNodes) { };
        ViewContainerRef.prototype.insert = function (viewRef, index) { };
        ViewContainerRef.prototype.move = function (viewRef, currentIndex) { };
        ViewContainerRef.prototype.indexOf = function (viewRef) { };
        ViewContainerRef.prototype.remove = function (index) { };
        ViewContainerRef.prototype.detach = function (index) { };
        return ViewContainerRef;
    }());
    var ViewContainerRef_ = (function () {
        function ViewContainerRef_(_element) {
            this._element = _element;
            this._createComponentInContainerScope = wtfCreateScope('ViewContainerRef#createComponent()');
            this._insertScope = wtfCreateScope('ViewContainerRef#insert()');
            this._removeScope = wtfCreateScope('ViewContainerRef#remove()');
            this._detachScope = wtfCreateScope('ViewContainerRef#detach()');
        }
        ViewContainerRef_.prototype.get = function (index) { return this._element.nestedViews[index].ref; };
        Object.defineProperty(ViewContainerRef_.prototype, "length", {
            get: function () {
                var views = this._element.nestedViews;
                return isPresent(views) ? views.length : 0;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewContainerRef_.prototype, "element", {
            get: function () { return this._element.elementRef; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewContainerRef_.prototype, "injector", {
            get: function () { return this._element.injector; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewContainerRef_.prototype, "parentInjector", {
            get: function () { return this._element.parentInjector; },
            enumerable: true,
            configurable: true
        });
        ViewContainerRef_.prototype.createEmbeddedView = function (templateRef, context, index) {
            if (context === void 0) {
                context = null;
            }
            if (index === void 0) {
                index = -1;
            }
            var viewRef = templateRef.createEmbeddedView(context);
            this.insert(viewRef, index);
            return viewRef;
        };
        ViewContainerRef_.prototype.createComponent = function (componentFactory, index, injector, projectableNodes) {
            if (index === void 0) {
                index = -1;
            }
            if (injector === void 0) {
                injector = null;
            }
            if (projectableNodes === void 0) {
                projectableNodes = null;
            }
            var s = this._createComponentInContainerScope();
            var contextInjector = injector || this._element.parentInjector;
            var componentRef = componentFactory.create(contextInjector, projectableNodes);
            this.insert(componentRef.hostView, index);
            return wtfLeave(s, componentRef);
        };
        ViewContainerRef_.prototype.insert = function (viewRef, index) {
            if (index === void 0) {
                index = -1;
            }
            var s = this._insertScope();
            if (index == -1)
                index = this.length;
            var viewRef_ = (viewRef);
            this._element.attachView(viewRef_.internalView, index);
            return wtfLeave(s, viewRef_);
        };
        ViewContainerRef_.prototype.move = function (viewRef, currentIndex) {
            var s = this._insertScope();
            if (currentIndex == -1)
                return;
            var viewRef_ = (viewRef);
            this._element.moveView(viewRef_.internalView, currentIndex);
            return wtfLeave(s, viewRef_);
        };
        ViewContainerRef_.prototype.indexOf = function (viewRef) {
            return this._element.nestedViews.indexOf(((viewRef)).internalView);
        };
        ViewContainerRef_.prototype.remove = function (index) {
            if (index === void 0) {
                index = -1;
            }
            var s = this._removeScope();
            if (index == -1)
                index = this.length - 1;
            var view = this._element.detachView(index);
            view.destroy();
            wtfLeave(s);
        };
        ViewContainerRef_.prototype.detach = function (index) {
            if (index === void 0) {
                index = -1;
            }
            var s = this._detachScope();
            if (index == -1)
                index = this.length - 1;
            var view = this._element.detachView(index);
            return wtfLeave(s, view.ref);
        };
        ViewContainerRef_.prototype.clear = function () {
            for (var i = this.length - 1; i >= 0; i--) {
                this.remove(i);
            }
        };
        return ViewContainerRef_;
    }());
    var __extends$16 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var ViewRef = (function (_super) {
        __extends$16(ViewRef, _super);
        function ViewRef() {
            _super.apply(this, arguments);
        }
        ViewRef.prototype.destroy = function () { };
        Object.defineProperty(ViewRef.prototype, "destroyed", {
            get: function () { return (unimplemented()); },
            enumerable: true,
            configurable: true
        });
        ViewRef.prototype.onDestroy = function (callback) { };
        return ViewRef;
    }(ChangeDetectorRef));
    var EmbeddedViewRef = (function (_super) {
        __extends$16(EmbeddedViewRef, _super);
        function EmbeddedViewRef() {
            _super.apply(this, arguments);
        }
        Object.defineProperty(EmbeddedViewRef.prototype, "context", {
            get: function () { return unimplemented(); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(EmbeddedViewRef.prototype, "rootNodes", {
            get: function () { return (unimplemented()); },
            enumerable: true,
            configurable: true
        });
        return EmbeddedViewRef;
    }(ViewRef));
    var ViewRef_ = (function () {
        function ViewRef_(_view, animationQueue) {
            this._view = _view;
            this.animationQueue = animationQueue;
            this._view = _view;
            this._originalMode = this._view.cdMode;
        }
        Object.defineProperty(ViewRef_.prototype, "internalView", {
            get: function () { return this._view; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewRef_.prototype, "rootNodes", {
            get: function () { return this._view.flatRootNodes; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewRef_.prototype, "context", {
            get: function () { return this._view.context; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewRef_.prototype, "destroyed", {
            get: function () { return this._view.destroyed; },
            enumerable: true,
            configurable: true
        });
        ViewRef_.prototype.markForCheck = function () { this._view.markPathToRootAsCheckOnce(); };
        ViewRef_.prototype.detach = function () { this._view.cdMode = ChangeDetectorStatus.Detached; };
        ViewRef_.prototype.detectChanges = function () {
            this._view.detectChanges(false);
            this.animationQueue.flush();
        };
        ViewRef_.prototype.checkNoChanges = function () { this._view.detectChanges(true); };
        ViewRef_.prototype.reattach = function () {
            this._view.cdMode = this._originalMode;
            this.markForCheck();
        };
        ViewRef_.prototype.onDestroy = function (callback) {
            if (!this._view.disposables) {
                this._view.disposables = [];
            }
            this._view.disposables.push(callback);
        };
        ViewRef_.prototype.destroy = function () { this._view.detachAndDestroy(); };
        return ViewRef_;
    }());
    var __extends$17 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var EventListener = (function () {
        function EventListener(name, callback) {
            this.name = name;
            this.callback = callback;
        }
        return EventListener;
    }());
    var DebugNode = (function () {
        function DebugNode(nativeNode, parent, _debugInfo) {
            this._debugInfo = _debugInfo;
            this.nativeNode = nativeNode;
            if (parent && parent instanceof DebugElement) {
                parent.addChild(this);
            }
            else {
                this.parent = null;
            }
            this.listeners = [];
        }
        Object.defineProperty(DebugNode.prototype, "injector", {
            get: function () { return this._debugInfo ? this._debugInfo.injector : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugNode.prototype, "componentInstance", {
            get: function () { return this._debugInfo ? this._debugInfo.component : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugNode.prototype, "context", {
            get: function () { return this._debugInfo ? this._debugInfo.context : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugNode.prototype, "references", {
            get: function () {
                return this._debugInfo ? this._debugInfo.references : null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugNode.prototype, "providerTokens", {
            get: function () { return this._debugInfo ? this._debugInfo.providerTokens : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugNode.prototype, "source", {
            get: function () { return this._debugInfo ? this._debugInfo.source : null; },
            enumerable: true,
            configurable: true
        });
        return DebugNode;
    }());
    var DebugElement = (function (_super) {
        __extends$17(DebugElement, _super);
        function DebugElement(nativeNode, parent, _debugInfo) {
            _super.call(this, nativeNode, parent, _debugInfo);
            this.properties = {};
            this.attributes = {};
            this.classes = {};
            this.styles = {};
            this.childNodes = [];
            this.nativeElement = nativeNode;
        }
        DebugElement.prototype.addChild = function (child) {
            if (child) {
                this.childNodes.push(child);
                child.parent = this;
            }
        };
        DebugElement.prototype.removeChild = function (child) {
            var childIndex = this.childNodes.indexOf(child);
            if (childIndex !== -1) {
                child.parent = null;
                this.childNodes.splice(childIndex, 1);
            }
        };
        DebugElement.prototype.insertChildrenAfter = function (child, newChildren) {
            var siblingIndex = this.childNodes.indexOf(child);
            if (siblingIndex !== -1) {
                var previousChildren = this.childNodes.slice(0, siblingIndex + 1);
                var nextChildren = this.childNodes.slice(siblingIndex + 1);
                this.childNodes = previousChildren.concat(newChildren, nextChildren);
                for (var i = 0; i < newChildren.length; ++i) {
                    var newChild = newChildren[i];
                    if (newChild.parent) {
                        newChild.parent.removeChild(newChild);
                    }
                    newChild.parent = this;
                }
            }
        };
        DebugElement.prototype.query = function (predicate) {
            var results = this.queryAll(predicate);
            return results[0] || null;
        };
        DebugElement.prototype.queryAll = function (predicate) {
            var matches = [];
            _queryElementChildren(this, predicate, matches);
            return matches;
        };
        DebugElement.prototype.queryAllNodes = function (predicate) {
            var matches = [];
            _queryNodeChildren(this, predicate, matches);
            return matches;
        };
        Object.defineProperty(DebugElement.prototype, "children", {
            get: function () {
                return (this.childNodes.filter(function (node) { return node instanceof DebugElement; }));
            },
            enumerable: true,
            configurable: true
        });
        DebugElement.prototype.triggerEventHandler = function (eventName, eventObj) {
            this.listeners.forEach(function (listener) {
                if (listener.name == eventName) {
                    listener.callback(eventObj);
                }
            });
        };
        return DebugElement;
    }(DebugNode));
    function _queryElementChildren(element, predicate, matches) {
        element.childNodes.forEach(function (node) {
            if (node instanceof DebugElement) {
                if (predicate(node)) {
                    matches.push(node);
                }
                _queryElementChildren(node, predicate, matches);
            }
        });
    }
    function _queryNodeChildren(parentNode, predicate, matches) {
        if (parentNode instanceof DebugElement) {
            parentNode.childNodes.forEach(function (node) {
                if (predicate(node)) {
                    matches.push(node);
                }
                if (node instanceof DebugElement) {
                    _queryNodeChildren(node, predicate, matches);
                }
            });
        }
    }
    var _nativeNodeToDebugNode = new Map();
    function getDebugNode(nativeNode) {
        return _nativeNodeToDebugNode.get(nativeNode);
    }
    function indexDebugNode(node) {
        _nativeNodeToDebugNode.set(node.nativeNode, node);
    }
    function removeDebugNodeFromIndex(node) {
        _nativeNodeToDebugNode.delete(node.nativeNode);
    }
    function _reflector() {
        return reflector;
    }
    var _CORE_PLATFORM_PROVIDERS = [
        PlatformRef_,
        { provide: PlatformRef, useExisting: PlatformRef_ },
        { provide: Reflector, useFactory: _reflector, deps: [] },
        { provide: ReflectorReader, useExisting: Reflector },
        TestabilityRegistry,
        Console,
    ];
    var platformCore = createPlatformFactory(null, 'core', _CORE_PLATFORM_PROVIDERS);
    var LOCALE_ID = new OpaqueToken('LocaleId');
    var TRANSLATIONS = new OpaqueToken('Translations');
    var TRANSLATIONS_FORMAT = new OpaqueToken('TranslationsFormat');
    function _iterableDiffersFactory() {
        return defaultIterableDiffers;
    }
    function _keyValueDiffersFactory() {
        return defaultKeyValueDiffers;
    }
    function _localeFactory(locale) {
        return locale || 'en-US';
    }
    var ApplicationModule = (function () {
        function ApplicationModule() {
        }
        ApplicationModule.decorators = [
            { type: NgModule, args: [{
                        providers: [
                            ApplicationRef_,
                            { provide: ApplicationRef, useExisting: ApplicationRef_ },
                            ApplicationInitStatus,
                            Compiler,
                            APP_ID_RANDOM_PROVIDER,
                            ViewUtils,
                            AnimationQueue,
                            { provide: IterableDiffers, useFactory: _iterableDiffersFactory },
                            { provide: KeyValueDiffers, useFactory: _keyValueDiffersFactory },
                            {
                                provide: LOCALE_ID,
                                useFactory: _localeFactory,
                                deps: [[new Inject(LOCALE_ID), new Optional(), new SkipSelf()]]
                            },
                        ]
                    },] },
        ];
        ApplicationModule.ctorParameters = function () { return []; };
        return ApplicationModule;
    }());
    var FILL_STYLE_FLAG = 'true';
    var ANY_STATE = '*';
    var DEFAULT_STATE = '*';
    var EMPTY_STATE = 'void';
    var AnimationGroupPlayer = (function () {
        function AnimationGroupPlayer(_players) {
            var _this = this;
            this._players = _players;
            this._onDoneFns = [];
            this._onStartFns = [];
            this._finished = false;
            this._started = false;
            this._destroyed = false;
            this.parentPlayer = null;
            var count = 0;
            var total = this._players.length;
            if (total == 0) {
                scheduleMicroTask(function () { return _this._onFinish(); });
            }
            else {
                this._players.forEach(function (player) {
                    player.parentPlayer = _this;
                    player.onDone(function () {
                        if (++count >= total) {
                            _this._onFinish();
                        }
                    });
                });
            }
        }
        AnimationGroupPlayer.prototype._onFinish = function () {
            if (!this._finished) {
                this._finished = true;
                this._onDoneFns.forEach(function (fn) { return fn(); });
                this._onDoneFns = [];
            }
        };
        AnimationGroupPlayer.prototype.init = function () { this._players.forEach(function (player) { return player.init(); }); };
        AnimationGroupPlayer.prototype.onStart = function (fn) { this._onStartFns.push(fn); };
        AnimationGroupPlayer.prototype.onDone = function (fn) { this._onDoneFns.push(fn); };
        AnimationGroupPlayer.prototype.hasStarted = function () { return this._started; };
        AnimationGroupPlayer.prototype.play = function () {
            if (!isPresent(this.parentPlayer)) {
                this.init();
            }
            if (!this.hasStarted()) {
                this._onStartFns.forEach(function (fn) { return fn(); });
                this._onStartFns = [];
                this._started = true;
            }
            this._players.forEach(function (player) { return player.play(); });
        };
        AnimationGroupPlayer.prototype.pause = function () { this._players.forEach(function (player) { return player.pause(); }); };
        AnimationGroupPlayer.prototype.restart = function () { this._players.forEach(function (player) { return player.restart(); }); };
        AnimationGroupPlayer.prototype.finish = function () {
            this._onFinish();
            this._players.forEach(function (player) { return player.finish(); });
        };
        AnimationGroupPlayer.prototype.destroy = function () {
            if (!this._destroyed) {
                this._onFinish();
                this._players.forEach(function (player) { return player.destroy(); });
                this._destroyed = true;
            }
        };
        AnimationGroupPlayer.prototype.reset = function () {
            this._players.forEach(function (player) { return player.reset(); });
            this._destroyed = false;
            this._finished = false;
            this._started = false;
        };
        AnimationGroupPlayer.prototype.setPosition = function (p) {
            this._players.forEach(function (player) { player.setPosition(p); });
        };
        AnimationGroupPlayer.prototype.getPosition = function () {
            var min = 0;
            this._players.forEach(function (player) {
                var p = player.getPosition();
                min = Math.min(p, min);
            });
            return min;
        };
        Object.defineProperty(AnimationGroupPlayer.prototype, "players", {
            get: function () { return this._players; },
            enumerable: true,
            configurable: true
        });
        return AnimationGroupPlayer;
    }());
    var AnimationKeyframe = (function () {
        function AnimationKeyframe(offset, styles) {
            this.offset = offset;
            this.styles = styles;
        }
        return AnimationKeyframe;
    }());
    var AnimationPlayer = (function () {
        function AnimationPlayer() {
        }
        AnimationPlayer.prototype.onDone = function (fn) { };
        AnimationPlayer.prototype.onStart = function (fn) { };
        AnimationPlayer.prototype.init = function () { };
        AnimationPlayer.prototype.hasStarted = function () { };
        AnimationPlayer.prototype.play = function () { };
        AnimationPlayer.prototype.pause = function () { };
        AnimationPlayer.prototype.restart = function () { };
        AnimationPlayer.prototype.finish = function () { };
        AnimationPlayer.prototype.destroy = function () { };
        AnimationPlayer.prototype.reset = function () { };
        AnimationPlayer.prototype.setPosition = function (p) { };
        AnimationPlayer.prototype.getPosition = function () { };
        Object.defineProperty(AnimationPlayer.prototype, "parentPlayer", {
            get: function () { throw new Error('NOT IMPLEMENTED: Base Class'); },
            set: function (player) { throw new Error('NOT IMPLEMENTED: Base Class'); },
            enumerable: true,
            configurable: true
        });
        return AnimationPlayer;
    }());
    var NoOpAnimationPlayer = (function () {
        function NoOpAnimationPlayer() {
            var _this = this;
            this._onDoneFns = [];
            this._onStartFns = [];
            this._started = false;
            this.parentPlayer = null;
            scheduleMicroTask(function () { return _this._onFinish(); });
        }
        NoOpAnimationPlayer.prototype._onFinish = function () {
            this._onDoneFns.forEach(function (fn) { return fn(); });
            this._onDoneFns = [];
        };
        NoOpAnimationPlayer.prototype.onStart = function (fn) { this._onStartFns.push(fn); };
        NoOpAnimationPlayer.prototype.onDone = function (fn) { this._onDoneFns.push(fn); };
        NoOpAnimationPlayer.prototype.hasStarted = function () { return this._started; };
        NoOpAnimationPlayer.prototype.init = function () { };
        NoOpAnimationPlayer.prototype.play = function () {
            if (!this.hasStarted()) {
                this._onStartFns.forEach(function (fn) { return fn(); });
                this._onStartFns = [];
            }
            this._started = true;
        };
        NoOpAnimationPlayer.prototype.pause = function () { };
        NoOpAnimationPlayer.prototype.restart = function () { };
        NoOpAnimationPlayer.prototype.finish = function () { this._onFinish(); };
        NoOpAnimationPlayer.prototype.destroy = function () { };
        NoOpAnimationPlayer.prototype.reset = function () { };
        NoOpAnimationPlayer.prototype.setPosition = function (p) { };
        NoOpAnimationPlayer.prototype.getPosition = function () { return 0; };
        return NoOpAnimationPlayer;
    }());
    var AnimationSequencePlayer = (function () {
        function AnimationSequencePlayer(_players) {
            var _this = this;
            this._players = _players;
            this._currentIndex = 0;
            this._onDoneFns = [];
            this._onStartFns = [];
            this._finished = false;
            this._started = false;
            this._destroyed = false;
            this.parentPlayer = null;
            this._players.forEach(function (player) { player.parentPlayer = _this; });
            this._onNext(false);
        }
        AnimationSequencePlayer.prototype._onNext = function (start) {
            var _this = this;
            if (this._finished)
                return;
            if (this._players.length == 0) {
                this._activePlayer = new NoOpAnimationPlayer();
                scheduleMicroTask(function () { return _this._onFinish(); });
            }
            else if (this._currentIndex >= this._players.length) {
                this._activePlayer = new NoOpAnimationPlayer();
                this._onFinish();
            }
            else {
                var player = this._players[this._currentIndex++];
                player.onDone(function () { return _this._onNext(true); });
                this._activePlayer = player;
                if (start) {
                    player.play();
                }
            }
        };
        AnimationSequencePlayer.prototype._onFinish = function () {
            if (!this._finished) {
                this._finished = true;
                this._onDoneFns.forEach(function (fn) { return fn(); });
                this._onDoneFns = [];
            }
        };
        AnimationSequencePlayer.prototype.init = function () { this._players.forEach(function (player) { return player.init(); }); };
        AnimationSequencePlayer.prototype.onStart = function (fn) { this._onStartFns.push(fn); };
        AnimationSequencePlayer.prototype.onDone = function (fn) { this._onDoneFns.push(fn); };
        AnimationSequencePlayer.prototype.hasStarted = function () { return this._started; };
        AnimationSequencePlayer.prototype.play = function () {
            if (!isPresent(this.parentPlayer)) {
                this.init();
            }
            if (!this.hasStarted()) {
                this._onStartFns.forEach(function (fn) { return fn(); });
                this._onStartFns = [];
                this._started = true;
            }
            this._activePlayer.play();
        };
        AnimationSequencePlayer.prototype.pause = function () { this._activePlayer.pause(); };
        AnimationSequencePlayer.prototype.restart = function () {
            this.reset();
            if (this._players.length > 0) {
                this._players[0].restart();
            }
        };
        AnimationSequencePlayer.prototype.reset = function () {
            this._players.forEach(function (player) { return player.reset(); });
            this._destroyed = false;
            this._finished = false;
            this._started = false;
        };
        AnimationSequencePlayer.prototype.finish = function () {
            this._onFinish();
            this._players.forEach(function (player) { return player.finish(); });
        };
        AnimationSequencePlayer.prototype.destroy = function () {
            if (!this._destroyed) {
                this._onFinish();
                this._players.forEach(function (player) { return player.destroy(); });
                this._destroyed = true;
                this._activePlayer = new NoOpAnimationPlayer();
            }
        };
        AnimationSequencePlayer.prototype.setPosition = function (p) { this._players[0].setPosition(p); };
        AnimationSequencePlayer.prototype.getPosition = function () { return this._players[0].getPosition(); };
        Object.defineProperty(AnimationSequencePlayer.prototype, "players", {
            get: function () { return this._players; },
            enumerable: true,
            configurable: true
        });
        return AnimationSequencePlayer;
    }());
    var __extends$18 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var AUTO_STYLE = '*';
    var AnimationStateMetadata = (function () {
        function AnimationStateMetadata() {
        }
        return AnimationStateMetadata;
    }());
    var AnimationStateDeclarationMetadata = (function (_super) {
        __extends$18(AnimationStateDeclarationMetadata, _super);
        function AnimationStateDeclarationMetadata(stateNameExpr, styles) {
            _super.call(this);
            this.stateNameExpr = stateNameExpr;
            this.styles = styles;
        }
        return AnimationStateDeclarationMetadata;
    }(AnimationStateMetadata));
    var AnimationStateTransitionMetadata = (function (_super) {
        __extends$18(AnimationStateTransitionMetadata, _super);
        function AnimationStateTransitionMetadata(stateChangeExpr, steps) {
            _super.call(this);
            this.stateChangeExpr = stateChangeExpr;
            this.steps = steps;
        }
        return AnimationStateTransitionMetadata;
    }(AnimationStateMetadata));
    var AnimationMetadata = (function () {
        function AnimationMetadata() {
        }
        return AnimationMetadata;
    }());
    var AnimationKeyframesSequenceMetadata = (function (_super) {
        __extends$18(AnimationKeyframesSequenceMetadata, _super);
        function AnimationKeyframesSequenceMetadata(steps) {
            _super.call(this);
            this.steps = steps;
        }
        return AnimationKeyframesSequenceMetadata;
    }(AnimationMetadata));
    var AnimationStyleMetadata = (function (_super) {
        __extends$18(AnimationStyleMetadata, _super);
        function AnimationStyleMetadata(styles, offset) {
            if (offset === void 0) {
                offset = null;
            }
            _super.call(this);
            this.styles = styles;
            this.offset = offset;
        }
        return AnimationStyleMetadata;
    }(AnimationMetadata));
    var AnimationAnimateMetadata = (function (_super) {
        __extends$18(AnimationAnimateMetadata, _super);
        function AnimationAnimateMetadata(timings, styles) {
            _super.call(this);
            this.timings = timings;
            this.styles = styles;
        }
        return AnimationAnimateMetadata;
    }(AnimationMetadata));
    var AnimationWithStepsMetadata = (function (_super) {
        __extends$18(AnimationWithStepsMetadata, _super);
        function AnimationWithStepsMetadata() {
            _super.call(this);
        }
        Object.defineProperty(AnimationWithStepsMetadata.prototype, "steps", {
            get: function () { throw new Error('NOT IMPLEMENTED: Base Class'); },
            enumerable: true,
            configurable: true
        });
        return AnimationWithStepsMetadata;
    }(AnimationMetadata));
    var AnimationSequenceMetadata = (function (_super) {
        __extends$18(AnimationSequenceMetadata, _super);
        function AnimationSequenceMetadata(_steps) {
            _super.call(this);
            this._steps = _steps;
        }
        Object.defineProperty(AnimationSequenceMetadata.prototype, "steps", {
            get: function () { return this._steps; },
            enumerable: true,
            configurable: true
        });
        return AnimationSequenceMetadata;
    }(AnimationWithStepsMetadata));
    var AnimationGroupMetadata = (function (_super) {
        __extends$18(AnimationGroupMetadata, _super);
        function AnimationGroupMetadata(_steps) {
            _super.call(this);
            this._steps = _steps;
        }
        Object.defineProperty(AnimationGroupMetadata.prototype, "steps", {
            get: function () { return this._steps; },
            enumerable: true,
            configurable: true
        });
        return AnimationGroupMetadata;
    }(AnimationWithStepsMetadata));
    function prepareFinalAnimationStyles(previousStyles, newStyles, nullValue) {
        if (nullValue === void 0) {
            nullValue = null;
        }
        var finalStyles = {};
        Object.keys(newStyles).forEach(function (prop) {
            var value = newStyles[prop];
            finalStyles[prop] = value == AUTO_STYLE ? nullValue : value.toString();
        });
        Object.keys(previousStyles).forEach(function (prop) {
            if (!isPresent(finalStyles[prop])) {
                finalStyles[prop] = nullValue;
            }
        });
        return finalStyles;
    }
    function balanceAnimationKeyframes(collectedStyles, finalStateStyles, keyframes$$1) {
        var limit = keyframes$$1.length - 1;
        var firstKeyframe = keyframes$$1[0];
        var flatenedFirstKeyframeStyles = flattenStyles(firstKeyframe.styles.styles);
        var extraFirstKeyframeStyles = {};
        var hasExtraFirstStyles = false;
        Object.keys(collectedStyles).forEach(function (prop) {
            var value = (collectedStyles[prop]);
            if (!flatenedFirstKeyframeStyles[prop]) {
                flatenedFirstKeyframeStyles[prop] = value;
                extraFirstKeyframeStyles[prop] = value;
                hasExtraFirstStyles = true;
            }
        });
        var keyframeCollectedStyles = StringMapWrapper.merge({}, flatenedFirstKeyframeStyles);
        var finalKeyframe = keyframes$$1[limit];
        finalKeyframe.styles.styles.unshift(finalStateStyles);
        var flatenedFinalKeyframeStyles = flattenStyles(finalKeyframe.styles.styles);
        var extraFinalKeyframeStyles = {};
        var hasExtraFinalStyles = false;
        Object.keys(keyframeCollectedStyles).forEach(function (prop) {
            if (!isPresent(flatenedFinalKeyframeStyles[prop])) {
                extraFinalKeyframeStyles[prop] = AUTO_STYLE;
                hasExtraFinalStyles = true;
            }
        });
        if (hasExtraFinalStyles) {
            finalKeyframe.styles.styles.push(extraFinalKeyframeStyles);
        }
        Object.keys(flatenedFinalKeyframeStyles).forEach(function (prop) {
            if (!isPresent(flatenedFirstKeyframeStyles[prop])) {
                extraFirstKeyframeStyles[prop] = AUTO_STYLE;
                hasExtraFirstStyles = true;
            }
        });
        if (hasExtraFirstStyles) {
            firstKeyframe.styles.styles.push(extraFirstKeyframeStyles);
        }
        collectAndResolveStyles(collectedStyles, [finalStateStyles]);
        return keyframes$$1;
    }
    function clearStyles(styles) {
        var finalStyles = {};
        Object.keys(styles).forEach(function (key) { finalStyles[key] = null; });
        return finalStyles;
    }
    function collectAndResolveStyles(collection, styles) {
        return styles.map(function (entry) {
            var stylesObj = {};
            Object.keys(entry).forEach(function (prop) {
                var value = entry[prop];
                if (value == FILL_STYLE_FLAG) {
                    value = collection[prop];
                    if (!isPresent(value)) {
                        value = AUTO_STYLE;
                    }
                }
                collection[prop] = value;
                stylesObj[prop] = value;
            });
            return stylesObj;
        });
    }
    function renderStyles(element, renderer, styles) {
        Object.keys(styles).forEach(function (prop) { renderer.setElementStyle(element, prop, styles[prop]); });
    }
    function flattenStyles(styles) {
        var finalStyles = {};
        styles.forEach(function (entry) {
            Object.keys(entry).forEach(function (prop) { finalStyles[prop] = (entry[prop]); });
        });
        return finalStyles;
    }
    var AnimationStyles = (function () {
        function AnimationStyles(styles) {
            this.styles = styles;
        }
        return AnimationStyles;
    }());
    var AnimationTransitionEvent = (function () {
        function AnimationTransitionEvent(_a) {
            var fromState = _a.fromState, toState = _a.toState, totalTime = _a.totalTime, phaseName = _a.phaseName;
            this.fromState = fromState;
            this.toState = toState;
            this.totalTime = totalTime;
            this.phaseName = phaseName;
        }
        return AnimationTransitionEvent;
    }());
    var AnimationTransition = (function () {
        function AnimationTransition(_player, _fromState, _toState, _totalTime) {
            this._player = _player;
            this._fromState = _fromState;
            this._toState = _toState;
            this._totalTime = _totalTime;
        }
        AnimationTransition.prototype._createEvent = function (phaseName) {
            return new AnimationTransitionEvent({
                fromState: this._fromState,
                toState: this._toState,
                totalTime: this._totalTime,
                phaseName: phaseName
            });
        };
        AnimationTransition.prototype.onStart = function (callback) {
            var _this = this;
            var fn = (Zone.current.wrap(function () { return callback(_this._createEvent('start')); }, 'player.onStart'));
            this._player.onStart(fn);
        };
        AnimationTransition.prototype.onDone = function (callback) {
            var _this = this;
            var fn = (Zone.current.wrap(function () { return callback(_this._createEvent('done')); }, 'player.onDone'));
            this._player.onDone(fn);
        };
        return AnimationTransition;
    }());
    var DebugDomRootRenderer = (function () {
        function DebugDomRootRenderer(_delegate) {
            this._delegate = _delegate;
        }
        DebugDomRootRenderer.prototype.renderComponent = function (componentProto) {
            return new DebugDomRenderer(this._delegate.renderComponent(componentProto));
        };
        return DebugDomRootRenderer;
    }());
    var DebugDomRenderer = (function () {
        function DebugDomRenderer(_delegate) {
            this._delegate = _delegate;
        }
        DebugDomRenderer.prototype.selectRootElement = function (selectorOrNode, debugInfo) {
            var nativeEl = this._delegate.selectRootElement(selectorOrNode, debugInfo);
            var debugEl = new DebugElement(nativeEl, null, debugInfo);
            indexDebugNode(debugEl);
            return nativeEl;
        };
        DebugDomRenderer.prototype.createElement = function (parentElement, name, debugInfo) {
            var nativeEl = this._delegate.createElement(parentElement, name, debugInfo);
            var debugEl = new DebugElement(nativeEl, getDebugNode(parentElement), debugInfo);
            debugEl.name = name;
            indexDebugNode(debugEl);
            return nativeEl;
        };
        DebugDomRenderer.prototype.createViewRoot = function (hostElement) { return this._delegate.createViewRoot(hostElement); };
        DebugDomRenderer.prototype.createTemplateAnchor = function (parentElement, debugInfo) {
            var comment = this._delegate.createTemplateAnchor(parentElement, debugInfo);
            var debugEl = new DebugNode(comment, getDebugNode(parentElement), debugInfo);
            indexDebugNode(debugEl);
            return comment;
        };
        DebugDomRenderer.prototype.createText = function (parentElement, value, debugInfo) {
            var text = this._delegate.createText(parentElement, value, debugInfo);
            var debugEl = new DebugNode(text, getDebugNode(parentElement), debugInfo);
            indexDebugNode(debugEl);
            return text;
        };
        DebugDomRenderer.prototype.projectNodes = function (parentElement, nodes) {
            var debugParent = getDebugNode(parentElement);
            if (isPresent(debugParent) && debugParent instanceof DebugElement) {
                var debugElement_1 = debugParent;
                nodes.forEach(function (node) { debugElement_1.addChild(getDebugNode(node)); });
            }
            this._delegate.projectNodes(parentElement, nodes);
        };
        DebugDomRenderer.prototype.attachViewAfter = function (node, viewRootNodes) {
            var debugNode = getDebugNode(node);
            if (isPresent(debugNode)) {
                var debugParent = debugNode.parent;
                if (viewRootNodes.length > 0 && isPresent(debugParent)) {
                    var debugViewRootNodes_1 = [];
                    viewRootNodes.forEach(function (rootNode) { return debugViewRootNodes_1.push(getDebugNode(rootNode)); });
                    debugParent.insertChildrenAfter(debugNode, debugViewRootNodes_1);
                }
            }
            this._delegate.attachViewAfter(node, viewRootNodes);
        };
        DebugDomRenderer.prototype.detachView = function (viewRootNodes) {
            viewRootNodes.forEach(function (node) {
                var debugNode = getDebugNode(node);
                if (isPresent(debugNode) && isPresent(debugNode.parent)) {
                    debugNode.parent.removeChild(debugNode);
                }
            });
            this._delegate.detachView(viewRootNodes);
        };
        DebugDomRenderer.prototype.destroyView = function (hostElement, viewAllNodes) {
            viewAllNodes = viewAllNodes || [];
            viewAllNodes.forEach(function (node) { removeDebugNodeFromIndex(getDebugNode(node)); });
            this._delegate.destroyView(hostElement, viewAllNodes);
        };
        DebugDomRenderer.prototype.listen = function (renderElement, name, callback) {
            var debugEl = getDebugNode(renderElement);
            if (isPresent(debugEl)) {
                debugEl.listeners.push(new EventListener(name, callback));
            }
            return this._delegate.listen(renderElement, name, callback);
        };
        DebugDomRenderer.prototype.listenGlobal = function (target, name, callback) {
            return this._delegate.listenGlobal(target, name, callback);
        };
        DebugDomRenderer.prototype.setElementProperty = function (renderElement, propertyName, propertyValue) {
            var debugEl = getDebugNode(renderElement);
            if (isPresent(debugEl) && debugEl instanceof DebugElement) {
                debugEl.properties[propertyName] = propertyValue;
            }
            this._delegate.setElementProperty(renderElement, propertyName, propertyValue);
        };
        DebugDomRenderer.prototype.setElementAttribute = function (renderElement, attributeName, attributeValue) {
            var debugEl = getDebugNode(renderElement);
            if (isPresent(debugEl) && debugEl instanceof DebugElement) {
                debugEl.attributes[attributeName] = attributeValue;
            }
            this._delegate.setElementAttribute(renderElement, attributeName, attributeValue);
        };
        DebugDomRenderer.prototype.setBindingDebugInfo = function (renderElement, propertyName, propertyValue) {
            this._delegate.setBindingDebugInfo(renderElement, propertyName, propertyValue);
        };
        DebugDomRenderer.prototype.setElementClass = function (renderElement, className, isAdd) {
            var debugEl = getDebugNode(renderElement);
            if (isPresent(debugEl) && debugEl instanceof DebugElement) {
                debugEl.classes[className] = isAdd;
            }
            this._delegate.setElementClass(renderElement, className, isAdd);
        };
        DebugDomRenderer.prototype.setElementStyle = function (renderElement, styleName, styleValue) {
            var debugEl = getDebugNode(renderElement);
            if (isPresent(debugEl) && debugEl instanceof DebugElement) {
                debugEl.styles[styleName] = styleValue;
            }
            this._delegate.setElementStyle(renderElement, styleName, styleValue);
        };
        DebugDomRenderer.prototype.invokeElementMethod = function (renderElement, methodName, args) {
            this._delegate.invokeElementMethod(renderElement, methodName, args);
        };
        DebugDomRenderer.prototype.setText = function (renderNode, text) { this._delegate.setText(renderNode, text); };
        DebugDomRenderer.prototype.animate = function (element, startingStyles, keyframes, duration, delay, easing, previousPlayers) {
            if (previousPlayers === void 0) {
                previousPlayers = [];
            }
            return this._delegate.animate(element, startingStyles, keyframes, duration, delay, easing, previousPlayers);
        };
        return DebugDomRenderer;
    }());
    var ViewType = {};
    ViewType.HOST = 0;
    ViewType.COMPONENT = 1;
    ViewType.EMBEDDED = 2;
    ViewType[ViewType.HOST] = "HOST";
    ViewType[ViewType.COMPONENT] = "COMPONENT";
    ViewType[ViewType.EMBEDDED] = "EMBEDDED";
    var StaticNodeDebugInfo = (function () {
        function StaticNodeDebugInfo(providerTokens, componentToken, refTokens) {
            this.providerTokens = providerTokens;
            this.componentToken = componentToken;
            this.refTokens = refTokens;
        }
        return StaticNodeDebugInfo;
    }());
    var DebugContext = (function () {
        function DebugContext(_view, _nodeIndex, _tplRow, _tplCol) {
            this._view = _view;
            this._nodeIndex = _nodeIndex;
            this._tplRow = _tplRow;
            this._tplCol = _tplCol;
        }
        Object.defineProperty(DebugContext.prototype, "_staticNodeInfo", {
            get: function () {
                return isPresent(this._nodeIndex) ? this._view.staticNodeDebugInfos[this._nodeIndex] : null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugContext.prototype, "context", {
            get: function () { return this._view.context; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugContext.prototype, "component", {
            get: function () {
                var staticNodeInfo = this._staticNodeInfo;
                if (isPresent(staticNodeInfo) && isPresent(staticNodeInfo.componentToken)) {
                    return this.injector.get(staticNodeInfo.componentToken);
                }
                return null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugContext.prototype, "componentRenderElement", {
            get: function () {
                var componentView = this._view;
                while (isPresent(componentView.parentView) && componentView.type !== ViewType.COMPONENT) {
                    componentView = (componentView.parentView);
                }
                return componentView.parentElement;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugContext.prototype, "injector", {
            get: function () { return this._view.injector(this._nodeIndex); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugContext.prototype, "renderNode", {
            get: function () {
                if (isPresent(this._nodeIndex) && this._view.allNodes) {
                    return this._view.allNodes[this._nodeIndex];
                }
                else {
                    return null;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugContext.prototype, "providerTokens", {
            get: function () {
                var staticNodeInfo = this._staticNodeInfo;
                return isPresent(staticNodeInfo) ? staticNodeInfo.providerTokens : null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugContext.prototype, "source", {
            get: function () {
                return this._view.componentType.templateUrl + ":" + this._tplRow + ":" + this._tplCol;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DebugContext.prototype, "references", {
            get: function () {
                var _this = this;
                var varValues = {};
                var staticNodeInfo = this._staticNodeInfo;
                if (isPresent(staticNodeInfo)) {
                    var refs_1 = staticNodeInfo.refTokens;
                    Object.keys(refs_1).forEach(function (refName) {
                        var refToken = refs_1[refName];
                        var varValue;
                        if (isBlank(refToken)) {
                            varValue = _this._view.allNodes ? _this._view.allNodes[_this._nodeIndex] : null;
                        }
                        else {
                            varValue = _this._view.injectorGet(refToken, _this._nodeIndex, null);
                        }
                        varValues[refName] = varValue;
                    });
                }
                return varValues;
            },
            enumerable: true,
            configurable: true
        });
        return DebugContext;
    }());
    var ViewAnimationMap = (function () {
        function ViewAnimationMap() {
            this._map = new Map();
            this._allPlayers = [];
        }
        ViewAnimationMap.prototype.find = function (element, animationName) {
            var playersByAnimation = this._map.get(element);
            if (isPresent(playersByAnimation)) {
                return playersByAnimation[animationName];
            }
        };
        ViewAnimationMap.prototype.findAllPlayersByElement = function (element) {
            var el = this._map.get(element);
            return el ? Object.keys(el).map(function (k) { return el[k]; }) : [];
        };
        ViewAnimationMap.prototype.set = function (element, animationName, player) {
            var playersByAnimation = this._map.get(element);
            if (!isPresent(playersByAnimation)) {
                playersByAnimation = {};
            }
            var existingEntry = playersByAnimation[animationName];
            if (isPresent(existingEntry)) {
                this.remove(element, animationName);
            }
            playersByAnimation[animationName] = player;
            this._allPlayers.push(player);
            this._map.set(element, playersByAnimation);
        };
        ViewAnimationMap.prototype.getAllPlayers = function () { return this._allPlayers; };
        ViewAnimationMap.prototype.remove = function (element, animationName, targetPlayer) {
            if (targetPlayer === void 0) {
                targetPlayer = null;
            }
            var playersByAnimation = this._map.get(element);
            if (playersByAnimation) {
                var player = playersByAnimation[animationName];
                if (!targetPlayer || player === targetPlayer) {
                    delete playersByAnimation[animationName];
                    var index = this._allPlayers.indexOf(player);
                    this._allPlayers.splice(index, 1);
                    if (Object.keys(playersByAnimation).length === 0) {
                        this._map.delete(element);
                    }
                }
            }
        };
        return ViewAnimationMap;
    }());
    var AnimationViewContext = (function () {
        function AnimationViewContext(_animationQueue) {
            this._animationQueue = _animationQueue;
            this._players = new ViewAnimationMap();
        }
        AnimationViewContext.prototype.onAllActiveAnimationsDone = function (callback) {
            var activeAnimationPlayers = this._players.getAllPlayers();
            if (activeAnimationPlayers.length) {
                new AnimationGroupPlayer(activeAnimationPlayers).onDone(function () { return callback(); });
            }
            else {
                callback();
            }
        };
        AnimationViewContext.prototype.queueAnimation = function (element, animationName, player) {
            var _this = this;
            this._animationQueue.enqueue(player);
            this._players.set(element, animationName, player);
            player.onDone(function () { return _this._players.remove(element, animationName, player); });
        };
        AnimationViewContext.prototype.getAnimationPlayers = function (element, animationName) {
            if (animationName === void 0) {
                animationName = null;
            }
            var players = [];
            if (animationName) {
                var currentPlayer = this._players.find(element, animationName);
                if (currentPlayer) {
                    _recursePlayers(currentPlayer, players);
                }
            }
            else {
                this._players.findAllPlayersByElement(element).forEach(function (player) { return _recursePlayers(player, players); });
            }
            return players;
        };
        return AnimationViewContext;
    }());
    function _recursePlayers(player, collectedPlayers) {
        if ((player instanceof AnimationGroupPlayer) || (player instanceof AnimationSequencePlayer)) {
            player.players.forEach(function (player) { return _recursePlayers(player, collectedPlayers); });
        }
        else {
            collectedPlayers.push(player);
        }
    }
    var __extends$20 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var ElementInjector = (function (_super) {
        __extends$20(ElementInjector, _super);
        function ElementInjector(_view, _nodeIndex) {
            _super.call(this);
            this._view = _view;
            this._nodeIndex = _nodeIndex;
        }
        ElementInjector.prototype.get = function (token, notFoundValue) {
            if (notFoundValue === void 0) {
                notFoundValue = THROW_IF_NOT_FOUND;
            }
            return this._view.injectorGet(token, this._nodeIndex, notFoundValue);
        };
        return ElementInjector;
    }(Injector));
    var __extends$19 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var _scope_check = wtfCreateScope("AppView#check(ascii id)");
    var EMPTY_CONTEXT = new Object();
    var UNDEFINED$1 = new Object();
    var AppView = (function () {
        function AppView(clazz, componentType, type, viewUtils, parentView, parentIndex, parentElement, cdMode, declaredViewContainer) {
            if (declaredViewContainer === void 0) {
                declaredViewContainer = null;
            }
            this.clazz = clazz;
            this.componentType = componentType;
            this.type = type;
            this.viewUtils = viewUtils;
            this.parentView = parentView;
            this.parentIndex = parentIndex;
            this.parentElement = parentElement;
            this.cdMode = cdMode;
            this.declaredViewContainer = declaredViewContainer;
            this.numberOfChecks = 0;
            this.ref = new ViewRef_(this, viewUtils.animationQueue);
            if (type === ViewType.COMPONENT || type === ViewType.HOST) {
                this.renderer = viewUtils.renderComponent(componentType);
            }
            else {
                this.renderer = parentView.renderer;
            }
            this._directRenderer = this.renderer.directRenderer;
        }
        Object.defineProperty(AppView.prototype, "animationContext", {
            get: function () {
                if (!this._animationContext) {
                    this._animationContext = new AnimationViewContext(this.viewUtils.animationQueue);
                }
                return this._animationContext;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppView.prototype, "destroyed", {
            get: function () { return this.cdMode === ChangeDetectorStatus.Destroyed; },
            enumerable: true,
            configurable: true
        });
        AppView.prototype.create = function (context) {
            this.context = context;
            return this.createInternal(null);
        };
        AppView.prototype.createHostView = function (rootSelectorOrNode, hostInjector, projectableNodes) {
            this.context = (EMPTY_CONTEXT);
            this._hasExternalHostElement = isPresent(rootSelectorOrNode);
            this._hostInjector = hostInjector;
            this._hostProjectableNodes = projectableNodes;
            return this.createInternal(rootSelectorOrNode);
        };
        AppView.prototype.createInternal = function (rootSelectorOrNode) { return null; };
        AppView.prototype.createEmbeddedViewInternal = function (templateNodeIndex) { return null; };
        AppView.prototype.init = function (lastRootNode, allNodes, disposables) {
            this.lastRootNode = lastRootNode;
            this.allNodes = allNodes;
            this.disposables = disposables;
            if (this.type === ViewType.COMPONENT) {
                this.dirtyParentQueriesInternal();
            }
        };
        AppView.prototype.injectorGet = function (token, nodeIndex, notFoundValue) {
            if (notFoundValue === void 0) {
                notFoundValue = THROW_IF_NOT_FOUND;
            }
            var result = UNDEFINED$1;
            var view = this;
            while (result === UNDEFINED$1) {
                if (isPresent(nodeIndex)) {
                    result = view.injectorGetInternal(token, nodeIndex, UNDEFINED$1);
                }
                if (result === UNDEFINED$1 && view.type === ViewType.HOST) {
                    result = view._hostInjector.get(token, notFoundValue);
                }
                nodeIndex = view.parentIndex;
                view = view.parentView;
            }
            return result;
        };
        AppView.prototype.injectorGetInternal = function (token, nodeIndex, notFoundResult) {
            return notFoundResult;
        };
        AppView.prototype.injector = function (nodeIndex) { return new ElementInjector(this, nodeIndex); };
        AppView.prototype.detachAndDestroy = function () {
            if (this.viewContainer) {
                this.viewContainer.detachView(this.viewContainer.nestedViews.indexOf(this));
            }
            else if (this.appRef) {
                this.appRef.detachView(this.ref);
            }
            else if (this._hasExternalHostElement) {
                this.detach();
            }
            this.destroy();
        };
        AppView.prototype.destroy = function () {
            var _this = this;
            if (this.cdMode === ChangeDetectorStatus.Destroyed) {
                return;
            }
            var hostElement = this.type === ViewType.COMPONENT ? this.parentElement : null;
            if (this.disposables) {
                for (var i = 0; i < this.disposables.length; i++) {
                    this.disposables[i]();
                }
            }
            this.destroyInternal();
            this.dirtyParentQueriesInternal();
            if (this._animationContext) {
                this._animationContext.onAllActiveAnimationsDone(function () { return _this.renderer.destroyView(hostElement, _this.allNodes); });
            }
            else {
                this.renderer.destroyView(hostElement, this.allNodes);
            }
            this.cdMode = ChangeDetectorStatus.Destroyed;
        };
        AppView.prototype.destroyInternal = function () { };
        AppView.prototype.detachInternal = function () { };
        AppView.prototype.detach = function () {
            var _this = this;
            this.detachInternal();
            if (this._animationContext) {
                this._animationContext.onAllActiveAnimationsDone(function () { return _this._renderDetach(); });
            }
            else {
                this._renderDetach();
            }
            if (this.declaredViewContainer && this.declaredViewContainer !== this.viewContainer &&
                this.declaredViewContainer.projectedViews) {
                var projectedViews = this.declaredViewContainer.projectedViews;
                var index = projectedViews.indexOf(this);
                if (index >= projectedViews.length - 1) {
                    projectedViews.pop();
                }
                else {
                    projectedViews.splice(index, 1);
                }
            }
            this.appRef = null;
            this.viewContainer = null;
            this.dirtyParentQueriesInternal();
        };
        AppView.prototype._renderDetach = function () {
            if (this._directRenderer) {
                this.visitRootNodesInternal(this._directRenderer.remove, null);
            }
            else {
                this.renderer.detachView(this.flatRootNodes);
            }
        };
        AppView.prototype.attachToAppRef = function (appRef) {
            if (this.viewContainer) {
                throw new Error('This view is already attached to a ViewContainer!');
            }
            this.appRef = appRef;
            this.dirtyParentQueriesInternal();
        };
        AppView.prototype.attachAfter = function (viewContainer, prevView) {
            if (this.appRef) {
                throw new Error('This view is already attached directly to the ApplicationRef!');
            }
            this._renderAttach(viewContainer, prevView);
            this.viewContainer = viewContainer;
            if (this.declaredViewContainer && this.declaredViewContainer !== viewContainer) {
                if (!this.declaredViewContainer.projectedViews) {
                    this.declaredViewContainer.projectedViews = [];
                }
                this.declaredViewContainer.projectedViews.push(this);
            }
            this.dirtyParentQueriesInternal();
        };
        AppView.prototype.moveAfter = function (viewContainer, prevView) {
            this._renderAttach(viewContainer, prevView);
            this.dirtyParentQueriesInternal();
        };
        AppView.prototype._renderAttach = function (viewContainer, prevView) {
            var prevNode = prevView ? prevView.lastRootNode : viewContainer.nativeElement;
            if (this._directRenderer) {
                var nextSibling = this._directRenderer.nextSibling(prevNode);
                if (nextSibling) {
                    this.visitRootNodesInternal(this._directRenderer.insertBefore, nextSibling);
                }
                else {
                    var parentElement = this._directRenderer.parentElement(prevNode);
                    if (parentElement) {
                        this.visitRootNodesInternal(this._directRenderer.appendChild, parentElement);
                    }
                }
            }
            else {
                this.renderer.attachViewAfter(prevNode, this.flatRootNodes);
            }
        };
        Object.defineProperty(AppView.prototype, "changeDetectorRef", {
            get: function () { return this.ref; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppView.prototype, "flatRootNodes", {
            get: function () {
                var nodes = [];
                this.visitRootNodesInternal(addToArray, nodes);
                return nodes;
            },
            enumerable: true,
            configurable: true
        });
        AppView.prototype.projectNodes = function (parentElement, ngContentIndex) {
            if (this._directRenderer) {
                this.visitProjectedNodes(ngContentIndex, this._directRenderer.appendChild, parentElement);
            }
            else {
                var nodes = [];
                this.visitProjectedNodes(ngContentIndex, addToArray, nodes);
                this.renderer.projectNodes(parentElement, nodes);
            }
        };
        AppView.prototype.visitProjectedNodes = function (ngContentIndex, cb, c) {
            switch (this.type) {
                case ViewType.EMBEDDED:
                    this.parentView.visitProjectedNodes(ngContentIndex, cb, c);
                    break;
                case ViewType.COMPONENT:
                    if (this.parentView.type === ViewType.HOST) {
                        var nodes = this.parentView._hostProjectableNodes[ngContentIndex] || [];
                        for (var i = 0; i < nodes.length; i++) {
                            cb(nodes[i], c);
                        }
                    }
                    else {
                        this.parentView.visitProjectableNodesInternal(this.parentIndex, ngContentIndex, cb, c);
                    }
                    break;
            }
        };
        AppView.prototype.visitRootNodesInternal = function (cb, c) { };
        AppView.prototype.visitProjectableNodesInternal = function (nodeIndex, ngContentIndex, cb, c) { };
        AppView.prototype.dirtyParentQueriesInternal = function () { };
        AppView.prototype.internalDetectChanges = function (throwOnChange) {
            if (this.cdMode !== ChangeDetectorStatus.Detached) {
                this.detectChanges(throwOnChange);
            }
        };
        AppView.prototype.detectChanges = function (throwOnChange) {
            var s = _scope_check(this.clazz);
            if (this.cdMode === ChangeDetectorStatus.Checked ||
                this.cdMode === ChangeDetectorStatus.Errored)
                return;
            if (this.cdMode === ChangeDetectorStatus.Destroyed) {
                this.throwDestroyedError('detectChanges');
            }
            this.detectChangesInternal(throwOnChange);
            if (this.cdMode === ChangeDetectorStatus.CheckOnce)
                this.cdMode = ChangeDetectorStatus.Checked;
            this.numberOfChecks++;
            wtfLeave(s);
        };
        AppView.prototype.detectChangesInternal = function (throwOnChange) { };
        AppView.prototype.markAsCheckOnce = function () { this.cdMode = ChangeDetectorStatus.CheckOnce; };
        AppView.prototype.markPathToRootAsCheckOnce = function () {
            var c = this;
            while (isPresent(c) && c.cdMode !== ChangeDetectorStatus.Detached) {
                if (c.cdMode === ChangeDetectorStatus.Checked) {
                    c.cdMode = ChangeDetectorStatus.CheckOnce;
                }
                if (c.type === ViewType.COMPONENT) {
                    c = c.parentView;
                }
                else {
                    c = c.viewContainer ? c.viewContainer.parentView : null;
                }
            }
        };
        AppView.prototype.eventHandler = function (cb) {
            return cb;
        };
        AppView.prototype.throwDestroyedError = function (details) { throw new ViewDestroyedError(details); };
        return AppView;
    }());
    var DebugAppView = (function (_super) {
        __extends$19(DebugAppView, _super);
        function DebugAppView(clazz, componentType, type, viewUtils, parentView, parentIndex, parentNode, cdMode, staticNodeDebugInfos, declaredViewContainer) {
            if (declaredViewContainer === void 0) {
                declaredViewContainer = null;
            }
            _super.call(this, clazz, componentType, type, viewUtils, parentView, parentIndex, parentNode, cdMode, declaredViewContainer);
            this.staticNodeDebugInfos = staticNodeDebugInfos;
            this._currentDebugContext = null;
        }
        DebugAppView.prototype.create = function (context) {
            this._resetDebug();
            try {
                return _super.prototype.create.call(this, context);
            }
            catch (e) {
                this._rethrowWithContext(e);
                throw e;
            }
        };
        DebugAppView.prototype.createHostView = function (rootSelectorOrNode, injector, projectableNodes) {
            if (projectableNodes === void 0) {
                projectableNodes = null;
            }
            this._resetDebug();
            try {
                return _super.prototype.createHostView.call(this, rootSelectorOrNode, injector, projectableNodes);
            }
            catch (e) {
                this._rethrowWithContext(e);
                throw e;
            }
        };
        DebugAppView.prototype.injectorGet = function (token, nodeIndex, notFoundResult) {
            this._resetDebug();
            try {
                return _super.prototype.injectorGet.call(this, token, nodeIndex, notFoundResult);
            }
            catch (e) {
                this._rethrowWithContext(e);
                throw e;
            }
        };
        DebugAppView.prototype.detach = function () {
            this._resetDebug();
            try {
                _super.prototype.detach.call(this);
            }
            catch (e) {
                this._rethrowWithContext(e);
                throw e;
            }
        };
        DebugAppView.prototype.destroy = function () {
            this._resetDebug();
            try {
                _super.prototype.destroy.call(this);
            }
            catch (e) {
                this._rethrowWithContext(e);
                throw e;
            }
        };
        DebugAppView.prototype.detectChanges = function (throwOnChange) {
            this._resetDebug();
            try {
                _super.prototype.detectChanges.call(this, throwOnChange);
            }
            catch (e) {
                this._rethrowWithContext(e);
                throw e;
            }
        };
        DebugAppView.prototype._resetDebug = function () { this._currentDebugContext = null; };
        DebugAppView.prototype.debug = function (nodeIndex, rowNum, colNum) {
            return this._currentDebugContext = new DebugContext(this, nodeIndex, rowNum, colNum);
        };
        DebugAppView.prototype._rethrowWithContext = function (e) {
            if (!(e instanceof ViewWrappedError)) {
                if (!(e instanceof ExpressionChangedAfterItHasBeenCheckedError)) {
                    this.cdMode = ChangeDetectorStatus.Errored;
                }
                if (isPresent(this._currentDebugContext)) {
                    throw new ViewWrappedError(e, this._currentDebugContext);
                }
            }
        };
        DebugAppView.prototype.eventHandler = function (cb) {
            var _this = this;
            var superHandler = _super.prototype.eventHandler.call(this, cb);
            return function (eventName, event) {
                _this._resetDebug();
                try {
                    return superHandler.call(_this, eventName, event);
                }
                catch (e) {
                    _this._rethrowWithContext(e);
                    throw e;
                }
            };
        };
        return DebugAppView;
    }(AppView));
    var ViewContainer = (function () {
        function ViewContainer(index, parentIndex, parentView, nativeElement) {
            this.index = index;
            this.parentIndex = parentIndex;
            this.parentView = parentView;
            this.nativeElement = nativeElement;
        }
        Object.defineProperty(ViewContainer.prototype, "elementRef", {
            get: function () { return new ElementRef(this.nativeElement); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewContainer.prototype, "vcRef", {
            get: function () { return new ViewContainerRef_(this); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewContainer.prototype, "parentInjector", {
            get: function () { return this.parentView.injector(this.parentIndex); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ViewContainer.prototype, "injector", {
            get: function () { return this.parentView.injector(this.index); },
            enumerable: true,
            configurable: true
        });
        ViewContainer.prototype.detectChangesInNestedViews = function (throwOnChange) {
            if (this.nestedViews) {
                for (var i = 0; i < this.nestedViews.length; i++) {
                    this.nestedViews[i].detectChanges(throwOnChange);
                }
            }
        };
        ViewContainer.prototype.destroyNestedViews = function () {
            if (this.nestedViews) {
                for (var i = 0; i < this.nestedViews.length; i++) {
                    this.nestedViews[i].destroy();
                }
            }
        };
        ViewContainer.prototype.visitNestedViewRootNodes = function (cb, c) {
            if (this.nestedViews) {
                for (var i = 0; i < this.nestedViews.length; i++) {
                    this.nestedViews[i].visitRootNodesInternal(cb, c);
                }
            }
        };
        ViewContainer.prototype.mapNestedViews = function (nestedViewClass, callback) {
            var result = [];
            if (this.nestedViews) {
                for (var i = 0; i < this.nestedViews.length; i++) {
                    var nestedView = this.nestedViews[i];
                    if (nestedView.clazz === nestedViewClass) {
                        result.push(callback(nestedView));
                    }
                }
            }
            if (this.projectedViews) {
                for (var i = 0; i < this.projectedViews.length; i++) {
                    var projectedView = this.projectedViews[i];
                    if (projectedView.clazz === nestedViewClass) {
                        result.push(callback(projectedView));
                    }
                }
            }
            return result;
        };
        ViewContainer.prototype.moveView = function (view, currentIndex) {
            var previousIndex = this.nestedViews.indexOf(view);
            if (view.type === ViewType.COMPONENT) {
                throw new Error("Component views can't be moved!");
            }
            var nestedViews = this.nestedViews;
            if (nestedViews == null) {
                nestedViews = [];
                this.nestedViews = nestedViews;
            }
            nestedViews.splice(previousIndex, 1);
            nestedViews.splice(currentIndex, 0, view);
            var prevView = currentIndex > 0 ? nestedViews[currentIndex - 1] : null;
            view.moveAfter(this, prevView);
        };
        ViewContainer.prototype.attachView = function (view, viewIndex) {
            if (view.type === ViewType.COMPONENT) {
                throw new Error("Component views can't be moved!");
            }
            var nestedViews = this.nestedViews;
            if (nestedViews == null) {
                nestedViews = [];
                this.nestedViews = nestedViews;
            }
            if (viewIndex >= nestedViews.length) {
                nestedViews.push(view);
            }
            else {
                nestedViews.splice(viewIndex, 0, view);
            }
            var prevView = viewIndex > 0 ? nestedViews[viewIndex - 1] : null;
            view.attachAfter(this, prevView);
        };
        ViewContainer.prototype.detachView = function (viewIndex) {
            var view = this.nestedViews[viewIndex];
            if (viewIndex >= this.nestedViews.length - 1) {
                this.nestedViews.pop();
            }
            else {
                this.nestedViews.splice(viewIndex, 1);
            }
            if (view.type === ViewType.COMPONENT) {
                throw new Error("Component views can't be moved!");
            }
            view.detach();
            return view;
        };
        return ViewContainer;
    }());
    var __core_private__ = {
        isDefaultChangeDetectionStrategy: isDefaultChangeDetectionStrategy,
        ChangeDetectorStatus: ChangeDetectorStatus,
        constructDependencies: constructDependencies,
        LifecycleHooks: LifecycleHooks,
        LIFECYCLE_HOOKS_VALUES: LIFECYCLE_HOOKS_VALUES,
        ReflectorReader: ReflectorReader,
        CodegenComponentFactoryResolver: CodegenComponentFactoryResolver,
        ComponentRef_: ComponentRef_,
        ViewContainer: ViewContainer,
        AppView: AppView,
        DebugAppView: DebugAppView,
        NgModuleInjector: NgModuleInjector,
        registerModuleFactory: registerModuleFactory,
        ViewType: ViewType,
        view_utils: view_utils,
        ViewMetadata: ViewMetadata,
        DebugContext: DebugContext,
        StaticNodeDebugInfo: StaticNodeDebugInfo,
        devModeEqual: devModeEqual,
        UNINITIALIZED: UNINITIALIZED,
        ValueUnwrapper: ValueUnwrapper,
        RenderDebugInfo: RenderDebugInfo,
        TemplateRef_: TemplateRef_,
        ReflectionCapabilities: ReflectionCapabilities,
        makeDecorator: makeDecorator,
        DebugDomRootRenderer: DebugDomRootRenderer,
        Console: Console,
        reflector: reflector,
        Reflector: Reflector,
        NoOpAnimationPlayer: NoOpAnimationPlayer,
        AnimationPlayer: AnimationPlayer,
        AnimationSequencePlayer: AnimationSequencePlayer,
        AnimationGroupPlayer: AnimationGroupPlayer,
        AnimationKeyframe: AnimationKeyframe,
        prepareFinalAnimationStyles: prepareFinalAnimationStyles,
        balanceAnimationKeyframes: balanceAnimationKeyframes,
        flattenStyles: flattenStyles,
        clearStyles: clearStyles,
        renderStyles: renderStyles,
        collectAndResolveStyles: collectAndResolveStyles,
        APP_ID_RANDOM_PROVIDER: APP_ID_RANDOM_PROVIDER,
        AnimationStyles: AnimationStyles,
        ANY_STATE: ANY_STATE,
        DEFAULT_STATE: DEFAULT_STATE,
        EMPTY_STATE: EMPTY_STATE,
        FILL_STYLE_FLAG: FILL_STYLE_FLAG,
        ComponentStillLoadingError: ComponentStillLoadingError,
        isPromise: isPromise,
        AnimationTransition: AnimationTransition
    };
    var LocationStrategy = (function () {
        function LocationStrategy() {
        }
        LocationStrategy.prototype.path = function (includeHash) { };
        LocationStrategy.prototype.prepareExternalUrl = function (internal) { };
        LocationStrategy.prototype.pushState = function (state$$1, title, url, queryParams) { };
        LocationStrategy.prototype.replaceState = function (state$$1, title, url, queryParams) { };
        LocationStrategy.prototype.forward = function () { };
        LocationStrategy.prototype.back = function () { };
        LocationStrategy.prototype.onPopState = function (fn) { };
        LocationStrategy.prototype.getBaseHref = function () { };
        return LocationStrategy;
    }());
    var APP_BASE_HREF = new OpaqueToken('appBaseHref');
    var globalScope$1;
    if (typeof window === 'undefined') {
        if (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope) {
            globalScope$1 = (self);
        }
        else {
            globalScope$1 = (global);
        }
    }
    else {
        globalScope$1 = (window);
    }
    var _global$1 = globalScope$1;
    function getTypeNameForDebugging$1(type) {
        return type['name'] || typeof type;
    }
    _global$1.assert = function assert(condition) {
    };
    function isPresent$1(obj) {
        return obj != null;
    }
    function isBlank$1(obj) {
        return obj == null;
    }
    function isDate$1(obj) {
        return obj instanceof Date && !isNaN(obj.valueOf());
    }
    function stringify$1(token) {
        if (typeof token === 'string') {
            return token;
        }
        if (token == null) {
            return '' + token;
        }
        if (token.overriddenName) {
            return "" + token.overriddenName;
        }
        if (token.name) {
            return "" + token.name;
        }
        var res = token.toString();
        var newLineIndex = res.indexOf('\n');
        return newLineIndex === -1 ? res : res.substring(0, newLineIndex);
    }
    var NumberWrapper$1 = (function () {
        function NumberWrapper() {
        }
        NumberWrapper.parseIntAutoRadix = function (text) {
            var result = parseInt(text);
            if (isNaN(result)) {
                throw new Error('Invalid integer literal when parsing ' + text);
            }
            return result;
        };
        NumberWrapper.isNumeric = function (value) { return !isNaN(value - parseFloat(value)); };
        return NumberWrapper;
    }());
    function isJsObject$1(o) {
        return o !== null && (typeof o === 'function' || typeof o === 'object');
    }
    var _symbolIterator$1 = null;
    function getSymbolIterator$1() {
        if (!_symbolIterator$1) {
            if (((globalScope$1)).Symbol && Symbol.iterator) {
                _symbolIterator$1 = Symbol.iterator;
            }
            else {
                var keys = Object.getOwnPropertyNames(Map.prototype);
                for (var i = 0; i < keys.length; ++i) {
                    var key = keys[i];
                    if (key !== 'entries' && key !== 'size' &&
                        ((Map)).prototype[key] === Map.prototype['entries']) {
                        _symbolIterator$1 = key;
                    }
                }
            }
        }
        return _symbolIterator$1;
    }
    var Location = (function () {
        function Location(platformStrategy) {
            var _this = this;
            this._subject = new EventEmitter();
            this._platformStrategy = platformStrategy;
            var browserBaseHref = this._platformStrategy.getBaseHref();
            this._baseHref = Location.stripTrailingSlash(_stripIndexHtml(browserBaseHref));
            this._platformStrategy.onPopState(function (ev) {
                _this._subject.emit({
                    'url': _this.path(true),
                    'pop': true,
                    'type': ev.type,
                });
            });
        }
        Location.prototype.path = function (includeHash) {
            if (includeHash === void 0) {
                includeHash = false;
            }
            return this.normalize(this._platformStrategy.path(includeHash));
        };
        Location.prototype.isCurrentPathEqualTo = function (path, query) {
            if (query === void 0) {
                query = '';
            }
            return this.path() == this.normalize(path + Location.normalizeQueryParams(query));
        };
        Location.prototype.normalize = function (url) {
            return Location.stripTrailingSlash(_stripBaseHref(this._baseHref, _stripIndexHtml(url)));
        };
        Location.prototype.prepareExternalUrl = function (url) {
            if (url && url[0] !== '/') {
                url = '/' + url;
            }
            return this._platformStrategy.prepareExternalUrl(url);
        };
        Location.prototype.go = function (path, query) {
            if (query === void 0) {
                query = '';
            }
            this._platformStrategy.pushState(null, '', path, query);
        };
        Location.prototype.replaceState = function (path, query) {
            if (query === void 0) {
                query = '';
            }
            this._platformStrategy.replaceState(null, '', path, query);
        };
        Location.prototype.forward = function () { this._platformStrategy.forward(); };
        Location.prototype.back = function () { this._platformStrategy.back(); };
        Location.prototype.subscribe = function (onNext, onThrow, onReturn) {
            if (onThrow === void 0) {
                onThrow = null;
            }
            if (onReturn === void 0) {
                onReturn = null;
            }
            return this._subject.subscribe({ next: onNext, error: onThrow, complete: onReturn });
        };
        Location.normalizeQueryParams = function (params) {
            return params && params[0] !== '?' ? '?' + params : params;
        };
        Location.joinWithSlash = function (start, end) {
            if (start.length == 0) {
                return end;
            }
            if (end.length == 0) {
                return start;
            }
            var slashes = 0;
            if (start.endsWith('/')) {
                slashes++;
            }
            if (end.startsWith('/')) {
                slashes++;
            }
            if (slashes == 2) {
                return start + end.substring(1);
            }
            if (slashes == 1) {
                return start + end;
            }
            return start + '/' + end;
        };
        Location.stripTrailingSlash = function (url) { return url.replace(/\/$/, ''); };
        Location.decorators = [
            { type: Injectable },
        ];
        Location.ctorParameters = function () {
            return [
                { type: LocationStrategy, },
            ];
        };
        return Location;
    }());
    function _stripBaseHref(baseHref, url) {
        return baseHref && url.startsWith(baseHref) ? url.substring(baseHref.length) : url;
    }
    function _stripIndexHtml(url) {
        return url.replace(/\/index.html$/, '');
    }
    var __extends$21 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var HashLocationStrategy = (function (_super) {
        __extends$21(HashLocationStrategy, _super);
        function HashLocationStrategy(_platformLocation, _baseHref) {
            _super.call(this);
            this._platformLocation = _platformLocation;
            this._baseHref = '';
            if (isPresent$1(_baseHref)) {
                this._baseHref = _baseHref;
            }
        }
        HashLocationStrategy.prototype.onPopState = function (fn) {
            this._platformLocation.onPopState(fn);
            this._platformLocation.onHashChange(fn);
        };
        HashLocationStrategy.prototype.getBaseHref = function () { return this._baseHref; };
        HashLocationStrategy.prototype.path = function (includeHash) {
            if (includeHash === void 0) {
                includeHash = false;
            }
            var path = this._platformLocation.hash;
            if (!isPresent$1(path))
                path = '#';
            return path.length > 0 ? path.substring(1) : path;
        };
        HashLocationStrategy.prototype.prepareExternalUrl = function (internal) {
            var url = Location.joinWithSlash(this._baseHref, internal);
            return url.length > 0 ? ('#' + url) : url;
        };
        HashLocationStrategy.prototype.pushState = function (state$$1, title, path, queryParams) {
            var url = this.prepareExternalUrl(path + Location.normalizeQueryParams(queryParams));
            if (url.length == 0) {
                url = this._platformLocation.pathname;
            }
            this._platformLocation.pushState(state$$1, title, url);
        };
        HashLocationStrategy.prototype.replaceState = function (state$$1, title, path, queryParams) {
            var url = this.prepareExternalUrl(path + Location.normalizeQueryParams(queryParams));
            if (url.length == 0) {
                url = this._platformLocation.pathname;
            }
            this._platformLocation.replaceState(state$$1, title, url);
        };
        HashLocationStrategy.prototype.forward = function () { this._platformLocation.forward(); };
        HashLocationStrategy.prototype.back = function () { this._platformLocation.back(); };
        HashLocationStrategy.decorators = [
            { type: Injectable },
        ];
        HashLocationStrategy.ctorParameters = function () {
            return [
                { type: PlatformLocation, },
                { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [APP_BASE_HREF,] },] },
            ];
        };
        return HashLocationStrategy;
    }(LocationStrategy));
    var __extends$22 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var PathLocationStrategy = (function (_super) {
        __extends$22(PathLocationStrategy, _super);
        function PathLocationStrategy(_platformLocation, href) {
            _super.call(this);
            this._platformLocation = _platformLocation;
            if (isBlank$1(href)) {
                href = this._platformLocation.getBaseHrefFromDOM();
            }
            if (isBlank$1(href)) {
                throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");
            }
            this._baseHref = href;
        }
        PathLocationStrategy.prototype.onPopState = function (fn) {
            this._platformLocation.onPopState(fn);
            this._platformLocation.onHashChange(fn);
        };
        PathLocationStrategy.prototype.getBaseHref = function () { return this._baseHref; };
        PathLocationStrategy.prototype.prepareExternalUrl = function (internal) {
            return Location.joinWithSlash(this._baseHref, internal);
        };
        PathLocationStrategy.prototype.path = function (includeHash) {
            if (includeHash === void 0) {
                includeHash = false;
            }
            var pathname = this._platformLocation.pathname +
                Location.normalizeQueryParams(this._platformLocation.search);
            var hash = this._platformLocation.hash;
            return hash && includeHash ? "" + pathname + hash : pathname;
        };
        PathLocationStrategy.prototype.pushState = function (state$$1, title, url, queryParams) {
            var externalUrl = this.prepareExternalUrl(url + Location.normalizeQueryParams(queryParams));
            this._platformLocation.pushState(state$$1, title, externalUrl);
        };
        PathLocationStrategy.prototype.replaceState = function (state$$1, title, url, queryParams) {
            var externalUrl = this.prepareExternalUrl(url + Location.normalizeQueryParams(queryParams));
            this._platformLocation.replaceState(state$$1, title, externalUrl);
        };
        PathLocationStrategy.prototype.forward = function () { this._platformLocation.forward(); };
        PathLocationStrategy.prototype.back = function () { this._platformLocation.back(); };
        PathLocationStrategy.decorators = [
            { type: Injectable },
        ];
        PathLocationStrategy.ctorParameters = function () {
            return [
                { type: PlatformLocation, },
                { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [APP_BASE_HREF,] },] },
            ];
        };
        return PathLocationStrategy;
    }(LocationStrategy));
    var __extends$23 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var NgLocalization = (function () {
        function NgLocalization() {
        }
        NgLocalization.prototype.getPluralCategory = function (value) { };
        return NgLocalization;
    }());
    function getPluralCategory(value, cases, ngLocalization) {
        var key = "=" + value;
        if (cases.indexOf(key) > -1) {
            return key;
        }
        key = ngLocalization.getPluralCategory(value);
        if (cases.indexOf(key) > -1) {
            return key;
        }
        if (cases.indexOf('other') > -1) {
            return 'other';
        }
        throw new Error("No plural message found for value \"" + value + "\"");
    }
    var NgLocaleLocalization = (function (_super) {
        __extends$23(NgLocaleLocalization, _super);
        function NgLocaleLocalization(_locale) {
            _super.call(this);
            this._locale = _locale;
        }
        NgLocaleLocalization.prototype.getPluralCategory = function (value) {
            var plural = getPluralCase(this._locale, value);
            switch (plural) {
                case Plural.Zero:
                    return 'zero';
                case Plural.One:
                    return 'one';
                case Plural.Two:
                    return 'two';
                case Plural.Few:
                    return 'few';
                case Plural.Many:
                    return 'many';
                default:
                    return 'other';
            }
        };
        NgLocaleLocalization.decorators = [
            { type: Injectable },
        ];
        NgLocaleLocalization.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: Inject, args: [LOCALE_ID,] },] },
            ];
        };
        return NgLocaleLocalization;
    }(NgLocalization));
    var Plural = {};
    Plural.Zero = 0;
    Plural.One = 1;
    Plural.Two = 2;
    Plural.Few = 3;
    Plural.Many = 4;
    Plural.Other = 5;
    Plural[Plural.Zero] = "Zero";
    Plural[Plural.One] = "One";
    Plural[Plural.Two] = "Two";
    Plural[Plural.Few] = "Few";
    Plural[Plural.Many] = "Many";
    Plural[Plural.Other] = "Other";
    function getPluralCase(locale, nLike) {
        if (typeof nLike === 'string') {
            nLike = parseInt((nLike), 10);
        }
        var n = (nLike);
        var nDecimal = n.toString().replace(/^[^.]*\.?/, '');
        var i = Math.floor(Math.abs(n));
        var v = nDecimal.length;
        var f = parseInt(nDecimal, 10);
        var t = parseInt(n.toString().replace(/^[^.]*\.?|0+$/g, ''), 10) || 0;
        var lang = locale.split('-')[0].toLowerCase();
        switch (lang) {
            case 'af':
            case 'asa':
            case 'az':
            case 'bem':
            case 'bez':
            case 'bg':
            case 'brx':
            case 'ce':
            case 'cgg':
            case 'chr':
            case 'ckb':
            case 'ee':
            case 'el':
            case 'eo':
            case 'es':
            case 'eu':
            case 'fo':
            case 'fur':
            case 'gsw':
            case 'ha':
            case 'haw':
            case 'hu':
            case 'jgo':
            case 'jmc':
            case 'ka':
            case 'kk':
            case 'kkj':
            case 'kl':
            case 'ks':
            case 'ksb':
            case 'ky':
            case 'lb':
            case 'lg':
            case 'mas':
            case 'mgo':
            case 'ml':
            case 'mn':
            case 'nb':
            case 'nd':
            case 'ne':
            case 'nn':
            case 'nnh':
            case 'nyn':
            case 'om':
            case 'or':
            case 'os':
            case 'ps':
            case 'rm':
            case 'rof':
            case 'rwk':
            case 'saq':
            case 'seh':
            case 'sn':
            case 'so':
            case 'sq':
            case 'ta':
            case 'te':
            case 'teo':
            case 'tk':
            case 'tr':
            case 'ug':
            case 'uz':
            case 'vo':
            case 'vun':
            case 'wae':
            case 'xog':
                if (n === 1)
                    return Plural.One;
                return Plural.Other;
            case 'agq':
            case 'bas':
            case 'cu':
            case 'dav':
            case 'dje':
            case 'dua':
            case 'dyo':
            case 'ebu':
            case 'ewo':
            case 'guz':
            case 'kam':
            case 'khq':
            case 'ki':
            case 'kln':
            case 'kok':
            case 'ksf':
            case 'lrc':
            case 'lu':
            case 'luo':
            case 'luy':
            case 'mer':
            case 'mfe':
            case 'mgh':
            case 'mua':
            case 'mzn':
            case 'nmg':
            case 'nus':
            case 'qu':
            case 'rn':
            case 'rw':
            case 'sbp':
            case 'twq':
            case 'vai':
            case 'yav':
            case 'yue':
            case 'zgh':
            case 'ak':
            case 'ln':
            case 'mg':
            case 'pa':
            case 'ti':
                if (n === Math.floor(n) && n >= 0 && n <= 1)
                    return Plural.One;
                return Plural.Other;
            case 'am':
            case 'as':
            case 'bn':
            case 'fa':
            case 'gu':
            case 'hi':
            case 'kn':
            case 'mr':
            case 'zu':
                if (i === 0 || n === 1)
                    return Plural.One;
                return Plural.Other;
            case 'ar':
                if (n === 0)
                    return Plural.Zero;
                if (n === 1)
                    return Plural.One;
                if (n === 2)
                    return Plural.Two;
                if (n % 100 === Math.floor(n % 100) && n % 100 >= 3 && n % 100 <= 10)
                    return Plural.Few;
                if (n % 100 === Math.floor(n % 100) && n % 100 >= 11 && n % 100 <= 99)
                    return Plural.Many;
                return Plural.Other;
            case 'ast':
            case 'ca':
            case 'de':
            case 'en':
            case 'et':
            case 'fi':
            case 'fy':
            case 'gl':
            case 'it':
            case 'nl':
            case 'sv':
            case 'sw':
            case 'ur':
            case 'yi':
                if (i === 1 && v === 0)
                    return Plural.One;
                return Plural.Other;
            case 'be':
                if (n % 10 === 1 && !(n % 100 === 11))
                    return Plural.One;
                if (n % 10 === Math.floor(n % 10) && n % 10 >= 2 && n % 10 <= 4 &&
                    !(n % 100 >= 12 && n % 100 <= 14))
                    return Plural.Few;
                if (n % 10 === 0 || n % 10 === Math.floor(n % 10) && n % 10 >= 5 && n % 10 <= 9 ||
                    n % 100 === Math.floor(n % 100) && n % 100 >= 11 && n % 100 <= 14)
                    return Plural.Many;
                return Plural.Other;
            case 'br':
                if (n % 10 === 1 && !(n % 100 === 11 || n % 100 === 71 || n % 100 === 91))
                    return Plural.One;
                if (n % 10 === 2 && !(n % 100 === 12 || n % 100 === 72 || n % 100 === 92))
                    return Plural.Two;
                if (n % 10 === Math.floor(n % 10) && (n % 10 >= 3 && n % 10 <= 4 || n % 10 === 9) &&
                    !(n % 100 >= 10 && n % 100 <= 19 || n % 100 >= 70 && n % 100 <= 79 ||
                        n % 100 >= 90 && n % 100 <= 99))
                    return Plural.Few;
                if (!(n === 0) && n % 1e6 === 0)
                    return Plural.Many;
                return Plural.Other;
            case 'bs':
            case 'hr':
            case 'sr':
                if (v === 0 && i % 10 === 1 && !(i % 100 === 11) || f % 10 === 1 && !(f % 100 === 11))
                    return Plural.One;
                if (v === 0 && i % 10 === Math.floor(i % 10) && i % 10 >= 2 && i % 10 <= 4 &&
                    !(i % 100 >= 12 && i % 100 <= 14) ||
                    f % 10 === Math.floor(f % 10) && f % 10 >= 2 && f % 10 <= 4 &&
                        !(f % 100 >= 12 && f % 100 <= 14))
                    return Plural.Few;
                return Plural.Other;
            case 'cs':
            case 'sk':
                if (i === 1 && v === 0)
                    return Plural.One;
                if (i === Math.floor(i) && i >= 2 && i <= 4 && v === 0)
                    return Plural.Few;
                if (!(v === 0))
                    return Plural.Many;
                return Plural.Other;
            case 'cy':
                if (n === 0)
                    return Plural.Zero;
                if (n === 1)
                    return Plural.One;
                if (n === 2)
                    return Plural.Two;
                if (n === 3)
                    return Plural.Few;
                if (n === 6)
                    return Plural.Many;
                return Plural.Other;
            case 'da':
                if (n === 1 || !(t === 0) && (i === 0 || i === 1))
                    return Plural.One;
                return Plural.Other;
            case 'dsb':
            case 'hsb':
                if (v === 0 && i % 100 === 1 || f % 100 === 1)
                    return Plural.One;
                if (v === 0 && i % 100 === 2 || f % 100 === 2)
                    return Plural.Two;
                if (v === 0 && i % 100 === Math.floor(i % 100) && i % 100 >= 3 && i % 100 <= 4 ||
                    f % 100 === Math.floor(f % 100) && f % 100 >= 3 && f % 100 <= 4)
                    return Plural.Few;
                return Plural.Other;
            case 'ff':
            case 'fr':
            case 'hy':
            case 'kab':
                if (i === 0 || i === 1)
                    return Plural.One;
                return Plural.Other;
            case 'fil':
                if (v === 0 && (i === 1 || i === 2 || i === 3) ||
                    v === 0 && !(i % 10 === 4 || i % 10 === 6 || i % 10 === 9) ||
                    !(v === 0) && !(f % 10 === 4 || f % 10 === 6 || f % 10 === 9))
                    return Plural.One;
                return Plural.Other;
            case 'ga':
                if (n === 1)
                    return Plural.One;
                if (n === 2)
                    return Plural.Two;
                if (n === Math.floor(n) && n >= 3 && n <= 6)
                    return Plural.Few;
                if (n === Math.floor(n) && n >= 7 && n <= 10)
                    return Plural.Many;
                return Plural.Other;
            case 'gd':
                if (n === 1 || n === 11)
                    return Plural.One;
                if (n === 2 || n === 12)
                    return Plural.Two;
                if (n === Math.floor(n) && (n >= 3 && n <= 10 || n >= 13 && n <= 19))
                    return Plural.Few;
                return Plural.Other;
            case 'gv':
                if (v === 0 && i % 10 === 1)
                    return Plural.One;
                if (v === 0 && i % 10 === 2)
                    return Plural.Two;
                if (v === 0 &&
                    (i % 100 === 0 || i % 100 === 20 || i % 100 === 40 || i % 100 === 60 || i % 100 === 80))
                    return Plural.Few;
                if (!(v === 0))
                    return Plural.Many;
                return Plural.Other;
            case 'he':
                if (i === 1 && v === 0)
                    return Plural.One;
                if (i === 2 && v === 0)
                    return Plural.Two;
                if (v === 0 && !(n >= 0 && n <= 10) && n % 10 === 0)
                    return Plural.Many;
                return Plural.Other;
            case 'is':
                if (t === 0 && i % 10 === 1 && !(i % 100 === 11) || !(t === 0))
                    return Plural.One;
                return Plural.Other;
            case 'ksh':
                if (n === 0)
                    return Plural.Zero;
                if (n === 1)
                    return Plural.One;
                return Plural.Other;
            case 'kw':
            case 'naq':
            case 'se':
            case 'smn':
                if (n === 1)
                    return Plural.One;
                if (n === 2)
                    return Plural.Two;
                return Plural.Other;
            case 'lag':
                if (n === 0)
                    return Plural.Zero;
                if ((i === 0 || i === 1) && !(n === 0))
                    return Plural.One;
                return Plural.Other;
            case 'lt':
                if (n % 10 === 1 && !(n % 100 >= 11 && n % 100 <= 19))
                    return Plural.One;
                if (n % 10 === Math.floor(n % 10) && n % 10 >= 2 && n % 10 <= 9 &&
                    !(n % 100 >= 11 && n % 100 <= 19))
                    return Plural.Few;
                if (!(f === 0))
                    return Plural.Many;
                return Plural.Other;
            case 'lv':
            case 'prg':
                if (n % 10 === 0 || n % 100 === Math.floor(n % 100) && n % 100 >= 11 && n % 100 <= 19 ||
                    v === 2 && f % 100 === Math.floor(f % 100) && f % 100 >= 11 && f % 100 <= 19)
                    return Plural.Zero;
                if (n % 10 === 1 && !(n % 100 === 11) || v === 2 && f % 10 === 1 && !(f % 100 === 11) ||
                    !(v === 2) && f % 10 === 1)
                    return Plural.One;
                return Plural.Other;
            case 'mk':
                if (v === 0 && i % 10 === 1 || f % 10 === 1)
                    return Plural.One;
                return Plural.Other;
            case 'mt':
                if (n === 1)
                    return Plural.One;
                if (n === 0 || n % 100 === Math.floor(n % 100) && n % 100 >= 2 && n % 100 <= 10)
                    return Plural.Few;
                if (n % 100 === Math.floor(n % 100) && n % 100 >= 11 && n % 100 <= 19)
                    return Plural.Many;
                return Plural.Other;
            case 'pl':
                if (i === 1 && v === 0)
                    return Plural.One;
                if (v === 0 && i % 10 === Math.floor(i % 10) && i % 10 >= 2 && i % 10 <= 4 &&
                    !(i % 100 >= 12 && i % 100 <= 14))
                    return Plural.Few;
                if (v === 0 && !(i === 1) && i % 10 === Math.floor(i % 10) && i % 10 >= 0 && i % 10 <= 1 ||
                    v === 0 && i % 10 === Math.floor(i % 10) && i % 10 >= 5 && i % 10 <= 9 ||
                    v === 0 && i % 100 === Math.floor(i % 100) && i % 100 >= 12 && i % 100 <= 14)
                    return Plural.Many;
                return Plural.Other;
            case 'pt':
                if (n === Math.floor(n) && n >= 0 && n <= 2 && !(n === 2))
                    return Plural.One;
                return Plural.Other;
            case 'ro':
                if (i === 1 && v === 0)
                    return Plural.One;
                if (!(v === 0) || n === 0 ||
                    !(n === 1) && n % 100 === Math.floor(n % 100) && n % 100 >= 1 && n % 100 <= 19)
                    return Plural.Few;
                return Plural.Other;
            case 'ru':
            case 'uk':
                if (v === 0 && i % 10 === 1 && !(i % 100 === 11))
                    return Plural.One;
                if (v === 0 && i % 10 === Math.floor(i % 10) && i % 10 >= 2 && i % 10 <= 4 &&
                    !(i % 100 >= 12 && i % 100 <= 14))
                    return Plural.Few;
                if (v === 0 && i % 10 === 0 ||
                    v === 0 && i % 10 === Math.floor(i % 10) && i % 10 >= 5 && i % 10 <= 9 ||
                    v === 0 && i % 100 === Math.floor(i % 100) && i % 100 >= 11 && i % 100 <= 14)
                    return Plural.Many;
                return Plural.Other;
            case 'shi':
                if (i === 0 || n === 1)
                    return Plural.One;
                if (n === Math.floor(n) && n >= 2 && n <= 10)
                    return Plural.Few;
                return Plural.Other;
            case 'si':
                if (n === 0 || n === 1 || i === 0 && f === 1)
                    return Plural.One;
                return Plural.Other;
            case 'sl':
                if (v === 0 && i % 100 === 1)
                    return Plural.One;
                if (v === 0 && i % 100 === 2)
                    return Plural.Two;
                if (v === 0 && i % 100 === Math.floor(i % 100) && i % 100 >= 3 && i % 100 <= 4 || !(v === 0))
                    return Plural.Few;
                return Plural.Other;
            case 'tzm':
                if (n === Math.floor(n) && n >= 0 && n <= 1 || n === Math.floor(n) && n >= 11 && n <= 99)
                    return Plural.One;
                return Plural.Other;
            default:
                return Plural.Other;
        }
    }
    function isListLikeIterable$1(obj) {
        if (!isJsObject$1(obj))
            return false;
        return Array.isArray(obj) ||
            (!(obj instanceof Map) &&
                getSymbolIterator$1() in obj);
    }
    var NgClass = (function () {
        function NgClass(_iterableDiffers, _keyValueDiffers, _ngEl, _renderer) {
            this._iterableDiffers = _iterableDiffers;
            this._keyValueDiffers = _keyValueDiffers;
            this._ngEl = _ngEl;
            this._renderer = _renderer;
            this._initialClasses = [];
        }
        Object.defineProperty(NgClass.prototype, "klass", {
            set: function (v) {
                this._applyInitialClasses(true);
                this._initialClasses = typeof v === 'string' ? v.split(/\s+/) : [];
                this._applyInitialClasses(false);
                this._applyClasses(this._rawClass, false);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgClass.prototype, "ngClass", {
            set: function (v) {
                this._cleanupClasses(this._rawClass);
                this._iterableDiffer = null;
                this._keyValueDiffer = null;
                this._rawClass = typeof v === 'string' ? v.split(/\s+/) : v;
                if (this._rawClass) {
                    if (isListLikeIterable$1(this._rawClass)) {
                        this._iterableDiffer = this._iterableDiffers.find(this._rawClass).create(null);
                    }
                    else {
                        this._keyValueDiffer = this._keyValueDiffers.find(this._rawClass).create(null);
                    }
                }
            },
            enumerable: true,
            configurable: true
        });
        NgClass.prototype.ngDoCheck = function () {
            if (this._iterableDiffer) {
                var changes = this._iterableDiffer.diff(this._rawClass);
                if (changes) {
                    this._applyIterableChanges(changes);
                }
            }
            else if (this._keyValueDiffer) {
                var changes = this._keyValueDiffer.diff(this._rawClass);
                if (changes) {
                    this._applyKeyValueChanges(changes);
                }
            }
        };
        NgClass.prototype._cleanupClasses = function (rawClassVal) {
            this._applyClasses(rawClassVal, true);
            this._applyInitialClasses(false);
        };
        NgClass.prototype._applyKeyValueChanges = function (changes) {
            var _this = this;
            changes.forEachAddedItem(function (record) { return _this._toggleClass(record.key, record.currentValue); });
            changes.forEachChangedItem(function (record) { return _this._toggleClass(record.key, record.currentValue); });
            changes.forEachRemovedItem(function (record) {
                if (record.previousValue) {
                    _this._toggleClass(record.key, false);
                }
            });
        };
        NgClass.prototype._applyIterableChanges = function (changes) {
            var _this = this;
            changes.forEachAddedItem(function (record) {
                if (typeof record.item === 'string') {
                    _this._toggleClass(record.item, true);
                }
                else {
                    throw new Error("NgClass can only toggle CSS classes expressed as strings, got " + stringify$1(record.item));
                }
            });
            changes.forEachRemovedItem(function (record) { return _this._toggleClass(record.item, false); });
        };
        NgClass.prototype._applyInitialClasses = function (isCleanup) {
            var _this = this;
            this._initialClasses.forEach(function (klass) { return _this._toggleClass(klass, !isCleanup); });
        };
        NgClass.prototype._applyClasses = function (rawClassVal, isCleanup) {
            var _this = this;
            if (rawClassVal) {
                if (Array.isArray(rawClassVal) || rawClassVal instanceof Set) {
                    ((rawClassVal)).forEach(function (klass) { return _this._toggleClass(klass, !isCleanup); });
                }
                else {
                    Object.keys(rawClassVal).forEach(function (klass) {
                        if (rawClassVal[klass] != null)
                            _this._toggleClass(klass, !isCleanup);
                    });
                }
            }
        };
        NgClass.prototype._toggleClass = function (klass, enabled) {
            var _this = this;
            klass = klass.trim();
            if (klass) {
                klass.split(/\s+/g).forEach(function (klass) { _this._renderer.setElementClass(_this._ngEl.nativeElement, klass, enabled); });
            }
        };
        NgClass.decorators = [
            { type: Directive, args: [{ selector: '[ngClass]' },] },
        ];
        NgClass.ctorParameters = function () {
            return [
                { type: IterableDiffers, },
                { type: KeyValueDiffers, },
                { type: ElementRef, },
                { type: Renderer, },
            ];
        };
        NgClass.propDecorators = {
            'klass': [{ type: Input, args: ['class',] },],
            'ngClass': [{ type: Input },],
        };
        return NgClass;
    }());
    var NgForRow = (function () {
        function NgForRow($implicit, index, count) {
            this.$implicit = $implicit;
            this.index = index;
            this.count = count;
        }
        Object.defineProperty(NgForRow.prototype, "first", {
            get: function () { return this.index === 0; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgForRow.prototype, "last", {
            get: function () { return this.index === this.count - 1; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgForRow.prototype, "even", {
            get: function () { return this.index % 2 === 0; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgForRow.prototype, "odd", {
            get: function () { return !this.even; },
            enumerable: true,
            configurable: true
        });
        return NgForRow;
    }());
    var NgFor = (function () {
        function NgFor(_viewContainer, _template, _differs, _cdr) {
            this._viewContainer = _viewContainer;
            this._template = _template;
            this._differs = _differs;
            this._cdr = _cdr;
            this._differ = null;
        }
        Object.defineProperty(NgFor.prototype, "ngForTrackBy", {
            get: function () { return this._trackByFn; },
            set: function (fn) {
                if (isDevMode() && fn != null && typeof fn !== 'function') {
                    if ((console) && (console.warn)) {
                        console.warn(("trackBy must be a function, but received " + JSON.stringify(fn) + ". ") +
                            "See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.");
                    }
                }
                this._trackByFn = fn;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgFor.prototype, "ngForTemplate", {
            set: function (value) {
                if (value) {
                    this._template = value;
                }
            },
            enumerable: true,
            configurable: true
        });
        NgFor.prototype.ngOnChanges = function (changes) {
            if ('ngForOf' in changes) {
                var value = changes['ngForOf'].currentValue;
                if (!this._differ && value) {
                    try {
                        this._differ = this._differs.find(value).create(this._cdr, this.ngForTrackBy);
                    }
                    catch (e) {
                        throw new Error("Cannot find a differ supporting object '" + value + "' of type '" + getTypeNameForDebugging$1(value) + "'. NgFor only supports binding to Iterables such as Arrays.");
                    }
                }
            }
        };
        NgFor.prototype.ngDoCheck = function () {
            if (this._differ) {
                var changes = this._differ.diff(this.ngForOf);
                if (changes)
                    this._applyChanges(changes);
            }
        };
        NgFor.prototype._applyChanges = function (changes) {
            var _this = this;
            var insertTuples = [];
            changes.forEachOperation(function (item, adjustedPreviousIndex, currentIndex) {
                if (item.previousIndex == null) {
                    var view = _this._viewContainer.createEmbeddedView(_this._template, new NgForRow(null, null, null), currentIndex);
                    var tuple = new RecordViewTuple(item, view);
                    insertTuples.push(tuple);
                }
                else if (currentIndex == null) {
                    _this._viewContainer.remove(adjustedPreviousIndex);
                }
                else {
                    var view = _this._viewContainer.get(adjustedPreviousIndex);
                    _this._viewContainer.move(view, currentIndex);
                    var tuple = new RecordViewTuple(item, (view));
                    insertTuples.push(tuple);
                }
            });
            for (var i = 0; i < insertTuples.length; i++) {
                this._perViewChange(insertTuples[i].view, insertTuples[i].record);
            }
            for (var i = 0, ilen = this._viewContainer.length; i < ilen; i++) {
                var viewRef = (this._viewContainer.get(i));
                viewRef.context.index = i;
                viewRef.context.count = ilen;
            }
            changes.forEachIdentityChange(function (record) {
                var viewRef = (_this._viewContainer.get(record.currentIndex));
                viewRef.context.$implicit = record.item;
            });
        };
        NgFor.prototype._perViewChange = function (view, record) {
            view.context.$implicit = record.item;
        };
        NgFor.decorators = [
            { type: Directive, args: [{ selector: '[ngFor][ngForOf]' },] },
        ];
        NgFor.ctorParameters = function () {
            return [
                { type: ViewContainerRef, },
                { type: TemplateRef, },
                { type: IterableDiffers, },
                { type: ChangeDetectorRef, },
            ];
        };
        NgFor.propDecorators = {
            'ngForOf': [{ type: Input },],
            'ngForTrackBy': [{ type: Input },],
            'ngForTemplate': [{ type: Input },],
        };
        return NgFor;
    }());
    var RecordViewTuple = (function () {
        function RecordViewTuple(record, view) {
            this.record = record;
            this.view = view;
        }
        return RecordViewTuple;
    }());
    var NgIf = (function () {
        function NgIf(_viewContainer, _template) {
            this._viewContainer = _viewContainer;
            this._template = _template;
            this._hasView = false;
        }
        Object.defineProperty(NgIf.prototype, "ngIf", {
            set: function (condition) {
                if (condition && !this._hasView) {
                    this._hasView = true;
                    this._viewContainer.createEmbeddedView(this._template);
                }
                else if (!condition && this._hasView) {
                    this._hasView = false;
                    this._viewContainer.clear();
                }
            },
            enumerable: true,
            configurable: true
        });
        NgIf.decorators = [
            { type: Directive, args: [{ selector: '[ngIf]' },] },
        ];
        NgIf.ctorParameters = function () {
            return [
                { type: ViewContainerRef, },
                { type: TemplateRef, },
            ];
        };
        NgIf.propDecorators = {
            'ngIf': [{ type: Input },],
        };
        return NgIf;
    }());
    var SwitchView = (function () {
        function SwitchView(_viewContainerRef, _templateRef) {
            this._viewContainerRef = _viewContainerRef;
            this._templateRef = _templateRef;
            this._created = false;
        }
        SwitchView.prototype.create = function () {
            this._created = true;
            this._viewContainerRef.createEmbeddedView(this._templateRef);
        };
        SwitchView.prototype.destroy = function () {
            this._created = false;
            this._viewContainerRef.clear();
        };
        SwitchView.prototype.enforceState = function (created) {
            if (created && !this._created) {
                this.create();
            }
            else if (!created && this._created) {
                this.destroy();
            }
        };
        return SwitchView;
    }());
    var NgSwitch = (function () {
        function NgSwitch() {
            this._defaultUsed = false;
            this._caseCount = 0;
            this._lastCaseCheckIndex = 0;
            this._lastCasesMatched = false;
        }
        Object.defineProperty(NgSwitch.prototype, "ngSwitch", {
            set: function (newValue) {
                this._ngSwitch = newValue;
                if (this._caseCount === 0) {
                    this._updateDefaultCases(true);
                }
            },
            enumerable: true,
            configurable: true
        });
        NgSwitch.prototype._addCase = function () { return this._caseCount++; };
        NgSwitch.prototype._addDefault = function (view) {
            if (!this._defaultViews) {
                this._defaultViews = [];
            }
            this._defaultViews.push(view);
        };
        NgSwitch.prototype._matchCase = function (value) {
            var matched = value == this._ngSwitch;
            this._lastCasesMatched = this._lastCasesMatched || matched;
            this._lastCaseCheckIndex++;
            if (this._lastCaseCheckIndex === this._caseCount) {
                this._updateDefaultCases(!this._lastCasesMatched);
                this._lastCaseCheckIndex = 0;
                this._lastCasesMatched = false;
            }
            return matched;
        };
        NgSwitch.prototype._updateDefaultCases = function (useDefault) {
            if (this._defaultViews && useDefault !== this._defaultUsed) {
                this._defaultUsed = useDefault;
                for (var i = 0; i < this._defaultViews.length; i++) {
                    var defaultView = this._defaultViews[i];
                    defaultView.enforceState(useDefault);
                }
            }
        };
        NgSwitch.decorators = [
            { type: Directive, args: [{ selector: '[ngSwitch]' },] },
        ];
        NgSwitch.ctorParameters = function () { return []; };
        NgSwitch.propDecorators = {
            'ngSwitch': [{ type: Input },],
        };
        return NgSwitch;
    }());
    var NgSwitchCase = (function () {
        function NgSwitchCase(viewContainer, templateRef, ngSwitch) {
            this.ngSwitch = ngSwitch;
            ngSwitch._addCase();
            this._view = new SwitchView(viewContainer, templateRef);
        }
        NgSwitchCase.prototype.ngDoCheck = function () { this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase)); };
        NgSwitchCase.decorators = [
            { type: Directive, args: [{ selector: '[ngSwitchCase]' },] },
        ];
        NgSwitchCase.ctorParameters = function () {
            return [
                { type: ViewContainerRef, },
                { type: TemplateRef, },
                { type: NgSwitch, decorators: [{ type: Host },] },
            ];
        };
        NgSwitchCase.propDecorators = {
            'ngSwitchCase': [{ type: Input },],
        };
        return NgSwitchCase;
    }());
    var NgSwitchDefault = (function () {
        function NgSwitchDefault(viewContainer, templateRef, ngSwitch) {
            ngSwitch._addDefault(new SwitchView(viewContainer, templateRef));
        }
        NgSwitchDefault.decorators = [
            { type: Directive, args: [{ selector: '[ngSwitchDefault]' },] },
        ];
        NgSwitchDefault.ctorParameters = function () {
            return [
                { type: ViewContainerRef, },
                { type: TemplateRef, },
                { type: NgSwitch, decorators: [{ type: Host },] },
            ];
        };
        return NgSwitchDefault;
    }());
    var NgPlural = (function () {
        function NgPlural(_localization) {
            this._localization = _localization;
            this._caseViews = {};
        }
        Object.defineProperty(NgPlural.prototype, "ngPlural", {
            set: function (value) {
                this._switchValue = value;
                this._updateView();
            },
            enumerable: true,
            configurable: true
        });
        NgPlural.prototype.addCase = function (value, switchView) { this._caseViews[value] = switchView; };
        NgPlural.prototype._updateView = function () {
            this._clearViews();
            var cases = Object.keys(this._caseViews);
            var key = getPluralCategory(this._switchValue, cases, this._localization);
            this._activateView(this._caseViews[key]);
        };
        NgPlural.prototype._clearViews = function () {
            if (this._activeView)
                this._activeView.destroy();
        };
        NgPlural.prototype._activateView = function (view) {
            if (view) {
                this._activeView = view;
                this._activeView.create();
            }
        };
        NgPlural.decorators = [
            { type: Directive, args: [{ selector: '[ngPlural]' },] },
        ];
        NgPlural.ctorParameters = function () {
            return [
                { type: NgLocalization, },
            ];
        };
        NgPlural.propDecorators = {
            'ngPlural': [{ type: Input },],
        };
        return NgPlural;
    }());
    var NgPluralCase = (function () {
        function NgPluralCase(value, template, viewContainer, ngPlural) {
            this.value = value;
            ngPlural.addCase(value, new SwitchView(viewContainer, template));
        }
        NgPluralCase.decorators = [
            { type: Directive, args: [{ selector: '[ngPluralCase]' },] },
        ];
        NgPluralCase.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: Attribute, args: ['ngPluralCase',] },] },
                { type: TemplateRef, },
                { type: ViewContainerRef, },
                { type: NgPlural, decorators: [{ type: Host },] },
            ];
        };
        return NgPluralCase;
    }());
    var NgStyle = (function () {
        function NgStyle(_differs, _ngEl, _renderer) {
            this._differs = _differs;
            this._ngEl = _ngEl;
            this._renderer = _renderer;
        }
        Object.defineProperty(NgStyle.prototype, "ngStyle", {
            set: function (v) {
                this._ngStyle = v;
                if (!this._differ && v) {
                    this._differ = this._differs.find(v).create(null);
                }
            },
            enumerable: true,
            configurable: true
        });
        NgStyle.prototype.ngDoCheck = function () {
            if (this._differ) {
                var changes = this._differ.diff(this._ngStyle);
                if (changes) {
                    this._applyChanges(changes);
                }
            }
        };
        NgStyle.prototype._applyChanges = function (changes) {
            var _this = this;
            changes.forEachRemovedItem(function (record) { return _this._setStyle(record.key, null); });
            changes.forEachAddedItem(function (record) { return _this._setStyle(record.key, record.currentValue); });
            changes.forEachChangedItem(function (record) { return _this._setStyle(record.key, record.currentValue); });
        };
        NgStyle.prototype._setStyle = function (nameAndUnit, value) {
            var _a = nameAndUnit.split('.'), name = _a[0], unit = _a[1];
            value = value && unit ? "" + value + unit : value;
            this._renderer.setElementStyle(this._ngEl.nativeElement, name, value);
        };
        NgStyle.decorators = [
            { type: Directive, args: [{ selector: '[ngStyle]' },] },
        ];
        NgStyle.ctorParameters = function () {
            return [
                { type: KeyValueDiffers, },
                { type: ElementRef, },
                { type: Renderer, },
            ];
        };
        NgStyle.propDecorators = {
            'ngStyle': [{ type: Input },],
        };
        return NgStyle;
    }());
    var NgTemplateOutlet = (function () {
        function NgTemplateOutlet(_viewContainerRef) {
            this._viewContainerRef = _viewContainerRef;
        }
        Object.defineProperty(NgTemplateOutlet.prototype, "ngOutletContext", {
            set: function (context) { this._context = context; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgTemplateOutlet.prototype, "ngTemplateOutlet", {
            set: function (templateRef) { this._templateRef = templateRef; },
            enumerable: true,
            configurable: true
        });
        NgTemplateOutlet.prototype.ngOnChanges = function (changes) {
            if (this._viewRef) {
                this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef));
            }
            if (this._templateRef) {
                this._viewRef = this._viewContainerRef.createEmbeddedView(this._templateRef, this._context);
            }
        };
        NgTemplateOutlet.decorators = [
            { type: Directive, args: [{ selector: '[ngTemplateOutlet]' },] },
        ];
        NgTemplateOutlet.ctorParameters = function () {
            return [
                { type: ViewContainerRef, },
            ];
        };
        NgTemplateOutlet.propDecorators = {
            'ngOutletContext': [{ type: Input },],
            'ngTemplateOutlet': [{ type: Input },],
        };
        return NgTemplateOutlet;
    }());
    var COMMON_DIRECTIVES = [
        NgClass,
        NgFor,
        NgIf,
        NgTemplateOutlet,
        NgStyle,
        NgSwitch,
        NgSwitchCase,
        NgSwitchDefault,
        NgPlural,
        NgPluralCase,
    ];
    var isPromise$1 = __core_private__.isPromise;
    var __extends$25 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var BaseError$1 = (function (_super) {
        __extends$25(BaseError, _super);
        function BaseError(message) {
            _super.call(this, message);
            var nativeError = new Error(message);
            this._nativeError = nativeError;
        }
        Object.defineProperty(BaseError.prototype, "message", {
            get: function () { return this._nativeError.message; },
            set: function (message) { this._nativeError.message = message; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BaseError.prototype, "name", {
            get: function () { return this._nativeError.name; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BaseError.prototype, "stack", {
            get: function () { return ((this._nativeError)).stack; },
            set: function (value) { ((this._nativeError)).stack = value; },
            enumerable: true,
            configurable: true
        });
        BaseError.prototype.toString = function () { return this._nativeError.toString(); };
        return BaseError;
    }(Error));
    var WrappedError$1 = (function (_super) {
        __extends$25(WrappedError, _super);
        function WrappedError(message, error) {
            _super.call(this, message + " caused by: " + (error instanceof Error ? error.message : error));
            this.originalError = error;
        }
        Object.defineProperty(WrappedError.prototype, "stack", {
            get: function () {
                return (((this.originalError instanceof Error ? this.originalError : this._nativeError)))
                    .stack;
            },
            enumerable: true,
            configurable: true
        });
        return WrappedError;
    }(BaseError$1));
    var __extends$24 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var InvalidPipeArgumentError = (function (_super) {
        __extends$24(InvalidPipeArgumentError, _super);
        function InvalidPipeArgumentError(type, value) {
            _super.call(this, "Invalid argument '" + value + "' for pipe '" + stringify$1(type) + "'");
        }
        return InvalidPipeArgumentError;
    }(BaseError$1));
    var ObservableStrategy = (function () {
        function ObservableStrategy() {
        }
        ObservableStrategy.prototype.createSubscription = function (async, updateLatestValue) {
            return async.subscribe({ next: updateLatestValue, error: function (e) { throw e; } });
        };
        ObservableStrategy.prototype.dispose = function (subscription) { subscription.unsubscribe(); };
        ObservableStrategy.prototype.onDestroy = function (subscription) { subscription.unsubscribe(); };
        return ObservableStrategy;
    }());
    var PromiseStrategy = (function () {
        function PromiseStrategy() {
        }
        PromiseStrategy.prototype.createSubscription = function (async, updateLatestValue) {
            return async.then(updateLatestValue, function (e) { throw e; });
        };
        PromiseStrategy.prototype.dispose = function (subscription) { };
        PromiseStrategy.prototype.onDestroy = function (subscription) { };
        return PromiseStrategy;
    }());
    var _promiseStrategy = new PromiseStrategy();
    var _observableStrategy = new ObservableStrategy();
    var AsyncPipe = (function () {
        function AsyncPipe(_ref) {
            this._ref = _ref;
            this._latestValue = null;
            this._latestReturnedValue = null;
            this._subscription = null;
            this._obj = null;
            this._strategy = null;
        }
        AsyncPipe.prototype.ngOnDestroy = function () {
            if (this._subscription) {
                this._dispose();
            }
        };
        AsyncPipe.prototype.transform = function (obj) {
            if (!this._obj) {
                if (obj) {
                    this._subscribe(obj);
                }
                this._latestReturnedValue = this._latestValue;
                return this._latestValue;
            }
            if (obj !== this._obj) {
                this._dispose();
                return this.transform(obj);
            }
            if (this._latestValue === this._latestReturnedValue) {
                return this._latestReturnedValue;
            }
            this._latestReturnedValue = this._latestValue;
            return WrappedValue.wrap(this._latestValue);
        };
        AsyncPipe.prototype._subscribe = function (obj) {
            var _this = this;
            this._obj = obj;
            this._strategy = this._selectStrategy(obj);
            this._subscription = this._strategy.createSubscription(obj, function (value) { return _this._updateLatestValue(obj, value); });
        };
        AsyncPipe.prototype._selectStrategy = function (obj) {
            if (isPromise$1(obj)) {
                return _promiseStrategy;
            }
            if (((obj)).subscribe) {
                return _observableStrategy;
            }
            throw new InvalidPipeArgumentError(AsyncPipe, obj);
        };
        AsyncPipe.prototype._dispose = function () {
            this._strategy.dispose(this._subscription);
            this._latestValue = null;
            this._latestReturnedValue = null;
            this._subscription = null;
            this._obj = null;
        };
        AsyncPipe.prototype._updateLatestValue = function (async, value) {
            if (async === this._obj) {
                this._latestValue = value;
                this._ref.markForCheck();
            }
        };
        AsyncPipe.decorators = [
            { type: Pipe, args: [{ name: 'async', pure: false },] },
        ];
        AsyncPipe.ctorParameters = function () {
            return [
                { type: ChangeDetectorRef, },
            ];
        };
        return AsyncPipe;
    }());
    var NumberFormatStyle = {};
    NumberFormatStyle.Decimal = 0;
    NumberFormatStyle.Percent = 1;
    NumberFormatStyle.Currency = 2;
    NumberFormatStyle[NumberFormatStyle.Decimal] = "Decimal";
    NumberFormatStyle[NumberFormatStyle.Percent] = "Percent";
    NumberFormatStyle[NumberFormatStyle.Currency] = "Currency";
    var NumberFormatter = (function () {
        function NumberFormatter() {
        }
        NumberFormatter.format = function (num, locale, style, _a) {
            var _b = _a === void 0 ? {} : _a, minimumIntegerDigits = _b.minimumIntegerDigits, minimumFractionDigits = _b.minimumFractionDigits, maximumFractionDigits = _b.maximumFractionDigits, currency = _b.currency, _c = _b.currencyAsSymbol, currencyAsSymbol = _c === void 0 ? false : _c;
            var options = {
                minimumIntegerDigits: minimumIntegerDigits,
                minimumFractionDigits: minimumFractionDigits,
                maximumFractionDigits: maximumFractionDigits,
                style: NumberFormatStyle[style].toLowerCase()
            };
            if (style == NumberFormatStyle.Currency) {
                options.currency = currency;
                options.currencyDisplay = currencyAsSymbol ? 'symbol' : 'code';
            }
            return new Intl.NumberFormat(locale, options).format(num);
        };
        return NumberFormatter;
    }());
    var DATE_FORMATS_SPLIT = /((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/;
    var PATTERN_ALIASES = {
        'yMMMdjms': datePartGetterFactory(combine([
            digitCondition('year', 1),
            nameCondition('month', 3),
            digitCondition('day', 1),
            digitCondition('hour', 1),
            digitCondition('minute', 1),
            digitCondition('second', 1),
        ])),
        'yMdjm': datePartGetterFactory(combine([
            digitCondition('year', 1), digitCondition('month', 1), digitCondition('day', 1),
            digitCondition('hour', 1), digitCondition('minute', 1)
        ])),
        'yMMMMEEEEd': datePartGetterFactory(combine([
            digitCondition('year', 1), nameCondition('month', 4), nameCondition('weekday', 4),
            digitCondition('day', 1)
        ])),
        'yMMMMd': datePartGetterFactory(combine([digitCondition('year', 1), nameCondition('month', 4), digitCondition('day', 1)])),
        'yMMMd': datePartGetterFactory(combine([digitCondition('year', 1), nameCondition('month', 3), digitCondition('day', 1)])),
        'yMd': datePartGetterFactory(combine([digitCondition('year', 1), digitCondition('month', 1), digitCondition('day', 1)])),
        'jms': datePartGetterFactory(combine([digitCondition('hour', 1), digitCondition('second', 1), digitCondition('minute', 1)])),
        'jm': datePartGetterFactory(combine([digitCondition('hour', 1), digitCondition('minute', 1)]))
    };
    var DATE_FORMATS = {
        'yyyy': datePartGetterFactory(digitCondition('year', 4)),
        'yy': datePartGetterFactory(digitCondition('year', 2)),
        'y': datePartGetterFactory(digitCondition('year', 1)),
        'MMMM': datePartGetterFactory(nameCondition('month', 4)),
        'MMM': datePartGetterFactory(nameCondition('month', 3)),
        'MM': datePartGetterFactory(digitCondition('month', 2)),
        'M': datePartGetterFactory(digitCondition('month', 1)),
        'LLLL': datePartGetterFactory(nameCondition('month', 4)),
        'L': datePartGetterFactory(nameCondition('month', 1)),
        'dd': datePartGetterFactory(digitCondition('day', 2)),
        'd': datePartGetterFactory(digitCondition('day', 1)),
        'HH': digitModifier(hourExtractor(datePartGetterFactory(hour12Modify(digitCondition('hour', 2), false)))),
        'H': hourExtractor(datePartGetterFactory(hour12Modify(digitCondition('hour', 1), false))),
        'hh': digitModifier(hourExtractor(datePartGetterFactory(hour12Modify(digitCondition('hour', 2), true)))),
        'h': hourExtractor(datePartGetterFactory(hour12Modify(digitCondition('hour', 1), true))),
        'jj': datePartGetterFactory(digitCondition('hour', 2)),
        'j': datePartGetterFactory(digitCondition('hour', 1)),
        'mm': digitModifier(datePartGetterFactory(digitCondition('minute', 2))),
        'm': datePartGetterFactory(digitCondition('minute', 1)),
        'ss': digitModifier(datePartGetterFactory(digitCondition('second', 2))),
        's': datePartGetterFactory(digitCondition('second', 1)),
        'sss': datePartGetterFactory(digitCondition('second', 3)),
        'EEEE': datePartGetterFactory(nameCondition('weekday', 4)),
        'EEE': datePartGetterFactory(nameCondition('weekday', 3)),
        'EE': datePartGetterFactory(nameCondition('weekday', 2)),
        'E': datePartGetterFactory(nameCondition('weekday', 1)),
        'a': hourClockExtractor(datePartGetterFactory(hour12Modify(digitCondition('hour', 1), true))),
        'Z': timeZoneGetter('short'),
        'z': timeZoneGetter('long'),
        'ww': datePartGetterFactory({}),
        'w': datePartGetterFactory({}),
        'G': datePartGetterFactory(nameCondition('era', 1)),
        'GG': datePartGetterFactory(nameCondition('era', 2)),
        'GGG': datePartGetterFactory(nameCondition('era', 3)),
        'GGGG': datePartGetterFactory(nameCondition('era', 4))
    };
    function digitModifier(inner) {
        return function (date, locale) {
            var result = inner(date, locale);
            return result.length == 1 ? '0' + result : result;
        };
    }
    function hourClockExtractor(inner) {
        return function (date, locale) { return inner(date, locale).split(' ')[1]; };
    }
    function hourExtractor(inner) {
        return function (date, locale) { return inner(date, locale).split(' ')[0]; };
    }
    function intlDateFormat(date, locale, options) {
        return new Intl.DateTimeFormat(locale, options).format(date).replace(/[\u200e\u200f]/g, '');
    }
    function timeZoneGetter(timezone) {
        var options = { hour: '2-digit', hour12: false, timeZoneName: timezone };
        return function (date, locale) {
            var result = intlDateFormat(date, locale, options);
            return result ? result.substring(3) : '';
        };
    }
    function hour12Modify(options, value) {
        options.hour12 = value;
        return options;
    }
    function digitCondition(prop, len) {
        var result = {};
        result[prop] = len === 2 ? '2-digit' : 'numeric';
        return result;
    }
    function nameCondition(prop, len) {
        var result = {};
        if (len < 4) {
            result[prop] = len > 1 ? 'short' : 'narrow';
        }
        else {
            result[prop] = 'long';
        }
        return result;
    }
    function combine(options) {
        return (_a = ((Object))).assign.apply(_a, [{}].concat(options));
        var _a;
    }
    function datePartGetterFactory(ret) {
        return function (date, locale) { return intlDateFormat(date, locale, ret); };
    }
    var DATE_FORMATTER_CACHE = new Map();
    function dateFormatter(format, date, locale) {
        var fn = PATTERN_ALIASES[format];
        if (fn)
            return fn(date, locale);
        var cacheKey = format;
        var parts = DATE_FORMATTER_CACHE.get(cacheKey);
        if (!parts) {
            parts = [];
            var match = void 0;
            DATE_FORMATS_SPLIT.exec(format);
            while (format) {
                match = DATE_FORMATS_SPLIT.exec(format);
                if (match) {
                    parts = parts.concat(match.slice(1));
                    format = parts.pop();
                }
                else {
                    parts.push(format);
                    format = null;
                }
            }
            DATE_FORMATTER_CACHE.set(cacheKey, parts);
        }
        return parts.reduce(function (text, part) {
            var fn = DATE_FORMATS[part];
            return text + (fn ? fn(date, locale) : partToTime(part));
        }, '');
    }
    function partToTime(part) {
        return part === '\'\'' ? '\'' : part.replace(/(^'|'$)/g, '').replace(/''/g, '\'');
    }
    var DateFormatter = (function () {
        function DateFormatter() {
        }
        DateFormatter.format = function (date, locale, pattern) {
            return dateFormatter(pattern, date, locale);
        };
        return DateFormatter;
    }());
    var DatePipe = (function () {
        function DatePipe(_locale) {
            this._locale = _locale;
        }
        DatePipe.prototype.transform = function (value, pattern) {
            if (pattern === void 0) {
                pattern = 'mediumDate';
            }
            var date;
            if (isBlank$2(value))
                return null;
            if (typeof value === 'string') {
                value = value.trim();
            }
            if (isDate$1(value)) {
                date = value;
            }
            else if (NumberWrapper$1.isNumeric(value)) {
                date = new Date(parseFloat(value));
            }
            else if (typeof value === 'string' && /^(\d{4}-\d{1,2}-\d{1,2})$/.test(value)) {
                var _a = value.split('-').map(function (val) { return parseInt(val, 10); }), y = _a[0], m = _a[1], d = _a[2];
                date = new Date(y, m - 1, d);
            }
            else {
                date = new Date(value);
            }
            if (!isDate$1(date)) {
                throw new InvalidPipeArgumentError(DatePipe, value);
            }
            return DateFormatter.format(date, this._locale, DatePipe._ALIASES[pattern] || pattern);
        };
        DatePipe._ALIASES = {
            'medium': 'yMMMdjms',
            'short': 'yMdjm',
            'fullDate': 'yMMMMEEEEd',
            'longDate': 'yMMMMd',
            'mediumDate': 'yMMMd',
            'shortDate': 'yMd',
            'mediumTime': 'jms',
            'shortTime': 'jm'
        };
        DatePipe.decorators = [
            { type: Pipe, args: [{ name: 'date', pure: true },] },
        ];
        DatePipe.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: Inject, args: [LOCALE_ID,] },] },
            ];
        };
        return DatePipe;
    }());
    function isBlank$2(obj) {
        return obj == null || obj === '';
    }
    var _INTERPOLATION_REGEXP = /#/g;
    var I18nPluralPipe = (function () {
        function I18nPluralPipe(_localization) {
            this._localization = _localization;
        }
        I18nPluralPipe.prototype.transform = function (value, pluralMap) {
            if (value == null)
                return '';
            if (typeof pluralMap !== 'object' || pluralMap === null) {
                throw new InvalidPipeArgumentError(I18nPluralPipe, pluralMap);
            }
            var key = getPluralCategory(value, Object.keys(pluralMap), this._localization);
            return pluralMap[key].replace(_INTERPOLATION_REGEXP, value.toString());
        };
        I18nPluralPipe.decorators = [
            { type: Pipe, args: [{ name: 'i18nPlural', pure: true },] },
        ];
        I18nPluralPipe.ctorParameters = function () {
            return [
                { type: NgLocalization, },
            ];
        };
        return I18nPluralPipe;
    }());
    var I18nSelectPipe = (function () {
        function I18nSelectPipe() {
        }
        I18nSelectPipe.prototype.transform = function (value, mapping) {
            if (value == null)
                return '';
            if (typeof mapping !== 'object' || typeof value !== 'string') {
                throw new InvalidPipeArgumentError(I18nSelectPipe, mapping);
            }
            if (mapping.hasOwnProperty(value)) {
                return mapping[value];
            }
            if (mapping.hasOwnProperty('other')) {
                return mapping['other'];
            }
            return '';
        };
        I18nSelectPipe.decorators = [
            { type: Pipe, args: [{ name: 'i18nSelect', pure: true },] },
        ];
        I18nSelectPipe.ctorParameters = function () { return []; };
        return I18nSelectPipe;
    }());
    var JsonPipe = (function () {
        function JsonPipe() {
        }
        JsonPipe.prototype.transform = function (value) { return JSON.stringify(value, null, 2); };
        JsonPipe.decorators = [
            { type: Pipe, args: [{ name: 'json', pure: false },] },
        ];
        JsonPipe.ctorParameters = function () { return []; };
        return JsonPipe;
    }());
    var LowerCasePipe = (function () {
        function LowerCasePipe() {
        }
        LowerCasePipe.prototype.transform = function (value) {
            if (isBlank$1(value))
                return value;
            if (typeof value !== 'string') {
                throw new InvalidPipeArgumentError(LowerCasePipe, value);
            }
            return value.toLowerCase();
        };
        LowerCasePipe.decorators = [
            { type: Pipe, args: [{ name: 'lowercase' },] },
        ];
        LowerCasePipe.ctorParameters = function () { return []; };
        return LowerCasePipe;
    }());
    var _NUMBER_FORMAT_REGEXP = /^(\d+)?\.((\d+)(-(\d+))?)?$/;
    function formatNumber(pipe, locale, value, style$$1, digits, currency, currencyAsSymbol) {
        if (currency === void 0) {
            currency = null;
        }
        if (currencyAsSymbol === void 0) {
            currencyAsSymbol = false;
        }
        if (value == null)
            return null;
        value = typeof value === 'string' && NumberWrapper$1.isNumeric(value) ? +value : value;
        if (typeof value !== 'number') {
            throw new InvalidPipeArgumentError(pipe, value);
        }
        var minInt;
        var minFraction;
        var maxFraction;
        if (style$$1 !== NumberFormatStyle.Currency) {
            minInt = 1;
            minFraction = 0;
            maxFraction = 3;
        }
        if (digits) {
            var parts = digits.match(_NUMBER_FORMAT_REGEXP);
            if (parts === null) {
                throw new Error(digits + " is not a valid digit info for number pipes");
            }
            if (parts[1] != null) {
                minInt = NumberWrapper$1.parseIntAutoRadix(parts[1]);
            }
            if (parts[3] != null) {
                minFraction = NumberWrapper$1.parseIntAutoRadix(parts[3]);
            }
            if (parts[5] != null) {
                maxFraction = NumberWrapper$1.parseIntAutoRadix(parts[5]);
            }
        }
        return NumberFormatter.format((value), locale, style$$1, {
            minimumIntegerDigits: minInt,
            minimumFractionDigits: minFraction,
            maximumFractionDigits: maxFraction,
            currency: currency,
            currencyAsSymbol: currencyAsSymbol,
        });
    }
    var DecimalPipe = (function () {
        function DecimalPipe(_locale) {
            this._locale = _locale;
        }
        DecimalPipe.prototype.transform = function (value, digits) {
            if (digits === void 0) {
                digits = null;
            }
            return formatNumber(DecimalPipe, this._locale, value, NumberFormatStyle.Decimal, digits);
        };
        DecimalPipe.decorators = [
            { type: Pipe, args: [{ name: 'number' },] },
        ];
        DecimalPipe.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: Inject, args: [LOCALE_ID,] },] },
            ];
        };
        return DecimalPipe;
    }());
    var PercentPipe = (function () {
        function PercentPipe(_locale) {
            this._locale = _locale;
        }
        PercentPipe.prototype.transform = function (value, digits) {
            if (digits === void 0) {
                digits = null;
            }
            return formatNumber(PercentPipe, this._locale, value, NumberFormatStyle.Percent, digits);
        };
        PercentPipe.decorators = [
            { type: Pipe, args: [{ name: 'percent' },] },
        ];
        PercentPipe.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: Inject, args: [LOCALE_ID,] },] },
            ];
        };
        return PercentPipe;
    }());
    var CurrencyPipe = (function () {
        function CurrencyPipe(_locale) {
            this._locale = _locale;
        }
        CurrencyPipe.prototype.transform = function (value, currencyCode, symbolDisplay, digits) {
            if (currencyCode === void 0) {
                currencyCode = 'USD';
            }
            if (symbolDisplay === void 0) {
                symbolDisplay = false;
            }
            if (digits === void 0) {
                digits = null;
            }
            return formatNumber(CurrencyPipe, this._locale, value, NumberFormatStyle.Currency, digits, currencyCode, symbolDisplay);
        };
        CurrencyPipe.decorators = [
            { type: Pipe, args: [{ name: 'currency' },] },
        ];
        CurrencyPipe.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: Inject, args: [LOCALE_ID,] },] },
            ];
        };
        return CurrencyPipe;
    }());
    var SlicePipe = (function () {
        function SlicePipe() {
        }
        SlicePipe.prototype.transform = function (value, start, end) {
            if (value == null)
                return value;
            if (!this.supports(value)) {
                throw new InvalidPipeArgumentError(SlicePipe, value);
            }
            return value.slice(start, end);
        };
        SlicePipe.prototype.supports = function (obj) { return typeof obj === 'string' || Array.isArray(obj); };
        SlicePipe.decorators = [
            { type: Pipe, args: [{ name: 'slice', pure: false },] },
        ];
        SlicePipe.ctorParameters = function () { return []; };
        return SlicePipe;
    }());
    var UpperCasePipe = (function () {
        function UpperCasePipe() {
        }
        UpperCasePipe.prototype.transform = function (value) {
            if (isBlank$1(value))
                return value;
            if (typeof value !== 'string') {
                throw new InvalidPipeArgumentError(UpperCasePipe, value);
            }
            return value.toUpperCase();
        };
        UpperCasePipe.decorators = [
            { type: Pipe, args: [{ name: 'uppercase' },] },
        ];
        UpperCasePipe.ctorParameters = function () { return []; };
        return UpperCasePipe;
    }());
    var COMMON_PIPES = [
        AsyncPipe,
        UpperCasePipe,
        LowerCasePipe,
        JsonPipe,
        SlicePipe,
        DecimalPipe,
        PercentPipe,
        CurrencyPipe,
        DatePipe,
        I18nPluralPipe,
        I18nSelectPipe,
    ];
    var CommonModule = (function () {
        function CommonModule() {
        }
        CommonModule.decorators = [
            { type: NgModule, args: [{
                        declarations: [COMMON_DIRECTIVES, COMMON_PIPES],
                        exports: [COMMON_DIRECTIVES, COMMON_PIPES],
                        providers: [
                            { provide: NgLocalization, useClass: NgLocaleLocalization },
                        ],
                    },] },
        ];
        CommonModule.ctorParameters = function () { return []; };
        return CommonModule;
    }());
    var VERSION$1 = new Version('2.4.3');
    var DebugDomRootRenderer$1 = __core_private__.DebugDomRootRenderer;
    var NoOpAnimationPlayer$1 = __core_private__.NoOpAnimationPlayer;
    var NoOpAnimationDriver = (function () {
        function NoOpAnimationDriver() {
        }
        NoOpAnimationDriver.prototype.animate = function (element, startingStyles, keyframes, duration, delay, easing, previousPlayers) {
            if (previousPlayers === void 0) {
                previousPlayers = [];
            }
            return new NoOpAnimationPlayer$1();
        };
        return NoOpAnimationDriver;
    }());
    var AnimationDriver = (function () {
        function AnimationDriver() {
        }
        AnimationDriver.prototype.animate = function (element, startingStyles, keyframes, duration, delay, easing, previousPlayers) { };
        AnimationDriver.NOOP = new NoOpAnimationDriver();
        return AnimationDriver;
    }());
    var globalScope$2;
    if (typeof window === 'undefined') {
        if (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope) {
            globalScope$2 = (self);
        }
        else {
            globalScope$2 = (global);
        }
    }
    else {
        globalScope$2 = (window);
    }
    var _global$2 = globalScope$2;
    _global$2.assert = function assert(condition) {
    };
    function isPresent$2(obj) {
        return obj != null;
    }
    function isBlank$3(obj) {
        return obj == null;
    }
    function stringify$2(token) {
        if (typeof token === 'string') {
            return token;
        }
        if (token == null) {
            return '' + token;
        }
        if (token.overriddenName) {
            return "" + token.overriddenName;
        }
        if (token.name) {
            return "" + token.name;
        }
        var res = token.toString();
        var newLineIndex = res.indexOf('\n');
        return newLineIndex === -1 ? res : res.substring(0, newLineIndex);
    }
    function setValueOnPath$2(global, path, value) {
        var parts = path.split('.');
        var obj = global;
        while (parts.length > 1) {
            var name_1 = parts.shift();
            if (obj.hasOwnProperty(name_1) && obj[name_1] != null) {
                obj = obj[name_1];
            }
            else {
                obj = obj[name_1] = {};
            }
        }
        if (obj === undefined || obj === null) {
            obj = {};
        }
        obj[parts.shift()] = value;
    }
    var _DOM = null;
    function getDOM() {
        return _DOM;
    }
    function setRootDomAdapter(adapter) {
        if (!_DOM) {
            _DOM = adapter;
        }
    }
    var DomAdapter = (function () {
        function DomAdapter() {
            this.resourceLoaderType = null;
        }
        DomAdapter.prototype.hasProperty = function (element, name) { };
        DomAdapter.prototype.setProperty = function (el, name, value) { };
        DomAdapter.prototype.getProperty = function (el, name) { };
        DomAdapter.prototype.invoke = function (el, methodName, args) { };
        DomAdapter.prototype.logError = function (error) { };
        DomAdapter.prototype.log = function (error) { };
        DomAdapter.prototype.logGroup = function (error) { };
        DomAdapter.prototype.logGroupEnd = function () { };
        Object.defineProperty(DomAdapter.prototype, "attrToPropMap", {
            get: function () { return this._attrToPropMap; },
            set: function (value) { this._attrToPropMap = value; },
            enumerable: true,
            configurable: true
        });
        DomAdapter.prototype.parse = function (templateHtml) { };
        DomAdapter.prototype.query = function (selector) { };
        DomAdapter.prototype.querySelector = function (el, selector) { };
        DomAdapter.prototype.querySelectorAll = function (el, selector) { };
        DomAdapter.prototype.on = function (el, evt, listener) { };
        DomAdapter.prototype.onAndCancel = function (el, evt, listener) { };
        DomAdapter.prototype.dispatchEvent = function (el, evt) { };
        DomAdapter.prototype.createMouseEvent = function (eventType) { };
        DomAdapter.prototype.createEvent = function (eventType) { };
        DomAdapter.prototype.preventDefault = function (evt) { };
        DomAdapter.prototype.isPrevented = function (evt) { };
        DomAdapter.prototype.getInnerHTML = function (el) { };
        DomAdapter.prototype.getTemplateContent = function (el) { };
        DomAdapter.prototype.getOuterHTML = function (el) { };
        DomAdapter.prototype.nodeName = function (node) { };
        DomAdapter.prototype.nodeValue = function (node) { };
        DomAdapter.prototype.type = function (node) { };
        DomAdapter.prototype.content = function (node) { };
        DomAdapter.prototype.firstChild = function (el) { };
        DomAdapter.prototype.nextSibling = function (el) { };
        DomAdapter.prototype.parentElement = function (el) { };
        DomAdapter.prototype.childNodes = function (el) { };
        DomAdapter.prototype.childNodesAsList = function (el) { };
        DomAdapter.prototype.clearNodes = function (el) { };
        DomAdapter.prototype.appendChild = function (el, node) { };
        DomAdapter.prototype.removeChild = function (el, node) { };
        DomAdapter.prototype.replaceChild = function (el, newNode, oldNode) { };
        DomAdapter.prototype.remove = function (el) { };
        DomAdapter.prototype.insertBefore = function (el, node) { };
        DomAdapter.prototype.insertAllBefore = function (el, nodes) { };
        DomAdapter.prototype.insertAfter = function (el, node) { };
        DomAdapter.prototype.setInnerHTML = function (el, value) { };
        DomAdapter.prototype.getText = function (el) { };
        DomAdapter.prototype.setText = function (el, value) { };
        DomAdapter.prototype.getValue = function (el) { };
        DomAdapter.prototype.setValue = function (el, value) { };
        DomAdapter.prototype.getChecked = function (el) { };
        DomAdapter.prototype.setChecked = function (el, value) { };
        DomAdapter.prototype.createComment = function (text) { };
        DomAdapter.prototype.createTemplate = function (html) { };
        DomAdapter.prototype.createElement = function (tagName, doc) { };
        DomAdapter.prototype.createElementNS = function (ns, tagName, doc) { };
        DomAdapter.prototype.createTextNode = function (text, doc) { };
        DomAdapter.prototype.createScriptTag = function (attrName, attrValue, doc) { };
        DomAdapter.prototype.createStyleElement = function (css, doc) { };
        DomAdapter.prototype.createShadowRoot = function (el) { };
        DomAdapter.prototype.getShadowRoot = function (el) { };
        DomAdapter.prototype.getHost = function (el) { };
        DomAdapter.prototype.getDistributedNodes = function (el) { };
        DomAdapter.prototype.clone = function (node) { };
        DomAdapter.prototype.getElementsByClassName = function (element, name) { };
        DomAdapter.prototype.getElementsByTagName = function (element, name) { };
        DomAdapter.prototype.classList = function (element) { };
        DomAdapter.prototype.addClass = function (element, className) { };
        DomAdapter.prototype.removeClass = function (element, className) { };
        DomAdapter.prototype.hasClass = function (element, className) { };
        DomAdapter.prototype.setStyle = function (element, styleName, styleValue) { };
        DomAdapter.prototype.removeStyle = function (element, styleName) { };
        DomAdapter.prototype.getStyle = function (element, styleName) { };
        DomAdapter.prototype.hasStyle = function (element, styleName, styleValue) { };
        DomAdapter.prototype.tagName = function (element) { };
        DomAdapter.prototype.attributeMap = function (element) { };
        DomAdapter.prototype.hasAttribute = function (element, attribute) { };
        DomAdapter.prototype.hasAttributeNS = function (element, ns, attribute) { };
        DomAdapter.prototype.getAttribute = function (element, attribute) { };
        DomAdapter.prototype.getAttributeNS = function (element, ns, attribute) { };
        DomAdapter.prototype.setAttribute = function (element, name, value) { };
        DomAdapter.prototype.setAttributeNS = function (element, ns, name, value) { };
        DomAdapter.prototype.removeAttribute = function (element, attribute) { };
        DomAdapter.prototype.removeAttributeNS = function (element, ns, attribute) { };
        DomAdapter.prototype.templateAwareRoot = function (el) { };
        DomAdapter.prototype.createHtmlDocument = function () { };
        DomAdapter.prototype.defaultDoc = function () { };
        DomAdapter.prototype.getBoundingClientRect = function (el) { };
        DomAdapter.prototype.getTitle = function () { };
        DomAdapter.prototype.setTitle = function (newTitle) { };
        DomAdapter.prototype.elementMatches = function (n, selector) { };
        DomAdapter.prototype.isTemplateElement = function (el) { };
        DomAdapter.prototype.isTextNode = function (node) { };
        DomAdapter.prototype.isCommentNode = function (node) { };
        DomAdapter.prototype.isElementNode = function (node) { };
        DomAdapter.prototype.hasShadowRoot = function (node) { };
        DomAdapter.prototype.isShadowRoot = function (node) { };
        DomAdapter.prototype.importIntoDoc = function (node) { };
        DomAdapter.prototype.adoptNode = function (node) { };
        DomAdapter.prototype.getHref = function (element) { };
        DomAdapter.prototype.getEventKey = function (event) { };
        DomAdapter.prototype.resolveAndSetHref = function (element, baseUrl, href) { };
        DomAdapter.prototype.supportsDOMEvents = function () { };
        DomAdapter.prototype.supportsNativeShadowDOM = function () { };
        DomAdapter.prototype.getGlobalEventTarget = function (target) { };
        DomAdapter.prototype.getHistory = function () { };
        DomAdapter.prototype.getLocation = function () { };
        DomAdapter.prototype.getBaseHref = function () { };
        DomAdapter.prototype.resetBaseElement = function () { };
        DomAdapter.prototype.getUserAgent = function () { };
        DomAdapter.prototype.setData = function (element, name, value) { };
        DomAdapter.prototype.getComputedStyle = function (element) { };
        DomAdapter.prototype.getData = function (element, name) { };
        DomAdapter.prototype.setGlobalVar = function (name, value) { };
        DomAdapter.prototype.supportsWebAnimation = function () { };
        DomAdapter.prototype.performanceNow = function () { };
        DomAdapter.prototype.getAnimationPrefix = function () { };
        DomAdapter.prototype.getTransitionEnd = function () { };
        DomAdapter.prototype.supportsAnimation = function () { };
        DomAdapter.prototype.supportsCookies = function () { };
        DomAdapter.prototype.getCookie = function (name) { };
        DomAdapter.prototype.setCookie = function (name, value) { };
        return DomAdapter;
    }());
    var WebAnimationsPlayer = (function () {
        function WebAnimationsPlayer(element, keyframes$$1, options, previousPlayers) {
            var _this = this;
            if (previousPlayers === void 0) {
                previousPlayers = [];
            }
            this.element = element;
            this.keyframes = keyframes$$1;
            this.options = options;
            this._onDoneFns = [];
            this._onStartFns = [];
            this._initialized = false;
            this._finished = false;
            this._started = false;
            this._destroyed = false;
            this.parentPlayer = null;
            this._duration = options['duration'];
            this.previousStyles = {};
            previousPlayers.forEach(function (player) {
                var styles = player._captureStyles();
                Object.keys(styles).forEach(function (prop) { return _this.previousStyles[prop] = styles[prop]; });
            });
        }
        WebAnimationsPlayer.prototype._onFinish = function () {
            if (!this._finished) {
                this._finished = true;
                this._onDoneFns.forEach(function (fn) { return fn(); });
                this._onDoneFns = [];
            }
        };
        WebAnimationsPlayer.prototype.init = function () {
            var _this = this;
            if (this._initialized)
                return;
            this._initialized = true;
            var keyframes$$1 = this.keyframes.map(function (styles) {
                var formattedKeyframe = {};
                Object.keys(styles).forEach(function (prop, index) {
                    var value = styles[prop];
                    if (value == AUTO_STYLE) {
                        value = _computeStyle(_this.element, prop);
                    }
                    if (value != undefined) {
                        formattedKeyframe[prop] = value;
                    }
                });
                return formattedKeyframe;
            });
            var previousStyleProps = Object.keys(this.previousStyles);
            if (previousStyleProps.length) {
                var startingKeyframe_1 = keyframes$$1[0];
                var missingStyleProps_1 = [];
                previousStyleProps.forEach(function (prop) {
                    if (!isPresent$2(startingKeyframe_1[prop])) {
                        missingStyleProps_1.push(prop);
                    }
                    startingKeyframe_1[prop] = _this.previousStyles[prop];
                });
                if (missingStyleProps_1.length) {
                    var _loop_1 = function (i) {
                        var kf = keyframes$$1[i];
                        missingStyleProps_1.forEach(function (prop) { kf[prop] = _computeStyle(_this.element, prop); });
                    };
                    for (var i = 1; i < keyframes$$1.length; i++) {
                        _loop_1(i);
                    }
                }
            }
            this._player = this._triggerWebAnimation(this.element, keyframes$$1, this.options);
            this._finalKeyframe = _copyKeyframeStyles(keyframes$$1[keyframes$$1.length - 1]);
            this._resetDomPlayerState();
            this._player.addEventListener('finish', function () { return _this._onFinish(); });
        };
        WebAnimationsPlayer.prototype._triggerWebAnimation = function (element, keyframes$$1, options) {
            return (element.animate(keyframes$$1, options));
        };
        Object.defineProperty(WebAnimationsPlayer.prototype, "domPlayer", {
            get: function () { return this._player; },
            enumerable: true,
            configurable: true
        });
        WebAnimationsPlayer.prototype.onStart = function (fn) { this._onStartFns.push(fn); };
        WebAnimationsPlayer.prototype.onDone = function (fn) { this._onDoneFns.push(fn); };
        WebAnimationsPlayer.prototype.play = function () {
            this.init();
            if (!this.hasStarted()) {
                this._onStartFns.forEach(function (fn) { return fn(); });
                this._onStartFns = [];
                this._started = true;
            }
            this._player.play();
        };
        WebAnimationsPlayer.prototype.pause = function () {
            this.init();
            this._player.pause();
        };
        WebAnimationsPlayer.prototype.finish = function () {
            this.init();
            this._onFinish();
            this._player.finish();
        };
        WebAnimationsPlayer.prototype.reset = function () {
            this._resetDomPlayerState();
            this._destroyed = false;
            this._finished = false;
            this._started = false;
        };
        WebAnimationsPlayer.prototype._resetDomPlayerState = function () {
            if (this._player) {
                this._player.cancel();
            }
        };
        WebAnimationsPlayer.prototype.restart = function () {
            this.reset();
            this.play();
        };
        WebAnimationsPlayer.prototype.hasStarted = function () { return this._started; };
        WebAnimationsPlayer.prototype.destroy = function () {
            if (!this._destroyed) {
                this._resetDomPlayerState();
                this._onFinish();
                this._destroyed = true;
            }
        };
        Object.defineProperty(WebAnimationsPlayer.prototype, "totalTime", {
            get: function () { return this._duration; },
            enumerable: true,
            configurable: true
        });
        WebAnimationsPlayer.prototype.setPosition = function (p) { this._player.currentTime = p * this.totalTime; };
        WebAnimationsPlayer.prototype.getPosition = function () { return this._player.currentTime / this.totalTime; };
        WebAnimationsPlayer.prototype._captureStyles = function () {
            var _this = this;
            var styles = {};
            if (this.hasStarted()) {
                Object.keys(this._finalKeyframe).forEach(function (prop) {
                    if (prop != 'offset') {
                        styles[prop] =
                            _this._finished ? _this._finalKeyframe[prop] : _computeStyle(_this.element, prop);
                    }
                });
            }
            return styles;
        };
        return WebAnimationsPlayer;
    }());
    function _computeStyle(element, prop) {
        return getDOM().getComputedStyle(element)[prop];
    }
    function _copyKeyframeStyles(styles) {
        var newStyles = {};
        Object.keys(styles).forEach(function (prop) {
            if (prop != 'offset') {
                newStyles[prop] = styles[prop];
            }
        });
        return newStyles;
    }
    var WebAnimationsDriver = (function () {
        function WebAnimationsDriver() {
        }
        WebAnimationsDriver.prototype.animate = function (element, startingStyles, keyframes, duration, delay, easing, previousPlayers) {
            if (previousPlayers === void 0) {
                previousPlayers = [];
            }
            var formattedSteps = [];
            var startingStyleLookup = {};
            if (isPresent$2(startingStyles)) {
                startingStyleLookup = _populateStyles(startingStyles, {});
            }
            keyframes.forEach(function (keyframe) {
                var data = _populateStyles(keyframe.styles, startingStyleLookup);
                data['offset'] = Math.max(0, Math.min(1, keyframe.offset));
                formattedSteps.push(data);
            });
            if (formattedSteps.length == 0) {
                formattedSteps = [startingStyleLookup, startingStyleLookup];
            }
            else if (formattedSteps.length == 1) {
                var start = startingStyleLookup;
                var end = formattedSteps[0];
                end['offset'] = null;
                formattedSteps = [start, end];
            }
            var playerOptions = {
                'duration': duration,
                'delay': delay,
                'fill': 'both'
            };
            if (easing) {
                playerOptions['easing'] = easing;
            }
            previousPlayers = previousPlayers.filter(filterWebAnimationPlayerFn);
            return new WebAnimationsPlayer(element, formattedSteps, playerOptions, (previousPlayers));
        };
        return WebAnimationsDriver;
    }());
    function _populateStyles(styles, defaultStyles) {
        var data = {};
        styles.styles.forEach(function (entry) { Object.keys(entry).forEach(function (prop) { data[prop] = entry[prop]; }); });
        Object.keys(defaultStyles).forEach(function (prop) {
            if (!isPresent$2(data[prop])) {
                data[prop] = defaultStyles[prop];
            }
        });
        return data;
    }
    function filterWebAnimationPlayerFn(player) {
        return player instanceof WebAnimationsPlayer;
    }
    var __extends$27 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var GenericBrowserDomAdapter = (function (_super) {
        __extends$27(GenericBrowserDomAdapter, _super);
        function GenericBrowserDomAdapter() {
            var _this = this;
            _super.call(this);
            this._animationPrefix = null;
            this._transitionEnd = null;
            try {
                var element_1 = this.createElement('div', this.defaultDoc());
                if (isPresent$2(this.getStyle(element_1, 'animationName'))) {
                    this._animationPrefix = '';
                }
                else {
                    var domPrefixes = ['Webkit', 'Moz', 'O', 'ms'];
                    for (var i = 0; i < domPrefixes.length; i++) {
                        if (isPresent$2(this.getStyle(element_1, domPrefixes[i] + 'AnimationName'))) {
                            this._animationPrefix = '-' + domPrefixes[i].toLowerCase() + '-';
                            break;
                        }
                    }
                }
                var transEndEventNames_1 = {
                    WebkitTransition: 'webkitTransitionEnd',
                    MozTransition: 'transitionend',
                    OTransition: 'oTransitionEnd otransitionend',
                    transition: 'transitionend'
                };
                Object.keys(transEndEventNames_1).forEach(function (key) {
                    if (isPresent$2(_this.getStyle(element_1, key))) {
                        _this._transitionEnd = transEndEventNames_1[key];
                    }
                });
            }
            catch (e) {
                this._animationPrefix = null;
                this._transitionEnd = null;
            }
        }
        GenericBrowserDomAdapter.prototype.getDistributedNodes = function (el) { return ((el)).getDistributedNodes(); };
        GenericBrowserDomAdapter.prototype.resolveAndSetHref = function (el, baseUrl, href) {
            el.href = href == null ? baseUrl : baseUrl + '/../' + href;
        };
        GenericBrowserDomAdapter.prototype.supportsDOMEvents = function () { return true; };
        GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM = function () {
            return typeof ((this.defaultDoc().body)).createShadowRoot === 'function';
        };
        GenericBrowserDomAdapter.prototype.getAnimationPrefix = function () { return this._animationPrefix ? this._animationPrefix : ''; };
        GenericBrowserDomAdapter.prototype.getTransitionEnd = function () { return this._transitionEnd ? this._transitionEnd : ''; };
        GenericBrowserDomAdapter.prototype.supportsAnimation = function () {
            return isPresent$2(this._animationPrefix) && isPresent$2(this._transitionEnd);
        };
        return GenericBrowserDomAdapter;
    }(DomAdapter));
    var __extends$26 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var _attrToPropMap = {
        'class': 'className',
        'innerHtml': 'innerHTML',
        'readonly': 'readOnly',
        'tabindex': 'tabIndex',
    };
    var DOM_KEY_LOCATION_NUMPAD = 3;
    var _keyMap = {
        '\b': 'Backspace',
        '\t': 'Tab',
        '\x7F': 'Delete',
        '\x1B': 'Escape',
        'Del': 'Delete',
        'Esc': 'Escape',
        'Left': 'ArrowLeft',
        'Right': 'ArrowRight',
        'Up': 'ArrowUp',
        'Down': 'ArrowDown',
        'Menu': 'ContextMenu',
        'Scroll': 'ScrollLock',
        'Win': 'OS'
    };
    var _chromeNumKeyPadMap = {
        'A': '1',
        'B': '2',
        'C': '3',
        'D': '4',
        'E': '5',
        'F': '6',
        'G': '7',
        'H': '8',
        'I': '9',
        'J': '*',
        'K': '+',
        'M': '-',
        'N': '.',
        'O': '/',
        '\x60': '0',
        '\x90': 'NumLock'
    };
    var BrowserDomAdapter = (function (_super) {
        __extends$26(BrowserDomAdapter, _super);
        function BrowserDomAdapter() {
            _super.apply(this, arguments);
        }
        BrowserDomAdapter.prototype.parse = function (templateHtml) { throw new Error('parse not implemented'); };
        BrowserDomAdapter.makeCurrent = function () { setRootDomAdapter(new BrowserDomAdapter()); };
        BrowserDomAdapter.prototype.hasProperty = function (element, name) { return name in element; };
        BrowserDomAdapter.prototype.setProperty = function (el, name, value) { ((el))[name] = value; };
        BrowserDomAdapter.prototype.getProperty = function (el, name) { return ((el))[name]; };
        BrowserDomAdapter.prototype.invoke = function (el, methodName, args) { (_a = ((el)))[methodName].apply(_a, args); var _a; };
        BrowserDomAdapter.prototype.logError = function (error) {
            if (window.console) {
                if (console.error) {
                    console.error(error);
                }
                else {
                    console.log(error);
                }
            }
        };
        BrowserDomAdapter.prototype.log = function (error) {
            if (window.console) {
                window.console.log && window.console.log(error);
            }
        };
        BrowserDomAdapter.prototype.logGroup = function (error) {
            if (window.console) {
                window.console.group && window.console.group(error);
            }
        };
        BrowserDomAdapter.prototype.logGroupEnd = function () {
            if (window.console) {
                window.console.groupEnd && window.console.groupEnd();
            }
        };
        Object.defineProperty(BrowserDomAdapter.prototype, "attrToPropMap", {
            get: function () { return _attrToPropMap; },
            enumerable: true,
            configurable: true
        });
        BrowserDomAdapter.prototype.query = function (selector) { return document.querySelector(selector); };
        BrowserDomAdapter.prototype.querySelector = function (el, selector) {
            return (el.querySelector(selector));
        };
        BrowserDomAdapter.prototype.querySelectorAll = function (el, selector) { return el.querySelectorAll(selector); };
        BrowserDomAdapter.prototype.on = function (el, evt, listener) { el.addEventListener(evt, listener, false); };
        BrowserDomAdapter.prototype.onAndCancel = function (el, evt, listener) {
            el.addEventListener(evt, listener, false);
            return function () { el.removeEventListener(evt, listener, false); };
        };
        BrowserDomAdapter.prototype.dispatchEvent = function (el, evt) { el.dispatchEvent(evt); };
        BrowserDomAdapter.prototype.createMouseEvent = function (eventType) {
            var evt = document.createEvent('MouseEvent');
            evt.initEvent(eventType, true, true);
            return evt;
        };
        BrowserDomAdapter.prototype.createEvent = function (eventType) {
            var evt = document.createEvent('Event');
            evt.initEvent(eventType, true, true);
            return evt;
        };
        BrowserDomAdapter.prototype.preventDefault = function (evt) {
            evt.preventDefault();
            evt.returnValue = false;
        };
        BrowserDomAdapter.prototype.isPrevented = function (evt) {
            return evt.defaultPrevented || isPresent$2(evt.returnValue) && !evt.returnValue;
        };
        BrowserDomAdapter.prototype.getInnerHTML = function (el) { return el.innerHTML; };
        BrowserDomAdapter.prototype.getTemplateContent = function (el) {
            return 'content' in el && el instanceof HTMLTemplateElement ? el.content : null;
        };
        BrowserDomAdapter.prototype.getOuterHTML = function (el) { return el.outerHTML; };
        BrowserDomAdapter.prototype.nodeName = function (node) { return node.nodeName; };
        BrowserDomAdapter.prototype.nodeValue = function (node) { return node.nodeValue; };
        BrowserDomAdapter.prototype.type = function (node) { return node.type; };
        BrowserDomAdapter.prototype.content = function (node) {
            if (this.hasProperty(node, 'content')) {
                return ((node)).content;
            }
            else {
                return node;
            }
        };
        BrowserDomAdapter.prototype.firstChild = function (el) { return el.firstChild; };
        BrowserDomAdapter.prototype.nextSibling = function (el) { return el.nextSibling; };
        BrowserDomAdapter.prototype.parentElement = function (el) { return el.parentNode; };
        BrowserDomAdapter.prototype.childNodes = function (el) { return el.childNodes; };
        BrowserDomAdapter.prototype.childNodesAsList = function (el) {
            var childNodes = el.childNodes;
            var res = new Array(childNodes.length);
            for (var i = 0; i < childNodes.length; i++) {
                res[i] = childNodes[i];
            }
            return res;
        };
        BrowserDomAdapter.prototype.clearNodes = function (el) {
            while (el.firstChild) {
                el.removeChild(el.firstChild);
            }
        };
        BrowserDomAdapter.prototype.appendChild = function (el, node) { el.appendChild(node); };
        BrowserDomAdapter.prototype.removeChild = function (el, node) { el.removeChild(node); };
        BrowserDomAdapter.prototype.replaceChild = function (el, newChild, oldChild) { el.replaceChild(newChild, oldChild); };
        BrowserDomAdapter.prototype.remove = function (node) {
            if (node.parentNode) {
                node.parentNode.removeChild(node);
            }
            return node;
        };
        BrowserDomAdapter.prototype.insertBefore = function (el, node) { el.parentNode.insertBefore(node, el); };
        BrowserDomAdapter.prototype.insertAllBefore = function (el, nodes) {
            nodes.forEach(function (n) { return el.parentNode.insertBefore(n, el); });
        };
        BrowserDomAdapter.prototype.insertAfter = function (el, node) { el.parentNode.insertBefore(node, el.nextSibling); };
        BrowserDomAdapter.prototype.setInnerHTML = function (el, value) { el.innerHTML = value; };
        BrowserDomAdapter.prototype.getText = function (el) { return el.textContent; };
        BrowserDomAdapter.prototype.setText = function (el, value) { el.textContent = value; };
        BrowserDomAdapter.prototype.getValue = function (el) { return el.value; };
        BrowserDomAdapter.prototype.setValue = function (el, value) { el.value = value; };
        BrowserDomAdapter.prototype.getChecked = function (el) { return el.checked; };
        BrowserDomAdapter.prototype.setChecked = function (el, value) { el.checked = value; };
        BrowserDomAdapter.prototype.createComment = function (text) { return document.createComment(text); };
        BrowserDomAdapter.prototype.createTemplate = function (html) {
            var t = document.createElement('template');
            t.innerHTML = html;
            return t;
        };
        BrowserDomAdapter.prototype.createElement = function (tagName, doc) {
            if (doc === void 0) {
                doc = document;
            }
            return doc.createElement(tagName);
        };
        BrowserDomAdapter.prototype.createElementNS = function (ns, tagName, doc) {
            if (doc === void 0) {
                doc = document;
            }
            return doc.createElementNS(ns, tagName);
        };
        BrowserDomAdapter.prototype.createTextNode = function (text, doc) {
            if (doc === void 0) {
                doc = document;
            }
            return doc.createTextNode(text);
        };
        BrowserDomAdapter.prototype.createScriptTag = function (attrName, attrValue, doc) {
            if (doc === void 0) {
                doc = document;
            }
            var el = (doc.createElement('SCRIPT'));
            el.setAttribute(attrName, attrValue);
            return el;
        };
        BrowserDomAdapter.prototype.createStyleElement = function (css, doc) {
            if (doc === void 0) {
                doc = document;
            }
            var style = (doc.createElement('style'));
            this.appendChild(style, this.createTextNode(css));
            return style;
        };
        BrowserDomAdapter.prototype.createShadowRoot = function (el) { return ((el)).createShadowRoot(); };
        BrowserDomAdapter.prototype.getShadowRoot = function (el) { return ((el)).shadowRoot; };
        BrowserDomAdapter.prototype.getHost = function (el) { return ((el)).host; };
        BrowserDomAdapter.prototype.clone = function (node) { return node.cloneNode(true); };
        BrowserDomAdapter.prototype.getElementsByClassName = function (element, name) {
            return element.getElementsByClassName(name);
        };
        BrowserDomAdapter.prototype.getElementsByTagName = function (element, name) {
            return element.getElementsByTagName(name);
        };
        BrowserDomAdapter.prototype.classList = function (element) { return Array.prototype.slice.call(element.classList, 0); };
        BrowserDomAdapter.prototype.addClass = function (element, className) { element.classList.add(className); };
        BrowserDomAdapter.prototype.removeClass = function (element, className) { element.classList.remove(className); };
        BrowserDomAdapter.prototype.hasClass = function (element, className) {
            return element.classList.contains(className);
        };
        BrowserDomAdapter.prototype.setStyle = function (element, styleName, styleValue) {
            element.style[styleName] = styleValue;
        };
        BrowserDomAdapter.prototype.removeStyle = function (element, stylename) {
            element.style[stylename] = '';
        };
        BrowserDomAdapter.prototype.getStyle = function (element, stylename) { return element.style[stylename]; };
        BrowserDomAdapter.prototype.hasStyle = function (element, styleName, styleValue) {
            if (styleValue === void 0) {
                styleValue = null;
            }
            var value = this.getStyle(element, styleName) || '';
            return styleValue ? value == styleValue : value.length > 0;
        };
        BrowserDomAdapter.prototype.tagName = function (element) { return element.tagName; };
        BrowserDomAdapter.prototype.attributeMap = function (element) {
            var res = new Map();
            var elAttrs = element.attributes;
            for (var i = 0; i < elAttrs.length; i++) {
                var attrib = elAttrs[i];
                res.set(attrib.name, attrib.value);
            }
            return res;
        };
        BrowserDomAdapter.prototype.hasAttribute = function (element, attribute) {
            return element.hasAttribute(attribute);
        };
        BrowserDomAdapter.prototype.hasAttributeNS = function (element, ns, attribute) {
            return element.hasAttributeNS(ns, attribute);
        };
        BrowserDomAdapter.prototype.getAttribute = function (element, attribute) {
            return element.getAttribute(attribute);
        };
        BrowserDomAdapter.prototype.getAttributeNS = function (element, ns, name) {
            return element.getAttributeNS(ns, name);
        };
        BrowserDomAdapter.prototype.setAttribute = function (element, name, value) { element.setAttribute(name, value); };
        BrowserDomAdapter.prototype.setAttributeNS = function (element, ns, name, value) {
            element.setAttributeNS(ns, name, value);
        };
        BrowserDomAdapter.prototype.removeAttribute = function (element, attribute) { element.removeAttribute(attribute); };
        BrowserDomAdapter.prototype.removeAttributeNS = function (element, ns, name) {
            element.removeAttributeNS(ns, name);
        };
        BrowserDomAdapter.prototype.templateAwareRoot = function (el) { return this.isTemplateElement(el) ? this.content(el) : el; };
        BrowserDomAdapter.prototype.createHtmlDocument = function () {
            return document.implementation.createHTMLDocument('fakeTitle');
        };
        BrowserDomAdapter.prototype.defaultDoc = function () { return document; };
        BrowserDomAdapter.prototype.getBoundingClientRect = function (el) {
            try {
                return el.getBoundingClientRect();
            }
            catch (e) {
                return { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 };
            }
        };
        BrowserDomAdapter.prototype.getTitle = function () { return document.title; };
        BrowserDomAdapter.prototype.setTitle = function (newTitle) { document.title = newTitle || ''; };
        BrowserDomAdapter.prototype.elementMatches = function (n, selector) {
            if (n instanceof HTMLElement) {
                return n.matches && n.matches(selector) ||
                    n.msMatchesSelector && n.msMatchesSelector(selector) ||
                    n.webkitMatchesSelector && n.webkitMatchesSelector(selector);
            }
            return false;
        };
        BrowserDomAdapter.prototype.isTemplateElement = function (el) {
            return el instanceof HTMLElement && el.nodeName == 'TEMPLATE';
        };
        BrowserDomAdapter.prototype.isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };
        BrowserDomAdapter.prototype.isCommentNode = function (node) { return node.nodeType === Node.COMMENT_NODE; };
        BrowserDomAdapter.prototype.isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };
        BrowserDomAdapter.prototype.hasShadowRoot = function (node) {
            return isPresent$2(node.shadowRoot) && node instanceof HTMLElement;
        };
        BrowserDomAdapter.prototype.isShadowRoot = function (node) { return node instanceof DocumentFragment; };
        BrowserDomAdapter.prototype.importIntoDoc = function (node) { return document.importNode(this.templateAwareRoot(node), true); };
        BrowserDomAdapter.prototype.adoptNode = function (node) { return document.adoptNode(node); };
        BrowserDomAdapter.prototype.getHref = function (el) { return ((el)).href; };
        BrowserDomAdapter.prototype.getEventKey = function (event) {
            var key = event.key;
            if (isBlank$3(key)) {
                key = event.keyIdentifier;
                if (isBlank$3(key)) {
                    return 'Unidentified';
                }
                if (key.startsWith('U+')) {
                    key = String.fromCharCode(parseInt(key.substring(2), 16));
                    if (event.location === DOM_KEY_LOCATION_NUMPAD && _chromeNumKeyPadMap.hasOwnProperty(key)) {
                        key = ((_chromeNumKeyPadMap))[key];
                    }
                }
            }
            return _keyMap[key] || key;
        };
        BrowserDomAdapter.prototype.getGlobalEventTarget = function (target) {
            if (target === 'window') {
                return window;
            }
            if (target === 'document') {
                return document;
            }
            if (target === 'body') {
                return document.body;
            }
        };
        BrowserDomAdapter.prototype.getHistory = function () { return window.history; };
        BrowserDomAdapter.prototype.getLocation = function () { return window.location; };
        BrowserDomAdapter.prototype.getBaseHref = function () {
            var href = getBaseElementHref();
            return isBlank$3(href) ? null : relativePath(href);
        };
        BrowserDomAdapter.prototype.resetBaseElement = function () { baseElement = null; };
        BrowserDomAdapter.prototype.getUserAgent = function () { return window.navigator.userAgent; };
        BrowserDomAdapter.prototype.setData = function (element, name, value) {
            this.setAttribute(element, 'data-' + name, value);
        };
        BrowserDomAdapter.prototype.getData = function (element, name) {
            return this.getAttribute(element, 'data-' + name);
        };
        BrowserDomAdapter.prototype.getComputedStyle = function (element) { return getComputedStyle(element); };
        BrowserDomAdapter.prototype.setGlobalVar = function (path, value) { setValueOnPath$2(_global$2, path, value); };
        BrowserDomAdapter.prototype.supportsWebAnimation = function () {
            return typeof ((Element)).prototype['animate'] === 'function';
        };
        BrowserDomAdapter.prototype.performanceNow = function () {
            return window.performance && window.performance.now ? window.performance.now() :
                new Date().getTime();
        };
        BrowserDomAdapter.prototype.supportsCookies = function () { return true; };
        BrowserDomAdapter.prototype.getCookie = function (name) { return parseCookieValue(document.cookie, name); };
        BrowserDomAdapter.prototype.setCookie = function (name, value) {
            document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);
        };
        return BrowserDomAdapter;
    }(GenericBrowserDomAdapter));
    var baseElement = null;
    function getBaseElementHref() {
        if (!baseElement) {
            baseElement = document.querySelector('base');
            if (!baseElement) {
                return null;
            }
        }
        return baseElement.getAttribute('href');
    }
    var urlParsingNode;
    function relativePath(url) {
        if (!urlParsingNode) {
            urlParsingNode = document.createElement('a');
        }
        urlParsingNode.setAttribute('href', url);
        return (urlParsingNode.pathname.charAt(0) === '/') ? urlParsingNode.pathname :
            '/' + urlParsingNode.pathname;
    }
    function parseCookieValue(cookieStr, name) {
        name = encodeURIComponent(name);
        for (var _i = 0, _a = cookieStr.split(';'); _i < _a.length; _i++) {
            var cookie = _a[_i];
            var eqIndex = cookie.indexOf('=');
            var _b = eqIndex == -1 ? [cookie, ''] : [cookie.slice(0, eqIndex), cookie.slice(eqIndex + 1)], cookieName = _b[0], cookieValue = _b[1];
            if (cookieName.trim() === name) {
                return decodeURIComponent(cookieValue);
            }
        }
        return null;
    }
    function supportsState() {
        return !!window.history.pushState;
    }
    var __extends$28 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var BrowserPlatformLocation = (function (_super) {
        __extends$28(BrowserPlatformLocation, _super);
        function BrowserPlatformLocation() {
            _super.call(this);
            this._init();
        }
        BrowserPlatformLocation.prototype._init = function () {
            this._location = getDOM().getLocation();
            this._history = getDOM().getHistory();
        };
        Object.defineProperty(BrowserPlatformLocation.prototype, "location", {
            get: function () { return this._location; },
            enumerable: true,
            configurable: true
        });
        BrowserPlatformLocation.prototype.getBaseHrefFromDOM = function () { return getDOM().getBaseHref(); };
        BrowserPlatformLocation.prototype.onPopState = function (fn) {
            getDOM().getGlobalEventTarget('window').addEventListener('popstate', fn, false);
        };
        BrowserPlatformLocation.prototype.onHashChange = function (fn) {
            getDOM().getGlobalEventTarget('window').addEventListener('hashchange', fn, false);
        };
        Object.defineProperty(BrowserPlatformLocation.prototype, "pathname", {
            get: function () { return this._location.pathname; },
            set: function (newPath) { this._location.pathname = newPath; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BrowserPlatformLocation.prototype, "search", {
            get: function () { return this._location.search; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BrowserPlatformLocation.prototype, "hash", {
            get: function () { return this._location.hash; },
            enumerable: true,
            configurable: true
        });
        BrowserPlatformLocation.prototype.pushState = function (state$$1, title, url) {
            if (supportsState()) {
                this._history.pushState(state$$1, title, url);
            }
            else {
                this._location.hash = url;
            }
        };
        BrowserPlatformLocation.prototype.replaceState = function (state$$1, title, url) {
            if (supportsState()) {
                this._history.replaceState(state$$1, title, url);
            }
            else {
                this._location.hash = url;
            }
        };
        BrowserPlatformLocation.prototype.forward = function () { this._history.forward(); };
        BrowserPlatformLocation.prototype.back = function () { this._history.back(); };
        BrowserPlatformLocation.decorators = [
            { type: Injectable },
        ];
        BrowserPlatformLocation.ctorParameters = function () { return []; };
        return BrowserPlatformLocation;
    }(PlatformLocation));
    var BrowserGetTestability = (function () {
        function BrowserGetTestability() {
        }
        BrowserGetTestability.init = function () { setTestabilityGetter(new BrowserGetTestability()); };
        BrowserGetTestability.prototype.addToWindow = function (registry) {
            _global$2.getAngularTestability = function (elem, findInAncestors) {
                if (findInAncestors === void 0) {
                    findInAncestors = true;
                }
                var testability = registry.findTestabilityInTree(elem, findInAncestors);
                if (testability == null) {
                    throw new Error('Could not find testability for element.');
                }
                return testability;
            };
            _global$2.getAllAngularTestabilities = function () { return registry.getAllTestabilities(); };
            _global$2.getAllAngularRootElements = function () { return registry.getAllRootElements(); };
            var whenAllStable = function (callback) {
                var testabilities = _global$2.getAllAngularTestabilities();
                var count = testabilities.length;
                var didWork = false;
                var decrement = function (didWork_) {
                    didWork = didWork || didWork_;
                    count--;
                    if (count == 0) {
                        callback(didWork);
                    }
                };
                testabilities.forEach(function (testability) {
                    testability.whenStable(decrement);
                });
            };
            if (!_global$2['frameworkStabilizers']) {
                _global$2['frameworkStabilizers'] = [];
            }
            _global$2['frameworkStabilizers'].push(whenAllStable);
        };
        BrowserGetTestability.prototype.findTestabilityInTree = function (registry, elem, findInAncestors) {
            if (elem == null) {
                return null;
            }
            var t = registry.getTestability(elem);
            if (isPresent$2(t)) {
                return t;
            }
            else if (!findInAncestors) {
                return null;
            }
            if (getDOM().isShadowRoot(elem)) {
                return this.findTestabilityInTree(registry, getDOM().getHost(elem), true);
            }
            return this.findTestabilityInTree(registry, getDOM().parentElement(elem), true);
        };
        return BrowserGetTestability;
    }());
    var Title = (function () {
        function Title() {
        }
        Title.prototype.getTitle = function () { return getDOM().getTitle(); };
        Title.prototype.setTitle = function (newTitle) { getDOM().setTitle(newTitle); };
        return Title;
    }());
    var StringMapWrapper$2 = (function () {
        function StringMapWrapper() {
        }
        StringMapWrapper.merge = function (m1, m2) {
            var m = {};
            for (var _i = 0, _a = Object.keys(m1); _i < _a.length; _i++) {
                var k = _a[_i];
                m[k] = m1[k];
            }
            for (var _b = 0, _c = Object.keys(m2); _b < _c.length; _b++) {
                var k = _c[_b];
                m[k] = m2[k];
            }
            return m;
        };
        StringMapWrapper.equals = function (m1, m2) {
            var k1 = Object.keys(m1);
            var k2 = Object.keys(m2);
            if (k1.length != k2.length) {
                return false;
            }
            for (var i = 0; i < k1.length; i++) {
                var key = k1[i];
                if (m1[key] !== m2[key]) {
                    return false;
                }
            }
            return true;
        };
        return StringMapWrapper;
    }());
    var DOCUMENT = new OpaqueToken('DocumentToken');
    var EVENT_MANAGER_PLUGINS = new OpaqueToken('EventManagerPlugins');
    var EventManager = (function () {
        function EventManager(plugins, _zone) {
            var _this = this;
            this._zone = _zone;
            this._eventNameToPlugin = new Map();
            plugins.forEach(function (p) { return p.manager = _this; });
            this._plugins = plugins.slice().reverse();
        }
        EventManager.prototype.addEventListener = function (element, eventName, handler) {
            var plugin = this._findPluginFor(eventName);
            return plugin.addEventListener(element, eventName, handler);
        };
        EventManager.prototype.addGlobalEventListener = function (target, eventName, handler) {
            var plugin = this._findPluginFor(eventName);
            return plugin.addGlobalEventListener(target, eventName, handler);
        };
        EventManager.prototype.getZone = function () { return this._zone; };
        EventManager.prototype._findPluginFor = function (eventName) {
            var plugin = this._eventNameToPlugin.get(eventName);
            if (plugin) {
                return plugin;
            }
            var plugins = this._plugins;
            for (var i = 0; i < plugins.length; i++) {
                var plugin_1 = plugins[i];
                if (plugin_1.supports(eventName)) {
                    this._eventNameToPlugin.set(eventName, plugin_1);
                    return plugin_1;
                }
            }
            throw new Error("No event manager plugin found for event " + eventName);
        };
        EventManager.decorators = [
            { type: Injectable },
        ];
        EventManager.ctorParameters = function () {
            return [
                { type: Array, decorators: [{ type: Inject, args: [EVENT_MANAGER_PLUGINS,] },] },
                { type: NgZone, },
            ];
        };
        return EventManager;
    }());
    var EventManagerPlugin = (function () {
        function EventManagerPlugin() {
        }
        EventManagerPlugin.prototype.supports = function (eventName) { };
        EventManagerPlugin.prototype.addEventListener = function (element, eventName, handler) { };
        EventManagerPlugin.prototype.addGlobalEventListener = function (element, eventName, handler) {
            var target = getDOM().getGlobalEventTarget(element);
            if (!target) {
                throw new Error("Unsupported event target " + target + " for event " + eventName);
            }
            return this.addEventListener(target, eventName, handler);
        };
        return EventManagerPlugin;
    }());
    var __extends$30 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var SharedStylesHost = (function () {
        function SharedStylesHost() {
            this._styles = [];
            this._stylesSet = new Set();
        }
        SharedStylesHost.prototype.addStyles = function (styles) {
            var _this = this;
            var additions = [];
            styles.forEach(function (style$$1) {
                if (!_this._stylesSet.has(style$$1)) {
                    _this._stylesSet.add(style$$1);
                    _this._styles.push(style$$1);
                    additions.push(style$$1);
                }
            });
            this.onStylesAdded(additions);
        };
        SharedStylesHost.prototype.onStylesAdded = function (additions) { };
        SharedStylesHost.prototype.getAllStyles = function () { return this._styles; };
        SharedStylesHost.decorators = [
            { type: Injectable },
        ];
        SharedStylesHost.ctorParameters = function () { return []; };
        return SharedStylesHost;
    }());
    var DomSharedStylesHost = (function (_super) {
        __extends$30(DomSharedStylesHost, _super);
        function DomSharedStylesHost(doc) {
            _super.call(this);
            this._hostNodes = new Set();
            this._hostNodes.add(doc.head);
        }
        DomSharedStylesHost.prototype._addStylesToHost = function (styles, host) {
            for (var i = 0; i < styles.length; i++) {
                var styleEl = document.createElement('style');
                styleEl.textContent = styles[i];
                host.appendChild(styleEl);
            }
        };
        DomSharedStylesHost.prototype.addHost = function (hostNode) {
            this._addStylesToHost(this._styles, hostNode);
            this._hostNodes.add(hostNode);
        };
        DomSharedStylesHost.prototype.removeHost = function (hostNode) { this._hostNodes.delete(hostNode); };
        DomSharedStylesHost.prototype.onStylesAdded = function (additions) {
            var _this = this;
            this._hostNodes.forEach(function (hostNode) { _this._addStylesToHost(additions, hostNode); });
        };
        DomSharedStylesHost.decorators = [
            { type: Injectable },
        ];
        DomSharedStylesHost.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },
            ];
        };
        return DomSharedStylesHost;
    }(SharedStylesHost));
    var __extends$29 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var NAMESPACE_URIS = {
        'xlink': 'http://www.w3.org/1999/xlink',
        'svg': 'http://www.w3.org/2000/svg',
        'xhtml': 'http://www.w3.org/1999/xhtml'
    };
    var TEMPLATE_COMMENT_TEXT = 'template bindings={}';
    var TEMPLATE_BINDINGS_EXP = /^template bindings=(.*)$/;
    var DomRootRenderer = (function () {
        function DomRootRenderer(document, eventManager, sharedStylesHost, animationDriver, appId) {
            this.document = document;
            this.eventManager = eventManager;
            this.sharedStylesHost = sharedStylesHost;
            this.animationDriver = animationDriver;
            this.appId = appId;
            this.registeredComponents = new Map();
        }
        DomRootRenderer.prototype.renderComponent = function (componentProto) {
            var renderer = this.registeredComponents.get(componentProto.id);
            if (!renderer) {
                renderer = new DomRenderer(this, componentProto, this.animationDriver, this.appId + "-" + componentProto.id);
                this.registeredComponents.set(componentProto.id, renderer);
            }
            return renderer;
        };
        return DomRootRenderer;
    }());
    var DomRootRenderer_ = (function (_super) {
        __extends$29(DomRootRenderer_, _super);
        function DomRootRenderer_(_document, _eventManager, sharedStylesHost, animationDriver, appId) {
            _super.call(this, _document, _eventManager, sharedStylesHost, animationDriver, appId);
        }
        DomRootRenderer_.decorators = [
            { type: Injectable },
        ];
        DomRootRenderer_.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },
                { type: EventManager, },
                { type: DomSharedStylesHost, },
                { type: AnimationDriver, },
                { type: undefined, decorators: [{ type: Inject, args: [APP_ID,] },] },
            ];
        };
        return DomRootRenderer_;
    }(DomRootRenderer));
    var DIRECT_DOM_RENDERER = {
        remove: function (node) {
            if (node.parentNode) {
                node.parentNode.removeChild(node);
            }
        },
        appendChild: function (node, parent) { parent.appendChild(node); },
        insertBefore: function (node, refNode) { refNode.parentNode.insertBefore(node, refNode); },
        nextSibling: function (node) { return node.nextSibling; },
        parentElement: function (node) { return (node.parentNode); }
    };
    var DomRenderer = (function () {
        function DomRenderer(_rootRenderer, componentProto, _animationDriver, styleShimId) {
            this._rootRenderer = _rootRenderer;
            this.componentProto = componentProto;
            this._animationDriver = _animationDriver;
            this.directRenderer = DIRECT_DOM_RENDERER;
            this._styles = flattenStyles$1(styleShimId, componentProto.styles, []);
            if (componentProto.encapsulation !== ViewEncapsulation.Native) {
                this._rootRenderer.sharedStylesHost.addStyles(this._styles);
            }
            if (this.componentProto.encapsulation === ViewEncapsulation.Emulated) {
                this._contentAttr = shimContentAttribute(styleShimId);
                this._hostAttr = shimHostAttribute(styleShimId);
            }
            else {
                this._contentAttr = null;
                this._hostAttr = null;
            }
        }
        DomRenderer.prototype.selectRootElement = function (selectorOrNode, debugInfo) {
            var el;
            if (typeof selectorOrNode === 'string') {
                el = this._rootRenderer.document.querySelector(selectorOrNode);
                if (!el) {
                    throw new Error("The selector \"" + selectorOrNode + "\" did not match any elements");
                }
            }
            else {
                el = selectorOrNode;
            }
            while (el.firstChild) {
                el.removeChild(el.firstChild);
            }
            return el;
        };
        DomRenderer.prototype.createElement = function (parent, name, debugInfo) {
            var el;
            if (isNamespaced(name)) {
                var nsAndName = splitNamespace(name);
                el = document.createElementNS((NAMESPACE_URIS)[nsAndName[0]], nsAndName[1]);
            }
            else {
                el = document.createElement(name);
            }
            if (this._contentAttr) {
                el.setAttribute(this._contentAttr, '');
            }
            if (parent) {
                parent.appendChild(el);
            }
            return el;
        };
        DomRenderer.prototype.createViewRoot = function (hostElement) {
            var nodesParent;
            if (this.componentProto.encapsulation === ViewEncapsulation.Native) {
                nodesParent = ((hostElement)).createShadowRoot();
                this._rootRenderer.sharedStylesHost.addHost(nodesParent);
                for (var i = 0; i < this._styles.length; i++) {
                    var styleEl = document.createElement('style');
                    styleEl.textContent = this._styles[i];
                    nodesParent.appendChild(styleEl);
                }
            }
            else {
                if (this._hostAttr) {
                    hostElement.setAttribute(this._hostAttr, '');
                }
                nodesParent = hostElement;
            }
            return nodesParent;
        };
        DomRenderer.prototype.createTemplateAnchor = function (parentElement, debugInfo) {
            var comment = document.createComment(TEMPLATE_COMMENT_TEXT);
            if (parentElement) {
                parentElement.appendChild(comment);
            }
            return comment;
        };
        DomRenderer.prototype.createText = function (parentElement, value, debugInfo) {
            var node = document.createTextNode(value);
            if (parentElement) {
                parentElement.appendChild(node);
            }
            return node;
        };
        DomRenderer.prototype.projectNodes = function (parentElement, nodes) {
            if (!parentElement)
                return;
            appendNodes(parentElement, nodes);
        };
        DomRenderer.prototype.attachViewAfter = function (node, viewRootNodes) { moveNodesAfterSibling(node, viewRootNodes); };
        DomRenderer.prototype.detachView = function (viewRootNodes) {
            for (var i = 0; i < viewRootNodes.length; i++) {
                var node = viewRootNodes[i];
                if (node.parentNode) {
                    node.parentNode.removeChild(node);
                }
            }
        };
        DomRenderer.prototype.destroyView = function (hostElement, viewAllNodes) {
            if (this.componentProto.encapsulation === ViewEncapsulation.Native && hostElement) {
                this._rootRenderer.sharedStylesHost.removeHost(((hostElement)).shadowRoot);
            }
        };
        DomRenderer.prototype.listen = function (renderElement, name, callback) {
            return this._rootRenderer.eventManager.addEventListener(renderElement, name, decoratePreventDefault(callback));
        };
        DomRenderer.prototype.listenGlobal = function (target, name, callback) {
            return this._rootRenderer.eventManager.addGlobalEventListener(target, name, decoratePreventDefault(callback));
        };
        DomRenderer.prototype.setElementProperty = function (renderElement, propertyName, propertyValue) {
            ((renderElement))[propertyName] = propertyValue;
        };
        DomRenderer.prototype.setElementAttribute = function (renderElement, attributeName, attributeValue) {
            var attrNs;
            var attrNameWithoutNs = attributeName;
            if (isNamespaced(attributeName)) {
                var nsAndName = splitNamespace(attributeName);
                attrNameWithoutNs = nsAndName[1];
                attributeName = nsAndName[0] + ':' + nsAndName[1];
                attrNs = NAMESPACE_URIS[nsAndName[0]];
            }
            if (isPresent$2(attributeValue)) {
                if (attrNs) {
                    renderElement.setAttributeNS(attrNs, attributeName, attributeValue);
                }
                else {
                    renderElement.setAttribute(attributeName, attributeValue);
                }
            }
            else {
                if (isPresent$2(attrNs)) {
                    renderElement.removeAttributeNS(attrNs, attrNameWithoutNs);
                }
                else {
                    renderElement.removeAttribute(attributeName);
                }
            }
        };
        DomRenderer.prototype.setBindingDebugInfo = function (renderElement, propertyName, propertyValue) {
            if (renderElement.nodeType === Node.COMMENT_NODE) {
                var existingBindings = renderElement.nodeValue.replace(/\n/g, '').match(TEMPLATE_BINDINGS_EXP);
                var parsedBindings = JSON.parse(existingBindings[1]);
                parsedBindings[propertyName] = propertyValue;
                renderElement.nodeValue =
                    TEMPLATE_COMMENT_TEXT.replace('{}', JSON.stringify(parsedBindings, null, 2));
            }
            else {
                this.setElementAttribute(renderElement, propertyName, propertyValue);
            }
        };
        DomRenderer.prototype.setElementClass = function (renderElement, className, isAdd) {
            if (isAdd) {
                renderElement.classList.add(className);
            }
            else {
                renderElement.classList.remove(className);
            }
        };
        DomRenderer.prototype.setElementStyle = function (renderElement, styleName, styleValue) {
            if (isPresent$2(styleValue)) {
                ((renderElement.style))[styleName] = stringify$2(styleValue);
            }
            else {
                ((renderElement.style))[styleName] = '';
            }
        };
        DomRenderer.prototype.invokeElementMethod = function (renderElement, methodName, args) {
            ((renderElement))[methodName].apply(renderElement, args);
        };
        DomRenderer.prototype.setText = function (renderNode, text) { renderNode.nodeValue = text; };
        DomRenderer.prototype.animate = function (element, startingStyles, keyframes$$1, duration, delay, easing, previousPlayers) {
            if (previousPlayers === void 0) {
                previousPlayers = [];
            }
            if (this._rootRenderer.document.body.contains(element)) {
                return this._animationDriver.animate(element, startingStyles, keyframes$$1, duration, delay, easing, previousPlayers);
            }
            return new NoOpAnimationPlayer$1();
        };
        return DomRenderer;
    }());
    function moveNodesAfterSibling(sibling, nodes) {
        var parent = sibling.parentNode;
        if (nodes.length > 0 && parent) {
            var nextSibling = sibling.nextSibling;
            if (nextSibling) {
                for (var i = 0; i < nodes.length; i++) {
                    parent.insertBefore(nodes[i], nextSibling);
                }
            }
            else {
                for (var i = 0; i < nodes.length; i++) {
                    parent.appendChild(nodes[i]);
                }
            }
        }
    }
    function appendNodes(parent, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            parent.appendChild(nodes[i]);
        }
    }
    function decoratePreventDefault(eventHandler) {
        return function (event) {
            var allowDefaultBehavior = eventHandler(event);
            if (allowDefaultBehavior === false) {
                event.preventDefault();
                event.returnValue = false;
            }
        };
    }
    var COMPONENT_REGEX = /%COMP%/g;
    var COMPONENT_VARIABLE = '%COMP%';
    var HOST_ATTR = "_nghost-" + COMPONENT_VARIABLE;
    var CONTENT_ATTR = "_ngcontent-" + COMPONENT_VARIABLE;
    function shimContentAttribute(componentShortId) {
        return CONTENT_ATTR.replace(COMPONENT_REGEX, componentShortId);
    }
    function shimHostAttribute(componentShortId) {
        return HOST_ATTR.replace(COMPONENT_REGEX, componentShortId);
    }
    function flattenStyles$1(compId, styles, target) {
        for (var i = 0; i < styles.length; i++) {
            var style$$1 = styles[i];
            if (Array.isArray(style$$1)) {
                flattenStyles$1(compId, style$$1, target);
            }
            else {
                style$$1 = style$$1.replace(COMPONENT_REGEX, compId);
                target.push(style$$1);
            }
        }
        return target;
    }
    var NS_PREFIX_RE = /^:([^:]+):(.+)$/;
    function isNamespaced(name) {
        return name[0] === ':';
    }
    function splitNamespace(name) {
        var match = name.match(NS_PREFIX_RE);
        return [match[1], match[2]];
    }
    var CORE_TOKENS = {
        'ApplicationRef': ApplicationRef,
        'NgZone': NgZone,
    };
    var INSPECT_GLOBAL_NAME = 'ng.probe';
    var CORE_TOKENS_GLOBAL_NAME = 'ng.coreTokens';
    function inspectNativeElement(element) {
        return getDebugNode(element);
    }
    var NgProbeToken$1 = (function () {
        function NgProbeToken$$1(name, token) {
            this.name = name;
            this.token = token;
        }
        return NgProbeToken$$1;
    }());
    function _createConditionalRootRenderer(rootRenderer, extraTokens, coreTokens) {
        return isDevMode() ?
            _createRootRenderer(rootRenderer, (extraTokens || []).concat(coreTokens || [])) :
            rootRenderer;
    }
    function _createRootRenderer(rootRenderer, extraTokens) {
        getDOM().setGlobalVar(INSPECT_GLOBAL_NAME, inspectNativeElement);
        getDOM().setGlobalVar(CORE_TOKENS_GLOBAL_NAME, StringMapWrapper$2.merge(CORE_TOKENS, _ngProbeTokensToMap(extraTokens || [])));
        return new DebugDomRootRenderer$1(rootRenderer);
    }
    function _ngProbeTokensToMap(tokens) {
        return tokens.reduce(function (prev, t) { return (prev[t.name] = t.token, prev); }, {});
    }
    var ELEMENT_PROBE_PROVIDERS = [{
            provide: RootRenderer,
            useFactory: _createConditionalRootRenderer,
            deps: [
                DomRootRenderer, [NgProbeToken$1, new Optional()],
                [NgProbeToken, new Optional()]
            ]
        }];
    var __extends$31 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var DomEventsPlugin = (function (_super) {
        __extends$31(DomEventsPlugin, _super);
        function DomEventsPlugin() {
            _super.apply(this, arguments);
        }
        DomEventsPlugin.prototype.supports = function (eventName) { return true; };
        DomEventsPlugin.prototype.addEventListener = function (element, eventName, handler) {
            element.addEventListener(eventName, (handler), false);
            return function () { return element.removeEventListener(eventName, (handler), false); };
        };
        DomEventsPlugin.decorators = [
            { type: Injectable },
        ];
        DomEventsPlugin.ctorParameters = function () { return []; };
        return DomEventsPlugin;
    }(EventManagerPlugin));
    var __extends$32 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var EVENT_NAMES = {
        'pan': true,
        'panstart': true,
        'panmove': true,
        'panend': true,
        'pancancel': true,
        'panleft': true,
        'panright': true,
        'panup': true,
        'pandown': true,
        'pinch': true,
        'pinchstart': true,
        'pinchmove': true,
        'pinchend': true,
        'pinchcancel': true,
        'pinchin': true,
        'pinchout': true,
        'press': true,
        'pressup': true,
        'rotate': true,
        'rotatestart': true,
        'rotatemove': true,
        'rotateend': true,
        'rotatecancel': true,
        'swipe': true,
        'swipeleft': true,
        'swiperight': true,
        'swipeup': true,
        'swipedown': true,
        'tap': true,
    };
    var HAMMER_GESTURE_CONFIG = new OpaqueToken('HammerGestureConfig');
    var HammerGestureConfig = (function () {
        function HammerGestureConfig() {
            this.events = [];
            this.overrides = {};
        }
        HammerGestureConfig.prototype.buildHammer = function (element) {
            var mc = new Hammer(element);
            mc.get('pinch').set({ enable: true });
            mc.get('rotate').set({ enable: true });
            for (var eventName in this.overrides) {
                mc.get(eventName).set(this.overrides[eventName]);
            }
            return mc;
        };
        HammerGestureConfig.decorators = [
            { type: Injectable },
        ];
        HammerGestureConfig.ctorParameters = function () { return []; };
        return HammerGestureConfig;
    }());
    var HammerGesturesPlugin = (function (_super) {
        __extends$32(HammerGesturesPlugin, _super);
        function HammerGesturesPlugin(_config) {
            _super.call(this);
            this._config = _config;
        }
        HammerGesturesPlugin.prototype.supports = function (eventName) {
            if (!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase()) && !this.isCustomEvent(eventName)) {
                return false;
            }
            if (!((window)).Hammer) {
                throw new Error("Hammer.js is not loaded, can not bind " + eventName + " event");
            }
            return true;
        };
        HammerGesturesPlugin.prototype.addEventListener = function (element, eventName, handler) {
            var _this = this;
            var zone = this.manager.getZone();
            eventName = eventName.toLowerCase();
            return zone.runOutsideAngular(function () {
                var mc = _this._config.buildHammer(element);
                var callback = function (eventObj) {
                    zone.runGuarded(function () { handler(eventObj); });
                };
                mc.on(eventName, callback);
                return function () { return mc.off(eventName, callback); };
            });
        };
        HammerGesturesPlugin.prototype.isCustomEvent = function (eventName) { return this._config.events.indexOf(eventName) > -1; };
        HammerGesturesPlugin.decorators = [
            { type: Injectable },
        ];
        HammerGesturesPlugin.ctorParameters = function () {
            return [
                { type: HammerGestureConfig, decorators: [{ type: Inject, args: [HAMMER_GESTURE_CONFIG,] },] },
            ];
        };
        return HammerGesturesPlugin;
    }(EventManagerPlugin));
    var __extends$33 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var MODIFIER_KEYS = ['alt', 'control', 'meta', 'shift'];
    var MODIFIER_KEY_GETTERS = {
        'alt': function (event) { return event.altKey; },
        'control': function (event) { return event.ctrlKey; },
        'meta': function (event) { return event.metaKey; },
        'shift': function (event) { return event.shiftKey; }
    };
    var KeyEventsPlugin = (function (_super) {
        __extends$33(KeyEventsPlugin, _super);
        function KeyEventsPlugin() {
            _super.call(this);
        }
        KeyEventsPlugin.prototype.supports = function (eventName) { return KeyEventsPlugin.parseEventName(eventName) != null; };
        KeyEventsPlugin.prototype.addEventListener = function (element, eventName, handler) {
            var parsedEvent = KeyEventsPlugin.parseEventName(eventName);
            var outsideHandler = KeyEventsPlugin.eventCallback(parsedEvent['fullKey'], handler, this.manager.getZone());
            return this.manager.getZone().runOutsideAngular(function () {
                return getDOM().onAndCancel(element, parsedEvent['domEventName'], outsideHandler);
            });
        };
        KeyEventsPlugin.parseEventName = function (eventName) {
            var parts = eventName.toLowerCase().split('.');
            var domEventName = parts.shift();
            if ((parts.length === 0) || !(domEventName === 'keydown' || domEventName === 'keyup')) {
                return null;
            }
            var key = KeyEventsPlugin._normalizeKey(parts.pop());
            var fullKey = '';
            MODIFIER_KEYS.forEach(function (modifierName) {
                var index = parts.indexOf(modifierName);
                if (index > -1) {
                    parts.splice(index, 1);
                    fullKey += modifierName + '.';
                }
            });
            fullKey += key;
            if (parts.length != 0 || key.length === 0) {
                return null;
            }
            var result = {};
            result['domEventName'] = domEventName;
            result['fullKey'] = fullKey;
            return result;
        };
        KeyEventsPlugin.getEventFullKey = function (event) {
            var fullKey = '';
            var key = getDOM().getEventKey(event);
            key = key.toLowerCase();
            if (key === ' ') {
                key = 'space';
            }
            else if (key === '.') {
                key = 'dot';
            }
            MODIFIER_KEYS.forEach(function (modifierName) {
                if (modifierName != key) {
                    var modifierGetter = MODIFIER_KEY_GETTERS[modifierName];
                    if (modifierGetter(event)) {
                        fullKey += modifierName + '.';
                    }
                }
            });
            fullKey += key;
            return fullKey;
        };
        KeyEventsPlugin.eventCallback = function (fullKey, handler, zone) {
            return function (event) {
                if (KeyEventsPlugin.getEventFullKey(event) === fullKey) {
                    zone.runGuarded(function () { return handler(event); });
                }
            };
        };
        KeyEventsPlugin._normalizeKey = function (keyName) {
            switch (keyName) {
                case 'esc':
                    return 'escape';
                default:
                    return keyName;
            }
        };
        KeyEventsPlugin.decorators = [
            { type: Injectable },
        ];
        KeyEventsPlugin.ctorParameters = function () { return []; };
        return KeyEventsPlugin;
    }(EventManagerPlugin));
    var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi;
    var DATA_URL_PATTERN = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;
    function sanitizeUrl(url) {
        url = String(url);
        if (url.match(SAFE_URL_PATTERN) || url.match(DATA_URL_PATTERN))
            return url;
        if (isDevMode()) {
            getDOM().log("WARNING: sanitizing unsafe URL value " + url + " (see http://g.co/ng/security#xss)");
        }
        return 'unsafe:' + url;
    }
    function sanitizeSrcset(srcset) {
        srcset = String(srcset);
        return srcset.split(',').map(function (srcset) { return sanitizeUrl(srcset.trim()); }).join(', ');
    }
    var inertElement = null;
    var DOM = null;
    function getInertElement() {
        if (inertElement)
            return inertElement;
        DOM = getDOM();
        var templateEl = DOM.createElement('template');
        if ('content' in templateEl)
            return templateEl;
        var doc = DOM.createHtmlDocument();
        inertElement = DOM.querySelector(doc, 'body');
        if (inertElement == null) {
            var html = DOM.createElement('html', doc);
            inertElement = DOM.createElement('body', doc);
            DOM.appendChild(html, inertElement);
            DOM.appendChild(doc, html);
        }
        return inertElement;
    }
    function tagSet(tags) {
        var res = {};
        for (var _i = 0, _a = tags.split(','); _i < _a.length; _i++) {
            var t = _a[_i];
            res[t] = true;
        }
        return res;
    }
    function merge() {
        var sets = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            sets[_i - 0] = arguments[_i];
        }
        var res = {};
        for (var _a = 0, sets_1 = sets; _a < sets_1.length; _a++) {
            var s = sets_1[_a];
            for (var v in s) {
                if (s.hasOwnProperty(v))
                    res[v] = true;
            }
        }
        return res;
    }
    var VOID_ELEMENTS = tagSet('area,br,col,hr,img,wbr');
    var OPTIONAL_END_TAG_BLOCK_ELEMENTS = tagSet('colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr');
    var OPTIONAL_END_TAG_INLINE_ELEMENTS = tagSet('rp,rt');
    var OPTIONAL_END_TAG_ELEMENTS = merge(OPTIONAL_END_TAG_INLINE_ELEMENTS, OPTIONAL_END_TAG_BLOCK_ELEMENTS);
    var BLOCK_ELEMENTS = merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS, tagSet('address,article,' +
        'aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,' +
        'h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul'));
    var INLINE_ELEMENTS = merge(OPTIONAL_END_TAG_INLINE_ELEMENTS, tagSet('a,abbr,acronym,audio,b,' +
        'bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,' +
        'samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video'));
    var VALID_ELEMENTS = merge(VOID_ELEMENTS, BLOCK_ELEMENTS, INLINE_ELEMENTS, OPTIONAL_END_TAG_ELEMENTS);
    var URI_ATTRS = tagSet('background,cite,href,itemtype,longdesc,poster,src,xlink:href');
    var SRCSET_ATTRS = tagSet('srcset');
    var HTML_ATTRS = tagSet('abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,' +
        'compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,' +
        'ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,' +
        'scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,' +
        'valign,value,vspace,width');
    var VALID_ATTRS = merge(URI_ATTRS, SRCSET_ATTRS, HTML_ATTRS);
    var SanitizingHtmlSerializer = (function () {
        function SanitizingHtmlSerializer() {
            this.sanitizedSomething = false;
            this.buf = [];
        }
        SanitizingHtmlSerializer.prototype.sanitizeChildren = function (el) {
            var current = el.firstChild;
            while (current) {
                if (DOM.isElementNode(current)) {
                    this.startElement((current));
                }
                else if (DOM.isTextNode(current)) {
                    this.chars(DOM.nodeValue(current));
                }
                else {
                    this.sanitizedSomething = true;
                }
                if (DOM.firstChild(current)) {
                    current = DOM.firstChild(current);
                    continue;
                }
                while (current) {
                    if (DOM.isElementNode(current)) {
                        this.endElement((current));
                    }
                    if (DOM.nextSibling(current)) {
                        current = DOM.nextSibling(current);
                        break;
                    }
                    current = DOM.parentElement(current);
                }
            }
            return this.buf.join('');
        };
        SanitizingHtmlSerializer.prototype.startElement = function (element) {
            var _this = this;
            var tagName = DOM.nodeName(element).toLowerCase();
            if (!VALID_ELEMENTS.hasOwnProperty(tagName)) {
                this.sanitizedSomething = true;
                return;
            }
            this.buf.push('<');
            this.buf.push(tagName);
            DOM.attributeMap(element).forEach(function (value, attrName) {
                var lower = attrName.toLowerCase();
                if (!VALID_ATTRS.hasOwnProperty(lower)) {
                    _this.sanitizedSomething = true;
                    return;
                }
                if (URI_ATTRS[lower])
                    value = sanitizeUrl(value);
                if (SRCSET_ATTRS[lower])
                    value = sanitizeSrcset(value);
                _this.buf.push(' ');
                _this.buf.push(attrName);
                _this.buf.push('="');
                _this.buf.push(encodeEntities(value));
                _this.buf.push('"');
            });
            this.buf.push('>');
        };
        SanitizingHtmlSerializer.prototype.endElement = function (current) {
            var tagName = DOM.nodeName(current).toLowerCase();
            if (VALID_ELEMENTS.hasOwnProperty(tagName) && !VOID_ELEMENTS.hasOwnProperty(tagName)) {
                this.buf.push('</');
                this.buf.push(tagName);
                this.buf.push('>');
            }
        };
        SanitizingHtmlSerializer.prototype.chars = function (chars) { this.buf.push(encodeEntities(chars)); };
        return SanitizingHtmlSerializer;
    }());
    var SURROGATE_PAIR_REGEXP = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
    var NON_ALPHANUMERIC_REGEXP = /([^\#-~ |!])/g;
    function encodeEntities(value) {
        return value.replace(/&/g, '&amp;')
            .replace(SURROGATE_PAIR_REGEXP, function (match) {
            var hi = match.charCodeAt(0);
            var low = match.charCodeAt(1);
            return '&#' + (((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000) + ';';
        })
            .replace(NON_ALPHANUMERIC_REGEXP, function (match) { return '&#' + match.charCodeAt(0) + ';'; })
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;');
    }
    function stripCustomNsAttrs(el) {
        DOM.attributeMap(el).forEach(function (_, attrName) {
            if (attrName === 'xmlns:ns1' || attrName.indexOf('ns1:') === 0) {
                DOM.removeAttribute(el, attrName);
            }
        });
        for (var _i = 0, _a = DOM.childNodesAsList(el); _i < _a.length; _i++) {
            var n = _a[_i];
            if (DOM.isElementNode(n))
                stripCustomNsAttrs((n));
        }
    }
    function sanitizeHtml(unsafeHtmlInput) {
        try {
            var containerEl = getInertElement();
            var unsafeHtml = unsafeHtmlInput ? String(unsafeHtmlInput) : '';
            var mXSSAttempts = 5;
            var parsedHtml = unsafeHtml;
            do {
                if (mXSSAttempts === 0) {
                    throw new Error('Failed to sanitize html because the input is unstable');
                }
                mXSSAttempts--;
                unsafeHtml = parsedHtml;
                DOM.setInnerHTML(containerEl, unsafeHtml);
                if (((DOM.defaultDoc())).documentMode) {
                    stripCustomNsAttrs(containerEl);
                }
                parsedHtml = DOM.getInnerHTML(containerEl);
            } while (unsafeHtml !== parsedHtml);
            var sanitizer = new SanitizingHtmlSerializer();
            var safeHtml = sanitizer.sanitizeChildren(DOM.getTemplateContent(containerEl) || containerEl);
            var parent_1 = DOM.getTemplateContent(containerEl) || containerEl;
            for (var _i = 0, _a = DOM.childNodesAsList(parent_1); _i < _a.length; _i++) {
                var child = _a[_i];
                DOM.removeChild(parent_1, child);
            }
            if (isDevMode() && sanitizer.sanitizedSomething) {
                DOM.log('WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss).');
            }
            return safeHtml;
        }
        catch (e) {
            inertElement = null;
            throw e;
        }
    }
    var VALUES = '[-,."\'%_!# a-zA-Z0-9]+';
    var TRANSFORMATION_FNS = '(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?';
    var COLOR_FNS = '(?:rgb|hsl)a?';
    var FN_ARGS = '\\([-0-9.%, a-zA-Z]+\\)';
    var SAFE_STYLE_VALUE = new RegExp("^(" + VALUES + "|(?:" + TRANSFORMATION_FNS + "|" + COLOR_FNS + ")" + FN_ARGS + ")$", 'g');
    var URL_RE = /^url\(([^)]+)\)$/;
    function hasBalancedQuotes(value) {
        var outsideSingle = true;
        var outsideDouble = true;
        for (var i = 0; i < value.length; i++) {
            var c = value.charAt(i);
            if (c === '\'' && outsideDouble) {
                outsideSingle = !outsideSingle;
            }
            else if (c === '"' && outsideSingle) {
                outsideDouble = !outsideDouble;
            }
        }
        return outsideSingle && outsideDouble;
    }
    function sanitizeStyle(value) {
        value = String(value).trim();
        if (!value)
            return '';
        var urlMatch = value.match(URL_RE);
        if ((urlMatch && sanitizeUrl(urlMatch[1]) === urlMatch[1]) ||
            value.match(SAFE_STYLE_VALUE) && hasBalancedQuotes(value)) {
            return value;
        }
        if (isDevMode()) {
            getDOM().log("WARNING: sanitizing unsafe style value " + value + " (see http://g.co/ng/security#xss).");
        }
        return 'unsafe';
    }
    var __extends$34 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var DomSanitizer = (function () {
        function DomSanitizer() {
        }
        DomSanitizer.prototype.sanitize = function (context, value) { };
        DomSanitizer.prototype.bypassSecurityTrustHtml = function (value) { };
        DomSanitizer.prototype.bypassSecurityTrustStyle = function (value) { };
        DomSanitizer.prototype.bypassSecurityTrustScript = function (value) { };
        DomSanitizer.prototype.bypassSecurityTrustUrl = function (value) { };
        DomSanitizer.prototype.bypassSecurityTrustResourceUrl = function (value) { };
        return DomSanitizer;
    }());
    var DomSanitizerImpl = (function (_super) {
        __extends$34(DomSanitizerImpl, _super);
        function DomSanitizerImpl() {
            _super.apply(this, arguments);
        }
        DomSanitizerImpl.prototype.sanitize = function (ctx, value) {
            if (value == null)
                return null;
            switch (ctx) {
                case SecurityContext.NONE:
                    return value;
                case SecurityContext.HTML:
                    if (value instanceof SafeHtmlImpl)
                        return value.changingThisBreaksApplicationSecurity;
                    this.checkNotSafeValue(value, 'HTML');
                    return sanitizeHtml(String(value));
                case SecurityContext.STYLE:
                    if (value instanceof SafeStyleImpl)
                        return value.changingThisBreaksApplicationSecurity;
                    this.checkNotSafeValue(value, 'Style');
                    return sanitizeStyle(value);
                case SecurityContext.SCRIPT:
                    if (value instanceof SafeScriptImpl)
                        return value.changingThisBreaksApplicationSecurity;
                    this.checkNotSafeValue(value, 'Script');
                    throw new Error('unsafe value used in a script context');
                case SecurityContext.URL:
                    if (value instanceof SafeResourceUrlImpl || value instanceof SafeUrlImpl) {
                        return value.changingThisBreaksApplicationSecurity;
                    }
                    this.checkNotSafeValue(value, 'URL');
                    return sanitizeUrl(String(value));
                case SecurityContext.RESOURCE_URL:
                    if (value instanceof SafeResourceUrlImpl) {
                        return value.changingThisBreaksApplicationSecurity;
                    }
                    this.checkNotSafeValue(value, 'ResourceURL');
                    throw new Error('unsafe value used in a resource URL context (see http://g.co/ng/security#xss)');
                default:
                    throw new Error("Unexpected SecurityContext " + ctx + " (see http://g.co/ng/security#xss)");
            }
        };
        DomSanitizerImpl.prototype.checkNotSafeValue = function (value, expectedType) {
            if (value instanceof SafeValueImpl) {
                throw new Error(("Required a safe " + expectedType + ", got a " + value.getTypeName() + " ") +
                    "(see http://g.co/ng/security#xss)");
            }
        };
        DomSanitizerImpl.prototype.bypassSecurityTrustHtml = function (value) { return new SafeHtmlImpl(value); };
        DomSanitizerImpl.prototype.bypassSecurityTrustStyle = function (value) { return new SafeStyleImpl(value); };
        DomSanitizerImpl.prototype.bypassSecurityTrustScript = function (value) { return new SafeScriptImpl(value); };
        DomSanitizerImpl.prototype.bypassSecurityTrustUrl = function (value) { return new SafeUrlImpl(value); };
        DomSanitizerImpl.prototype.bypassSecurityTrustResourceUrl = function (value) {
            return new SafeResourceUrlImpl(value);
        };
        DomSanitizerImpl.decorators = [
            { type: Injectable },
        ];
        DomSanitizerImpl.ctorParameters = function () { return []; };
        return DomSanitizerImpl;
    }(DomSanitizer));
    var SafeValueImpl = (function () {
        function SafeValueImpl(changingThisBreaksApplicationSecurity) {
            this.changingThisBreaksApplicationSecurity = changingThisBreaksApplicationSecurity;
        }
        SafeValueImpl.prototype.getTypeName = function () { };
        SafeValueImpl.prototype.toString = function () {
            return ("SafeValue must use [property]=binding: " + this.changingThisBreaksApplicationSecurity) +
                " (see http://g.co/ng/security#xss)";
        };
        return SafeValueImpl;
    }());
    var SafeHtmlImpl = (function (_super) {
        __extends$34(SafeHtmlImpl, _super);
        function SafeHtmlImpl() {
            _super.apply(this, arguments);
        }
        SafeHtmlImpl.prototype.getTypeName = function () { return 'HTML'; };
        return SafeHtmlImpl;
    }(SafeValueImpl));
    var SafeStyleImpl = (function (_super) {
        __extends$34(SafeStyleImpl, _super);
        function SafeStyleImpl() {
            _super.apply(this, arguments);
        }
        SafeStyleImpl.prototype.getTypeName = function () { return 'Style'; };
        return SafeStyleImpl;
    }(SafeValueImpl));
    var SafeScriptImpl = (function (_super) {
        __extends$34(SafeScriptImpl, _super);
        function SafeScriptImpl() {
            _super.apply(this, arguments);
        }
        SafeScriptImpl.prototype.getTypeName = function () { return 'Script'; };
        return SafeScriptImpl;
    }(SafeValueImpl));
    var SafeUrlImpl = (function (_super) {
        __extends$34(SafeUrlImpl, _super);
        function SafeUrlImpl() {
            _super.apply(this, arguments);
        }
        SafeUrlImpl.prototype.getTypeName = function () { return 'URL'; };
        return SafeUrlImpl;
    }(SafeValueImpl));
    var SafeResourceUrlImpl = (function (_super) {
        __extends$34(SafeResourceUrlImpl, _super);
        function SafeResourceUrlImpl() {
            _super.apply(this, arguments);
        }
        SafeResourceUrlImpl.prototype.getTypeName = function () { return 'ResourceURL'; };
        return SafeResourceUrlImpl;
    }(SafeValueImpl));
    var INTERNAL_BROWSER_PLATFORM_PROVIDERS = [
        { provide: PLATFORM_INITIALIZER, useValue: initDomAdapter, multi: true },
        { provide: PlatformLocation, useClass: BrowserPlatformLocation }
    ];
    var BROWSER_SANITIZATION_PROVIDERS = [
        { provide: Sanitizer, useExisting: DomSanitizer },
        { provide: DomSanitizer, useClass: DomSanitizerImpl },
    ];
    var platformBrowser = createPlatformFactory(platformCore, 'browser', INTERNAL_BROWSER_PLATFORM_PROVIDERS);
    function initDomAdapter() {
        BrowserDomAdapter.makeCurrent();
        BrowserGetTestability.init();
    }
    function errorHandler() {
        return new ErrorHandler();
    }
    function _document() {
        return getDOM().defaultDoc();
    }
    function _resolveDefaultAnimationDriver() {
        if (getDOM().supportsWebAnimation()) {
            return new WebAnimationsDriver();
        }
        return AnimationDriver.NOOP;
    }
    var BrowserModule = (function () {
        function BrowserModule(parentModule) {
            if (parentModule) {
                throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.");
            }
        }
        BrowserModule.decorators = [
            { type: NgModule, args: [{
                        providers: [
                            BROWSER_SANITIZATION_PROVIDERS, { provide: ErrorHandler, useFactory: errorHandler, deps: [] },
                            { provide: DOCUMENT, useFactory: _document, deps: [] },
                            { provide: EVENT_MANAGER_PLUGINS, useClass: DomEventsPlugin, multi: true },
                            { provide: EVENT_MANAGER_PLUGINS, useClass: KeyEventsPlugin, multi: true },
                            { provide: EVENT_MANAGER_PLUGINS, useClass: HammerGesturesPlugin, multi: true },
                            { provide: HAMMER_GESTURE_CONFIG, useClass: HammerGestureConfig },
                            { provide: DomRootRenderer, useClass: DomRootRenderer_ },
                            { provide: RootRenderer, useExisting: DomRootRenderer },
                            { provide: SharedStylesHost, useExisting: DomSharedStylesHost },
                            { provide: AnimationDriver, useFactory: _resolveDefaultAnimationDriver }, DomSharedStylesHost,
                            Testability, EventManager, ELEMENT_PROBE_PROVIDERS, Title
                        ],
                        exports: [CommonModule, ApplicationModule]
                    },] },
        ];
        BrowserModule.ctorParameters = function () {
            return [
                { type: BrowserModule, decorators: [{ type: Optional }, { type: SkipSelf },] },
            ];
        };
        return BrowserModule;
    }());
    var __platform_browser_private__ = {
        BrowserPlatformLocation: BrowserPlatformLocation,
        DomAdapter: DomAdapter,
        BrowserDomAdapter: BrowserDomAdapter,
        BrowserGetTestability: BrowserGetTestability,
        getDOM: getDOM,
        setRootDomAdapter: setRootDomAdapter,
        DomRootRenderer_: DomRootRenderer_,
        DomRootRenderer: DomRootRenderer,
        NAMESPACE_URIS: NAMESPACE_URIS,
        shimContentAttribute: shimContentAttribute,
        shimHostAttribute: shimHostAttribute,
        flattenStyles: flattenStyles$1,
        splitNamespace: splitNamespace,
        isNamespaced: isNamespaced,
        DomSharedStylesHost: DomSharedStylesHost,
        SharedStylesHost: SharedStylesHost,
        ELEMENT_PROBE_PROVIDERS: ELEMENT_PROBE_PROVIDERS,
        DomEventsPlugin: DomEventsPlugin,
        KeyEventsPlugin: KeyEventsPlugin,
        HammerGesturesPlugin: HammerGesturesPlugin,
        initDomAdapter: initDomAdapter,
        INTERNAL_BROWSER_PLATFORM_PROVIDERS: INTERNAL_BROWSER_PLATFORM_PROVIDERS,
        BROWSER_SANITIZATION_PROVIDERS: BROWSER_SANITIZATION_PROVIDERS,
        WebAnimationsDriver: WebAnimationsDriver
    };
    var VERSION$2 = new Version('2.4.3');
    var AbstractControlDirective = (function () {
        function AbstractControlDirective() {
        }
        Object.defineProperty(AbstractControlDirective.prototype, "control", {
            get: function () { throw new Error('unimplemented'); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "value", {
            get: function () { return this.control ? this.control.value : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "valid", {
            get: function () { return this.control ? this.control.valid : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "invalid", {
            get: function () { return this.control ? this.control.invalid : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "pending", {
            get: function () { return this.control ? this.control.pending : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "errors", {
            get: function () { return this.control ? this.control.errors : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "pristine", {
            get: function () { return this.control ? this.control.pristine : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "dirty", {
            get: function () { return this.control ? this.control.dirty : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "touched", {
            get: function () { return this.control ? this.control.touched : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "untouched", {
            get: function () { return this.control ? this.control.untouched : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "disabled", {
            get: function () { return this.control ? this.control.disabled : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "enabled", {
            get: function () { return this.control ? this.control.enabled : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "statusChanges", {
            get: function () { return this.control ? this.control.statusChanges : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "valueChanges", {
            get: function () { return this.control ? this.control.valueChanges : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlDirective.prototype, "path", {
            get: function () { return null; },
            enumerable: true,
            configurable: true
        });
        AbstractControlDirective.prototype.reset = function (value) {
            if (value === void 0) {
                value = undefined;
            }
            if (this.control)
                this.control.reset(value);
        };
        AbstractControlDirective.prototype.hasError = function (errorCode, path) {
            if (path === void 0) {
                path = null;
            }
            return this.control ? this.control.hasError(errorCode, path) : false;
        };
        AbstractControlDirective.prototype.getError = function (errorCode, path) {
            if (path === void 0) {
                path = null;
            }
            return this.control ? this.control.getError(errorCode, path) : null;
        };
        return AbstractControlDirective;
    }());
    var __extends$37 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var ControlContainer = (function (_super) {
        __extends$37(ControlContainer, _super);
        function ControlContainer() {
            _super.apply(this, arguments);
        }
        Object.defineProperty(ControlContainer.prototype, "formDirective", {
            get: function () { return null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ControlContainer.prototype, "path", {
            get: function () { return null; },
            enumerable: true,
            configurable: true
        });
        return ControlContainer;
    }(AbstractControlDirective));
    var globalScope$3;
    if (typeof window === 'undefined') {
        if (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope) {
            globalScope$3 = (self);
        }
        else {
            globalScope$3 = (global);
        }
    }
    else {
        globalScope$3 = (window);
    }
    var _global$3 = globalScope$3;
    _global$3.assert = function assert(condition) {
    };
    function isPresent$3(obj) {
        return obj != null;
    }
    function isBlank$4(obj) {
        return obj == null;
    }
    function looseIdentical$3(a, b) {
        return a === b || typeof a === 'number' && typeof b === 'number' && isNaN(a) && isNaN(b);
    }
    function isJsObject$3(o) {
        return o !== null && (typeof o === 'function' || typeof o === 'object');
    }
    function isPrimitive$3(obj) {
        return !isJsObject$3(obj);
    }
    var root_1$4 = root;
    function toPromise(PromiseCtor) {
        var _this = this;
        if (!PromiseCtor) {
            if (root_1$4.root.Rx && root_1$4.root.Rx.config && root_1$4.root.Rx.config.Promise) {
                PromiseCtor = root_1$4.root.Rx.config.Promise;
            }
            else if (root_1$4.root.Promise) {
                PromiseCtor = root_1$4.root.Promise;
            }
        }
        if (!PromiseCtor) {
            throw new Error('no Promise impl found');
        }
        return new PromiseCtor(function (resolve, reject) {
            var value;
            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });
        });
    }
    var toPromise_2 = toPromise;
    var toPromise_1 = {
        toPromise: toPromise_2
    };
    var StringMapWrapper$3 = (function () {
        function StringMapWrapper() {
        }
        StringMapWrapper.merge = function (m1, m2) {
            var m = {};
            for (var _i = 0, _a = Object.keys(m1); _i < _a.length; _i++) {
                var k = _a[_i];
                m[k] = m1[k];
            }
            for (var _b = 0, _c = Object.keys(m2); _b < _c.length; _b++) {
                var k = _c[_b];
                m[k] = m2[k];
            }
            return m;
        };
        StringMapWrapper.equals = function (m1, m2) {
            var k1 = Object.keys(m1);
            var k2 = Object.keys(m2);
            if (k1.length != k2.length) {
                return false;
            }
            for (var i = 0; i < k1.length; i++) {
                var key = k1[i];
                if (m1[key] !== m2[key]) {
                    return false;
                }
            }
            return true;
        };
        return StringMapWrapper;
    }());
    var ListWrapper$3 = (function () {
        function ListWrapper() {
        }
        ListWrapper.findLast = function (arr, condition) {
            for (var i = arr.length - 1; i >= 0; i--) {
                if (condition(arr[i])) {
                    return arr[i];
                }
            }
            return null;
        };
        ListWrapper.removeAll = function (list, items) {
            for (var i = 0; i < items.length; ++i) {
                var index = list.indexOf(items[i]);
                if (index > -1) {
                    list.splice(index, 1);
                }
            }
        };
        ListWrapper.remove = function (list, el) {
            var index = list.indexOf(el);
            if (index > -1) {
                list.splice(index, 1);
                return true;
            }
            return false;
        };
        ListWrapper.equals = function (a, b) {
            if (a.length != b.length)
                return false;
            for (var i = 0; i < a.length; ++i) {
                if (a[i] !== b[i])
                    return false;
            }
            return true;
        };
        ListWrapper.flatten = function (list) {
            return list.reduce(function (flat, item) {
                var flatItem = Array.isArray(item) ? ListWrapper.flatten(item) : item;
                return ((flat)).concat(flatItem);
            }, []);
        };
        return ListWrapper;
    }());
    var isPromise$2 = __core_private__.isPromise;
    function isEmptyInputValue(value) {
        return value == null || value.length === 0;
    }
    var NG_VALIDATORS = new OpaqueToken('NgValidators');
    var NG_ASYNC_VALIDATORS = new OpaqueToken('NgAsyncValidators');
    var Validators = (function () {
        function Validators() {
        }
        Validators.required = function (control) {
            return isEmptyInputValue(control.value) ? { 'required': true } : null;
        };
        Validators.requiredTrue = function (control) {
            return control.value === true ? null : { 'required': true };
        };
        Validators.minLength = function (minLength) {
            return function (control) {
                if (isEmptyInputValue(control.value)) {
                    return null;
                }
                var length = control.value ? control.value.length : 0;
                return length < minLength ?
                    { 'minlength': { 'requiredLength': minLength, 'actualLength': length } } :
                    null;
            };
        };
        Validators.maxLength = function (maxLength) {
            return function (control) {
                var length = control.value ? control.value.length : 0;
                return length > maxLength ?
                    { 'maxlength': { 'requiredLength': maxLength, 'actualLength': length } } :
                    null;
            };
        };
        Validators.pattern = function (pattern) {
            if (!pattern)
                return Validators.nullValidator;
            var regex;
            var regexStr;
            if (typeof pattern === 'string') {
                regexStr = "^" + pattern + "$";
                regex = new RegExp(regexStr);
            }
            else {
                regexStr = pattern.toString();
                regex = pattern;
            }
            return function (control) {
                if (isEmptyInputValue(control.value)) {
                    return null;
                }
                var value = control.value;
                return regex.test(value) ? null :
                    { 'pattern': { 'requiredPattern': regexStr, 'actualValue': value } };
            };
        };
        Validators.nullValidator = function (c) { return null; };
        Validators.compose = function (validators) {
            if (!validators)
                return null;
            var presentValidators = validators.filter(isPresent$3);
            if (presentValidators.length == 0)
                return null;
            return function (control) {
                return _mergeErrors(_executeValidators(control, presentValidators));
            };
        };
        Validators.composeAsync = function (validators) {
            if (!validators)
                return null;
            var presentValidators = validators.filter(isPresent$3);
            if (presentValidators.length == 0)
                return null;
            return function (control) {
                var promises = _executeAsyncValidators(control, presentValidators).map(_convertToPromise);
                return Promise.all(promises).then(_mergeErrors);
            };
        };
        return Validators;
    }());
    function _convertToPromise(obj) {
        return isPromise$2(obj) ? obj : toPromise_2.call(obj);
    }
    function _executeValidators(control, validators) {
        return validators.map(function (v) { return v(control); });
    }
    function _executeAsyncValidators(control, validators) {
        return validators.map(function (v) { return v(control); });
    }
    function _mergeErrors(arrayOfErrors) {
        var res = arrayOfErrors.reduce(function (res, errors) {
            return isPresent$3(errors) ? StringMapWrapper$3.merge(res, errors) : res;
        }, {});
        return Object.keys(res).length === 0 ? null : res;
    }
    var NG_VALUE_ACCESSOR = new OpaqueToken('NgValueAccessor');
    var CHECKBOX_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return CheckboxControlValueAccessor; }),
        multi: true,
    };
    var CheckboxControlValueAccessor = (function () {
        function CheckboxControlValueAccessor(_renderer, _elementRef) {
            this._renderer = _renderer;
            this._elementRef = _elementRef;
            this.onChange = function (_) { };
            this.onTouched = function () { };
        }
        CheckboxControlValueAccessor.prototype.writeValue = function (value) {
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'checked', value);
        };
        CheckboxControlValueAccessor.prototype.registerOnChange = function (fn) { this.onChange = fn; };
        CheckboxControlValueAccessor.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
        CheckboxControlValueAccessor.prototype.setDisabledState = function (isDisabled) {
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'disabled', isDisabled);
        };
        CheckboxControlValueAccessor.decorators = [
            { type: Directive, args: [{
                        selector: 'input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]',
                        host: { '(change)': 'onChange($event.target.checked)', '(blur)': 'onTouched()' },
                        providers: [CHECKBOX_VALUE_ACCESSOR]
                    },] },
        ];
        CheckboxControlValueAccessor.ctorParameters = function () {
            return [
                { type: Renderer, },
                { type: ElementRef, },
            ];
        };
        return CheckboxControlValueAccessor;
    }());
    var DEFAULT_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return DefaultValueAccessor; }),
        multi: true
    };
    var DefaultValueAccessor = (function () {
        function DefaultValueAccessor(_renderer, _elementRef) {
            this._renderer = _renderer;
            this._elementRef = _elementRef;
            this.onChange = function (_) { };
            this.onTouched = function () { };
        }
        DefaultValueAccessor.prototype.writeValue = function (value) {
            var normalizedValue = value == null ? '' : value;
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'value', normalizedValue);
        };
        DefaultValueAccessor.prototype.registerOnChange = function (fn) { this.onChange = fn; };
        DefaultValueAccessor.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
        DefaultValueAccessor.prototype.setDisabledState = function (isDisabled) {
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'disabled', isDisabled);
        };
        DefaultValueAccessor.decorators = [
            { type: Directive, args: [{
                        selector: 'input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]',
                        host: { '(input)': 'onChange($event.target.value)', '(blur)': 'onTouched()' },
                        providers: [DEFAULT_VALUE_ACCESSOR]
                    },] },
        ];
        DefaultValueAccessor.ctorParameters = function () {
            return [
                { type: Renderer, },
                { type: ElementRef, },
            ];
        };
        return DefaultValueAccessor;
    }());
    function normalizeValidator(validator) {
        if (((validator)).validate) {
            return function (c) { return ((validator)).validate(c); };
        }
        else {
            return (validator);
        }
    }
    function normalizeAsyncValidator(validator) {
        if (((validator)).validate) {
            return function (c) { return ((validator)).validate(c); };
        }
        else {
            return (validator);
        }
    }
    var NUMBER_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return NumberValueAccessor; }),
        multi: true
    };
    var NumberValueAccessor = (function () {
        function NumberValueAccessor(_renderer, _elementRef) {
            this._renderer = _renderer;
            this._elementRef = _elementRef;
            this.onChange = function (_) { };
            this.onTouched = function () { };
        }
        NumberValueAccessor.prototype.writeValue = function (value) {
            var normalizedValue = value == null ? '' : value;
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'value', normalizedValue);
        };
        NumberValueAccessor.prototype.registerOnChange = function (fn) {
            this.onChange = function (value) { fn(value == '' ? null : parseFloat(value)); };
        };
        NumberValueAccessor.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
        NumberValueAccessor.prototype.setDisabledState = function (isDisabled) {
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'disabled', isDisabled);
        };
        NumberValueAccessor.decorators = [
            { type: Directive, args: [{
                        selector: 'input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]',
                        host: {
                            '(change)': 'onChange($event.target.value)',
                            '(input)': 'onChange($event.target.value)',
                            '(blur)': 'onTouched()'
                        },
                        providers: [NUMBER_VALUE_ACCESSOR]
                    },] },
        ];
        NumberValueAccessor.ctorParameters = function () {
            return [
                { type: Renderer, },
                { type: ElementRef, },
            ];
        };
        return NumberValueAccessor;
    }());
    var __extends$38 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    function unimplemented$2() {
        throw new Error('unimplemented');
    }
    var NgControl = (function (_super) {
        __extends$38(NgControl, _super);
        function NgControl() {
            _super.apply(this, arguments);
            this._parent = null;
            this.name = null;
            this.valueAccessor = null;
            this._rawValidators = [];
            this._rawAsyncValidators = [];
        }
        Object.defineProperty(NgControl.prototype, "validator", {
            get: function () { return (unimplemented$2()); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgControl.prototype, "asyncValidator", {
            get: function () { return (unimplemented$2()); },
            enumerable: true,
            configurable: true
        });
        NgControl.prototype.viewToModelUpdate = function (newValue) { };
        return NgControl;
    }(AbstractControlDirective));
    var RADIO_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return RadioControlValueAccessor; }),
        multi: true
    };
    var RadioControlRegistry = (function () {
        function RadioControlRegistry() {
            this._accessors = [];
        }
        RadioControlRegistry.prototype.add = function (control, accessor) {
            this._accessors.push([control, accessor]);
        };
        RadioControlRegistry.prototype.remove = function (accessor) {
            for (var i = this._accessors.length - 1; i >= 0; --i) {
                if (this._accessors[i][1] === accessor) {
                    this._accessors.splice(i, 1);
                    return;
                }
            }
        };
        RadioControlRegistry.prototype.select = function (accessor) {
            var _this = this;
            this._accessors.forEach(function (c) {
                if (_this._isSameGroup(c, accessor) && c[1] !== accessor) {
                    c[1].fireUncheck(accessor.value);
                }
            });
        };
        RadioControlRegistry.prototype._isSameGroup = function (controlPair, accessor) {
            if (!controlPair[0].control)
                return false;
            return controlPair[0]._parent === accessor._control._parent &&
                controlPair[1].name === accessor.name;
        };
        RadioControlRegistry.decorators = [
            { type: Injectable },
        ];
        RadioControlRegistry.ctorParameters = function () { return []; };
        return RadioControlRegistry;
    }());
    var RadioControlValueAccessor = (function () {
        function RadioControlValueAccessor(_renderer, _elementRef, _registry, _injector) {
            this._renderer = _renderer;
            this._elementRef = _elementRef;
            this._registry = _registry;
            this._injector = _injector;
            this.onChange = function () { };
            this.onTouched = function () { };
        }
        RadioControlValueAccessor.prototype.ngOnInit = function () {
            this._control = this._injector.get(NgControl);
            this._checkName();
            this._registry.add(this._control, this);
        };
        RadioControlValueAccessor.prototype.ngOnDestroy = function () { this._registry.remove(this); };
        RadioControlValueAccessor.prototype.writeValue = function (value) {
            this._state = value === this.value;
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'checked', this._state);
        };
        RadioControlValueAccessor.prototype.registerOnChange = function (fn) {
            var _this = this;
            this._fn = fn;
            this.onChange = function () {
                fn(_this.value);
                _this._registry.select(_this);
            };
        };
        RadioControlValueAccessor.prototype.fireUncheck = function (value) { this.writeValue(value); };
        RadioControlValueAccessor.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
        RadioControlValueAccessor.prototype.setDisabledState = function (isDisabled) {
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'disabled', isDisabled);
        };
        RadioControlValueAccessor.prototype._checkName = function () {
            if (this.name && this.formControlName && this.name !== this.formControlName) {
                this._throwNameError();
            }
            if (!this.name && this.formControlName)
                this.name = this.formControlName;
        };
        RadioControlValueAccessor.prototype._throwNameError = function () {
            throw new Error("\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type=\"radio\" formControlName=\"food\" name=\"food\">\n    ");
        };
        RadioControlValueAccessor.decorators = [
            { type: Directive, args: [{
                        selector: 'input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]',
                        host: { '(change)': 'onChange()', '(blur)': 'onTouched()' },
                        providers: [RADIO_VALUE_ACCESSOR]
                    },] },
        ];
        RadioControlValueAccessor.ctorParameters = function () {
            return [
                { type: Renderer, },
                { type: ElementRef, },
                { type: RadioControlRegistry, },
                { type: Injector, },
            ];
        };
        RadioControlValueAccessor.propDecorators = {
            'name': [{ type: Input },],
            'formControlName': [{ type: Input },],
            'value': [{ type: Input },],
        };
        return RadioControlValueAccessor;
    }());
    var RANGE_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return RangeValueAccessor; }),
        multi: true
    };
    var RangeValueAccessor = (function () {
        function RangeValueAccessor(_renderer, _elementRef) {
            this._renderer = _renderer;
            this._elementRef = _elementRef;
            this.onChange = function (_) { };
            this.onTouched = function () { };
        }
        RangeValueAccessor.prototype.writeValue = function (value) {
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'value', parseFloat(value));
        };
        RangeValueAccessor.prototype.registerOnChange = function (fn) {
            this.onChange = function (value) { fn(value == '' ? null : parseFloat(value)); };
        };
        RangeValueAccessor.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
        RangeValueAccessor.prototype.setDisabledState = function (isDisabled) {
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'disabled', isDisabled);
        };
        RangeValueAccessor.decorators = [
            { type: Directive, args: [{
                        selector: 'input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]',
                        host: {
                            '(change)': 'onChange($event.target.value)',
                            '(input)': 'onChange($event.target.value)',
                            '(blur)': 'onTouched()'
                        },
                        providers: [RANGE_VALUE_ACCESSOR]
                    },] },
        ];
        RangeValueAccessor.ctorParameters = function () {
            return [
                { type: Renderer, },
                { type: ElementRef, },
            ];
        };
        return RangeValueAccessor;
    }());
    var SELECT_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return SelectControlValueAccessor; }),
        multi: true
    };
    function _buildValueString(id, value) {
        if (id == null)
            return "" + value;
        if (!isPrimitive$3(value))
            value = 'Object';
        return (id + ": " + value).slice(0, 50);
    }
    function _extractId(valueString) {
        return valueString.split(':')[0];
    }
    var SelectControlValueAccessor = (function () {
        function SelectControlValueAccessor(_renderer, _elementRef) {
            this._renderer = _renderer;
            this._elementRef = _elementRef;
            this._optionMap = new Map();
            this._idCounter = 0;
            this.onChange = function (_) { };
            this.onTouched = function () { };
        }
        SelectControlValueAccessor.prototype.writeValue = function (value) {
            this.value = value;
            var valueString = _buildValueString(this._getOptionId(value), value);
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'value', valueString);
        };
        SelectControlValueAccessor.prototype.registerOnChange = function (fn) {
            var _this = this;
            this.onChange = function (valueString) {
                _this.value = valueString;
                fn(_this._getOptionValue(valueString));
            };
        };
        SelectControlValueAccessor.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
        SelectControlValueAccessor.prototype.setDisabledState = function (isDisabled) {
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'disabled', isDisabled);
        };
        SelectControlValueAccessor.prototype._registerOption = function () { return (this._idCounter++).toString(); };
        SelectControlValueAccessor.prototype._getOptionId = function (value) {
            for (var _i = 0, _a = Array.from(this._optionMap.keys()); _i < _a.length; _i++) {
                var id = _a[_i];
                if (looseIdentical$3(this._optionMap.get(id), value))
                    return id;
            }
            return null;
        };
        SelectControlValueAccessor.prototype._getOptionValue = function (valueString) {
            var id = _extractId(valueString);
            return this._optionMap.has(id) ? this._optionMap.get(id) : valueString;
        };
        SelectControlValueAccessor.decorators = [
            { type: Directive, args: [{
                        selector: 'select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]',
                        host: { '(change)': 'onChange($event.target.value)', '(blur)': 'onTouched()' },
                        providers: [SELECT_VALUE_ACCESSOR]
                    },] },
        ];
        SelectControlValueAccessor.ctorParameters = function () {
            return [
                { type: Renderer, },
                { type: ElementRef, },
            ];
        };
        return SelectControlValueAccessor;
    }());
    var NgSelectOption = (function () {
        function NgSelectOption(_element, _renderer, _select) {
            this._element = _element;
            this._renderer = _renderer;
            this._select = _select;
            if (this._select)
                this.id = this._select._registerOption();
        }
        Object.defineProperty(NgSelectOption.prototype, "ngValue", {
            set: function (value) {
                if (this._select == null)
                    return;
                this._select._optionMap.set(this.id, value);
                this._setElementValue(_buildValueString(this.id, value));
                this._select.writeValue(this._select.value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgSelectOption.prototype, "value", {
            set: function (value) {
                this._setElementValue(value);
                if (this._select)
                    this._select.writeValue(this._select.value);
            },
            enumerable: true,
            configurable: true
        });
        NgSelectOption.prototype._setElementValue = function (value) {
            this._renderer.setElementProperty(this._element.nativeElement, 'value', value);
        };
        NgSelectOption.prototype.ngOnDestroy = function () {
            if (this._select) {
                this._select._optionMap.delete(this.id);
                this._select.writeValue(this._select.value);
            }
        };
        NgSelectOption.decorators = [
            { type: Directive, args: [{ selector: 'option' },] },
        ];
        NgSelectOption.ctorParameters = function () {
            return [
                { type: ElementRef, },
                { type: Renderer, },
                { type: SelectControlValueAccessor, decorators: [{ type: Optional }, { type: Host },] },
            ];
        };
        NgSelectOption.propDecorators = {
            'ngValue': [{ type: Input, args: ['ngValue',] },],
            'value': [{ type: Input, args: ['value',] },],
        };
        return NgSelectOption;
    }());
    var SELECT_MULTIPLE_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return SelectMultipleControlValueAccessor; }),
        multi: true
    };
    function _buildValueString$1(id, value) {
        if (id == null)
            return "" + value;
        if (typeof value === 'string')
            value = "'" + value + "'";
        if (!isPrimitive$3(value))
            value = 'Object';
        return (id + ": " + value).slice(0, 50);
    }
    function _extractId$1(valueString) {
        return valueString.split(':')[0];
    }
    var SelectMultipleControlValueAccessor = (function () {
        function SelectMultipleControlValueAccessor(_renderer, _elementRef) {
            this._renderer = _renderer;
            this._elementRef = _elementRef;
            this._optionMap = new Map();
            this._idCounter = 0;
            this.onChange = function (_) { };
            this.onTouched = function () { };
        }
        SelectMultipleControlValueAccessor.prototype.writeValue = function (value) {
            var _this = this;
            this.value = value;
            var optionSelectedStateSetter;
            if (Array.isArray(value)) {
                var ids_1 = value.map(function (v) { return _this._getOptionId(v); });
                optionSelectedStateSetter = function (opt, o) { opt._setSelected(ids_1.indexOf(o.toString()) > -1); };
            }
            else {
                optionSelectedStateSetter = function (opt, o) { opt._setSelected(false); };
            }
            this._optionMap.forEach(optionSelectedStateSetter);
        };
        SelectMultipleControlValueAccessor.prototype.registerOnChange = function (fn) {
            var _this = this;
            this.onChange = function (_) {
                var selected = [];
                if (_.hasOwnProperty('selectedOptions')) {
                    var options = _.selectedOptions;
                    for (var i = 0; i < options.length; i++) {
                        var opt = options.item(i);
                        var val = _this._getOptionValue(opt.value);
                        selected.push(val);
                    }
                }
                else {
                    var options = (_.options);
                    for (var i = 0; i < options.length; i++) {
                        var opt = options.item(i);
                        if (opt.selected) {
                            var val = _this._getOptionValue(opt.value);
                            selected.push(val);
                        }
                    }
                }
                _this.value = selected;
                fn(selected);
            };
        };
        SelectMultipleControlValueAccessor.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
        SelectMultipleControlValueAccessor.prototype.setDisabledState = function (isDisabled) {
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'disabled', isDisabled);
        };
        SelectMultipleControlValueAccessor.prototype._registerOption = function (value) {
            var id = (this._idCounter++).toString();
            this._optionMap.set(id, value);
            return id;
        };
        SelectMultipleControlValueAccessor.prototype._getOptionId = function (value) {
            for (var _i = 0, _a = Array.from(this._optionMap.keys()); _i < _a.length; _i++) {
                var id = _a[_i];
                if (looseIdentical$3(this._optionMap.get(id)._value, value))
                    return id;
            }
            return null;
        };
        SelectMultipleControlValueAccessor.prototype._getOptionValue = function (valueString) {
            var id = _extractId$1(valueString);
            return this._optionMap.has(id) ? this._optionMap.get(id)._value : valueString;
        };
        SelectMultipleControlValueAccessor.decorators = [
            { type: Directive, args: [{
                        selector: 'select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]',
                        host: { '(change)': 'onChange($event.target)', '(blur)': 'onTouched()' },
                        providers: [SELECT_MULTIPLE_VALUE_ACCESSOR]
                    },] },
        ];
        SelectMultipleControlValueAccessor.ctorParameters = function () {
            return [
                { type: Renderer, },
                { type: ElementRef, },
            ];
        };
        return SelectMultipleControlValueAccessor;
    }());
    var NgSelectMultipleOption = (function () {
        function NgSelectMultipleOption(_element, _renderer, _select) {
            this._element = _element;
            this._renderer = _renderer;
            this._select = _select;
            if (this._select) {
                this.id = this._select._registerOption(this);
            }
        }
        Object.defineProperty(NgSelectMultipleOption.prototype, "ngValue", {
            set: function (value) {
                if (this._select == null)
                    return;
                this._value = value;
                this._setElementValue(_buildValueString$1(this.id, value));
                this._select.writeValue(this._select.value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgSelectMultipleOption.prototype, "value", {
            set: function (value) {
                if (this._select) {
                    this._value = value;
                    this._setElementValue(_buildValueString$1(this.id, value));
                    this._select.writeValue(this._select.value);
                }
                else {
                    this._setElementValue(value);
                }
            },
            enumerable: true,
            configurable: true
        });
        NgSelectMultipleOption.prototype._setElementValue = function (value) {
            this._renderer.setElementProperty(this._element.nativeElement, 'value', value);
        };
        NgSelectMultipleOption.prototype._setSelected = function (selected) {
            this._renderer.setElementProperty(this._element.nativeElement, 'selected', selected);
        };
        NgSelectMultipleOption.prototype.ngOnDestroy = function () {
            if (this._select) {
                this._select._optionMap.delete(this.id);
                this._select.writeValue(this._select.value);
            }
        };
        NgSelectMultipleOption.decorators = [
            { type: Directive, args: [{ selector: 'option' },] },
        ];
        NgSelectMultipleOption.ctorParameters = function () {
            return [
                { type: ElementRef, },
                { type: Renderer, },
                { type: SelectMultipleControlValueAccessor, decorators: [{ type: Optional }, { type: Host },] },
            ];
        };
        NgSelectMultipleOption.propDecorators = {
            'ngValue': [{ type: Input, args: ['ngValue',] },],
            'value': [{ type: Input, args: ['value',] },],
        };
        return NgSelectMultipleOption;
    }());
    function controlPath(name, parent) {
        return parent.path.concat([name]);
    }
    function setUpControl(control, dir) {
        if (!control)
            _throwError$1(dir, 'Cannot find control with');
        if (!dir.valueAccessor)
            _throwError$1(dir, 'No value accessor for form control with');
        control.validator = Validators.compose([control.validator, dir.validator]);
        control.asyncValidator = Validators.composeAsync([control.asyncValidator, dir.asyncValidator]);
        dir.valueAccessor.writeValue(control.value);
        dir.valueAccessor.registerOnChange(function (newValue) {
            dir.viewToModelUpdate(newValue);
            control.markAsDirty();
            control.setValue(newValue, { emitModelToViewChange: false });
        });
        dir.valueAccessor.registerOnTouched(function () { return control.markAsTouched(); });
        control.registerOnChange(function (newValue, emitModelEvent) {
            dir.valueAccessor.writeValue(newValue);
            if (emitModelEvent)
                dir.viewToModelUpdate(newValue);
        });
        if (dir.valueAccessor.setDisabledState) {
            control.registerOnDisabledChange(function (isDisabled) { dir.valueAccessor.setDisabledState(isDisabled); });
        }
        dir._rawValidators.forEach(function (validator) {
            if (((validator)).registerOnValidatorChange)
                ((validator)).registerOnValidatorChange(function () { return control.updateValueAndValidity(); });
        });
        dir._rawAsyncValidators.forEach(function (validator) {
            if (((validator)).registerOnValidatorChange)
                ((validator)).registerOnValidatorChange(function () { return control.updateValueAndValidity(); });
        });
    }
    function cleanUpControl(control, dir) {
        dir.valueAccessor.registerOnChange(function () { return _noControlError(dir); });
        dir.valueAccessor.registerOnTouched(function () { return _noControlError(dir); });
        dir._rawValidators.forEach(function (validator) {
            if (validator.registerOnValidatorChange) {
                validator.registerOnValidatorChange(null);
            }
        });
        dir._rawAsyncValidators.forEach(function (validator) {
            if (validator.registerOnValidatorChange) {
                validator.registerOnValidatorChange(null);
            }
        });
        if (control)
            control._clearChangeFns();
    }
    function setUpFormContainer(control, dir) {
        if (isBlank$4(control))
            _throwError$1(dir, 'Cannot find control with');
        control.validator = Validators.compose([control.validator, dir.validator]);
        control.asyncValidator = Validators.composeAsync([control.asyncValidator, dir.asyncValidator]);
    }
    function _noControlError(dir) {
        return _throwError$1(dir, 'There is no FormControl instance attached to form control element with');
    }
    function _throwError$1(dir, message) {
        var messageEnd;
        if (dir.path.length > 1) {
            messageEnd = "path: '" + dir.path.join(' -> ') + "'";
        }
        else if (dir.path[0]) {
            messageEnd = "name: '" + dir.path + "'";
        }
        else {
            messageEnd = 'unspecified name attribute';
        }
        throw new Error(message + " " + messageEnd);
    }
    function composeValidators(validators) {
        return isPresent$3(validators) ? Validators.compose(validators.map(normalizeValidator)) : null;
    }
    function composeAsyncValidators(validators) {
        return isPresent$3(validators) ? Validators.composeAsync(validators.map(normalizeAsyncValidator)) :
            null;
    }
    function isPropertyUpdated(changes, viewModel) {
        if (!changes.hasOwnProperty('model'))
            return false;
        var change = changes['model'];
        if (change.isFirstChange())
            return true;
        return !looseIdentical$3(viewModel, change.currentValue);
    }
    var BUILTIN_ACCESSORS = [
        CheckboxControlValueAccessor,
        RangeValueAccessor,
        NumberValueAccessor,
        SelectControlValueAccessor,
        SelectMultipleControlValueAccessor,
        RadioControlValueAccessor,
    ];
    function isBuiltInAccessor(valueAccessor) {
        return BUILTIN_ACCESSORS.some(function (a) { return valueAccessor.constructor === a; });
    }
    function selectValueAccessor(dir, valueAccessors) {
        if (!valueAccessors)
            return null;
        var defaultAccessor;
        var builtinAccessor;
        var customAccessor;
        valueAccessors.forEach(function (v) {
            if (v.constructor === DefaultValueAccessor) {
                defaultAccessor = v;
            }
            else if (isBuiltInAccessor(v)) {
                if (builtinAccessor)
                    _throwError$1(dir, 'More than one built-in value accessor matches form control with');
                builtinAccessor = v;
            }
            else {
                if (customAccessor)
                    _throwError$1(dir, 'More than one custom value accessor matches form control with');
                customAccessor = v;
            }
        });
        if (customAccessor)
            return customAccessor;
        if (builtinAccessor)
            return builtinAccessor;
        if (defaultAccessor)
            return defaultAccessor;
        _throwError$1(dir, 'No valid value accessor for form control with');
        return null;
    }
    var __extends$36 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var AbstractFormGroupDirective = (function (_super) {
        __extends$36(AbstractFormGroupDirective, _super);
        function AbstractFormGroupDirective() {
            _super.apply(this, arguments);
        }
        AbstractFormGroupDirective.prototype.ngOnInit = function () {
            this._checkParentType();
            this.formDirective.addFormGroup(this);
        };
        AbstractFormGroupDirective.prototype.ngOnDestroy = function () {
            if (this.formDirective) {
                this.formDirective.removeFormGroup(this);
            }
        };
        Object.defineProperty(AbstractFormGroupDirective.prototype, "control", {
            get: function () { return this.formDirective.getFormGroup(this); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractFormGroupDirective.prototype, "path", {
            get: function () { return controlPath(this.name, this._parent); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractFormGroupDirective.prototype, "formDirective", {
            get: function () { return this._parent ? this._parent.formDirective : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractFormGroupDirective.prototype, "validator", {
            get: function () { return composeValidators(this._validators); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractFormGroupDirective.prototype, "asyncValidator", {
            get: function () { return composeAsyncValidators(this._asyncValidators); },
            enumerable: true,
            configurable: true
        });
        AbstractFormGroupDirective.prototype._checkParentType = function () { };
        return AbstractFormGroupDirective;
    }(ControlContainer));
    var __extends$39 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var AbstractControlStatus = (function () {
        function AbstractControlStatus(cd) {
            this._cd = cd;
        }
        Object.defineProperty(AbstractControlStatus.prototype, "ngClassUntouched", {
            get: function () { return this._cd.control ? this._cd.control.untouched : false; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlStatus.prototype, "ngClassTouched", {
            get: function () { return this._cd.control ? this._cd.control.touched : false; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlStatus.prototype, "ngClassPristine", {
            get: function () { return this._cd.control ? this._cd.control.pristine : false; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlStatus.prototype, "ngClassDirty", {
            get: function () { return this._cd.control ? this._cd.control.dirty : false; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlStatus.prototype, "ngClassValid", {
            get: function () { return this._cd.control ? this._cd.control.valid : false; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlStatus.prototype, "ngClassInvalid", {
            get: function () { return this._cd.control ? this._cd.control.invalid : false; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControlStatus.prototype, "ngClassPending", {
            get: function () { return this._cd.control ? this._cd.control.pending : false; },
            enumerable: true,
            configurable: true
        });
        return AbstractControlStatus;
    }());
    var ngControlStatusHost = {
        '[class.ng-untouched]': 'ngClassUntouched',
        '[class.ng-touched]': 'ngClassTouched',
        '[class.ng-pristine]': 'ngClassPristine',
        '[class.ng-dirty]': 'ngClassDirty',
        '[class.ng-valid]': 'ngClassValid',
        '[class.ng-invalid]': 'ngClassInvalid',
        '[class.ng-pending]': 'ngClassPending',
    };
    var NgControlStatus = (function (_super) {
        __extends$39(NgControlStatus, _super);
        function NgControlStatus(cd) {
            _super.call(this, cd);
        }
        NgControlStatus.decorators = [
            { type: Directive, args: [{ selector: '[formControlName],[ngModel],[formControl]', host: ngControlStatusHost },] },
        ];
        NgControlStatus.ctorParameters = function () {
            return [
                { type: NgControl, decorators: [{ type: Self },] },
            ];
        };
        return NgControlStatus;
    }(AbstractControlStatus));
    var NgControlStatusGroup = (function (_super) {
        __extends$39(NgControlStatusGroup, _super);
        function NgControlStatusGroup(cd) {
            _super.call(this, cd);
        }
        NgControlStatusGroup.decorators = [
            { type: Directive, args: [{
                        selector: '[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]',
                        host: ngControlStatusHost
                    },] },
        ];
        NgControlStatusGroup.ctorParameters = function () {
            return [
                { type: ControlContainer, decorators: [{ type: Self },] },
            ];
        };
        return NgControlStatusGroup;
    }(AbstractControlStatus));
    var __extends$41 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var EventEmitter$1 = (function (_super) {
        __extends$41(EventEmitter, _super);
        function EventEmitter(isAsync) {
            if (isAsync === void 0) {
                isAsync = false;
            }
            _super.call(this);
            this.__isAsync = isAsync;
        }
        EventEmitter.prototype.emit = function (value) { _super.prototype.next.call(this, value); };
        EventEmitter.prototype.subscribe = function (generatorOrNext, error, complete) {
            var schedulerFn;
            var errorFn = function (err) { return null; };
            var completeFn = function () { return null; };
            if (generatorOrNext && typeof generatorOrNext === 'object') {
                schedulerFn = this.__isAsync ? function (value) {
                    setTimeout(function () { return generatorOrNext.next(value); });
                } : function (value) { generatorOrNext.next(value); };
                if (generatorOrNext.error) {
                    errorFn = this.__isAsync ? function (err) { setTimeout(function () { return generatorOrNext.error(err); }); } :
                        function (err) { generatorOrNext.error(err); };
                }
                if (generatorOrNext.complete) {
                    completeFn = this.__isAsync ? function () { setTimeout(function () { return generatorOrNext.complete(); }); } :
                        function () { generatorOrNext.complete(); };
                }
            }
            else {
                schedulerFn = this.__isAsync ? function (value) { setTimeout(function () { return generatorOrNext(value); }); } :
                    function (value) { generatorOrNext(value); };
                if (error) {
                    errorFn =
                        this.__isAsync ? function (err) { setTimeout(function () { return error(err); }); } : function (err) { error(err); };
                }
                if (complete) {
                    completeFn =
                        this.__isAsync ? function () { setTimeout(function () { return complete(); }); } : function () { complete(); };
                }
            }
            return _super.prototype.subscribe.call(this, schedulerFn, errorFn, completeFn);
        };
        return EventEmitter;
    }(Subject_2));
    var __extends$43 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var root_1$5 = root;
    var Observable_1$3 = Observable_1$1;
    var PromiseObservable = (function (_super) {
        __extends$43(PromiseObservable, _super);
        function PromiseObservable(promise, scheduler) {
            _super.call(this);
            this.promise = promise;
            this.scheduler = scheduler;
        }
        PromiseObservable.create = function (promise, scheduler) {
            return new PromiseObservable(promise, scheduler);
        };
        PromiseObservable.prototype._subscribe = function (subscriber) {
            var _this = this;
            var promise = this.promise;
            var scheduler = this.scheduler;
            if (scheduler == null) {
                if (this._isScalar) {
                    if (!subscriber.closed) {
                        subscriber.next(this.value);
                        subscriber.complete();
                    }
                }
                else {
                    promise.then(function (value) {
                        _this.value = value;
                        _this._isScalar = true;
                        if (!subscriber.closed) {
                            subscriber.next(value);
                            subscriber.complete();
                        }
                    }, function (err) {
                        if (!subscriber.closed) {
                            subscriber.error(err);
                        }
                    })
                        .then(null, function (err) {
                        root_1$5.root.setTimeout(function () { throw err; });
                    });
                }
            }
            else {
                if (this._isScalar) {
                    if (!subscriber.closed) {
                        return scheduler.schedule(dispatchNext, 0, { value: this.value, subscriber: subscriber });
                    }
                }
                else {
                    promise.then(function (value) {
                        _this.value = value;
                        _this._isScalar = true;
                        if (!subscriber.closed) {
                            subscriber.add(scheduler.schedule(dispatchNext, 0, { value: value, subscriber: subscriber }));
                        }
                    }, function (err) {
                        if (!subscriber.closed) {
                            subscriber.add(scheduler.schedule(dispatchError, 0, { err: err, subscriber: subscriber }));
                        }
                    })
                        .then(null, function (err) {
                        root_1$5.root.setTimeout(function () { throw err; });
                    });
                }
            }
        };
        return PromiseObservable;
    }(Observable_1$3.Observable));
    var PromiseObservable_2 = PromiseObservable;
    function dispatchNext(arg) {
        var value = arg.value, subscriber = arg.subscriber;
        if (!subscriber.closed) {
            subscriber.next(value);
            subscriber.complete();
        }
    }
    function dispatchError(arg) {
        var err = arg.err, subscriber = arg.subscriber;
        if (!subscriber.closed) {
            subscriber.error(err);
        }
    }
    var PromiseObservable_1$1 = {
        PromiseObservable: PromiseObservable_2
    };
    var PromiseObservable_1 = PromiseObservable_1$1;
    var fromPromise_1 = PromiseObservable_1.PromiseObservable.create;
    var __extends$42 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var VALID = 'VALID';
    var INVALID = 'INVALID';
    var PENDING = 'PENDING';
    var DISABLED = 'DISABLED';
    function _find(control, path, delimiter) {
        if (path == null)
            return null;
        if (!(path instanceof Array)) {
            path = ((path)).split(delimiter);
        }
        if (path instanceof Array && (path.length === 0))
            return null;
        return ((path)).reduce(function (v, name) {
            if (v instanceof FormGroup) {
                return v.controls[name] || null;
            }
            if (v instanceof FormArray) {
                return v.at((name)) || null;
            }
            return null;
        }, control);
    }
    function toObservable(r) {
        return isPromise$2(r) ? fromPromise_1(r) : r;
    }
    function coerceToValidator(validator) {
        return Array.isArray(validator) ? composeValidators(validator) : validator;
    }
    function coerceToAsyncValidator(asyncValidator) {
        return Array.isArray(asyncValidator) ? composeAsyncValidators(asyncValidator) : asyncValidator;
    }
    var AbstractControl = (function () {
        function AbstractControl(validator, asyncValidator) {
            this.validator = validator;
            this.asyncValidator = asyncValidator;
            this._onCollectionChange = function () { };
            this._pristine = true;
            this._touched = false;
            this._onDisabledChange = [];
        }
        Object.defineProperty(AbstractControl.prototype, "value", {
            get: function () { return this._value; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "parent", {
            get: function () { return this._parent; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "status", {
            get: function () { return this._status; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "valid", {
            get: function () { return this._status === VALID; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "invalid", {
            get: function () { return this._status === INVALID; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "pending", {
            get: function () { return this._status == PENDING; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "disabled", {
            get: function () { return this._status === DISABLED; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "enabled", {
            get: function () { return this._status !== DISABLED; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "errors", {
            get: function () { return this._errors; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "pristine", {
            get: function () { return this._pristine; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "dirty", {
            get: function () { return !this.pristine; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "touched", {
            get: function () { return this._touched; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "untouched", {
            get: function () { return !this._touched; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "valueChanges", {
            get: function () { return this._valueChanges; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AbstractControl.prototype, "statusChanges", {
            get: function () { return this._statusChanges; },
            enumerable: true,
            configurable: true
        });
        AbstractControl.prototype.setValidators = function (newValidator) {
            this.validator = coerceToValidator(newValidator);
        };
        AbstractControl.prototype.setAsyncValidators = function (newValidator) {
            this.asyncValidator = coerceToAsyncValidator(newValidator);
        };
        AbstractControl.prototype.clearValidators = function () { this.validator = null; };
        AbstractControl.prototype.clearAsyncValidators = function () { this.asyncValidator = null; };
        AbstractControl.prototype.markAsTouched = function (_a) {
            var onlySelf = (_a === void 0 ? {} : _a).onlySelf;
            this._touched = true;
            if (this._parent && !onlySelf) {
                this._parent.markAsTouched({ onlySelf: onlySelf });
            }
        };
        AbstractControl.prototype.markAsUntouched = function (_a) {
            var onlySelf = (_a === void 0 ? {} : _a).onlySelf;
            this._touched = false;
            this._forEachChild(function (control) { control.markAsUntouched({ onlySelf: true }); });
            if (this._parent && !onlySelf) {
                this._parent._updateTouched({ onlySelf: onlySelf });
            }
        };
        AbstractControl.prototype.markAsDirty = function (_a) {
            var onlySelf = (_a === void 0 ? {} : _a).onlySelf;
            this._pristine = false;
            if (this._parent && !onlySelf) {
                this._parent.markAsDirty({ onlySelf: onlySelf });
            }
        };
        AbstractControl.prototype.markAsPristine = function (_a) {
            var onlySelf = (_a === void 0 ? {} : _a).onlySelf;
            this._pristine = true;
            this._forEachChild(function (control) { control.markAsPristine({ onlySelf: true }); });
            if (this._parent && !onlySelf) {
                this._parent._updatePristine({ onlySelf: onlySelf });
            }
        };
        AbstractControl.prototype.markAsPending = function (_a) {
            var onlySelf = (_a === void 0 ? {} : _a).onlySelf;
            this._status = PENDING;
            if (this._parent && !onlySelf) {
                this._parent.markAsPending({ onlySelf: onlySelf });
            }
        };
        AbstractControl.prototype.disable = function (_a) {
            var _b = _a === void 0 ? {} : _a, onlySelf = _b.onlySelf, emitEvent = _b.emitEvent;
            this._status = DISABLED;
            this._errors = null;
            this._forEachChild(function (control) { control.disable({ onlySelf: true }); });
            this._updateValue();
            if (emitEvent !== false) {
                this._valueChanges.emit(this._value);
                this._statusChanges.emit(this._status);
            }
            this._updateAncestors(onlySelf);
            this._onDisabledChange.forEach(function (changeFn) { return changeFn(true); });
        };
        AbstractControl.prototype.enable = function (_a) {
            var _b = _a === void 0 ? {} : _a, onlySelf = _b.onlySelf, emitEvent = _b.emitEvent;
            this._status = VALID;
            this._forEachChild(function (control) { control.enable({ onlySelf: true }); });
            this.updateValueAndValidity({ onlySelf: true, emitEvent: emitEvent });
            this._updateAncestors(onlySelf);
            this._onDisabledChange.forEach(function (changeFn) { return changeFn(false); });
        };
        AbstractControl.prototype._updateAncestors = function (onlySelf) {
            if (this._parent && !onlySelf) {
                this._parent.updateValueAndValidity();
                this._parent._updatePristine();
                this._parent._updateTouched();
            }
        };
        AbstractControl.prototype.setParent = function (parent) { this._parent = parent; };
        AbstractControl.prototype.setValue = function (value, options) { };
        AbstractControl.prototype.patchValue = function (value, options) { };
        AbstractControl.prototype.reset = function (value, options) { };
        AbstractControl.prototype.updateValueAndValidity = function (_a) {
            var _b = _a === void 0 ? {} : _a, onlySelf = _b.onlySelf, emitEvent = _b.emitEvent;
            this._setInitialStatus();
            this._updateValue();
            if (this.enabled) {
                this._errors = this._runValidator();
                this._status = this._calculateStatus();
                if (this._status === VALID || this._status === PENDING) {
                    this._runAsyncValidator(emitEvent);
                }
            }
            if (emitEvent !== false) {
                this._valueChanges.emit(this._value);
                this._statusChanges.emit(this._status);
            }
            if (this._parent && !onlySelf) {
                this._parent.updateValueAndValidity({ onlySelf: onlySelf, emitEvent: emitEvent });
            }
        };
        AbstractControl.prototype._updateTreeValidity = function (_a) {
            var emitEvent = (_a === void 0 ? { emitEvent: true } : _a).emitEvent;
            this._forEachChild(function (ctrl) { return ctrl._updateTreeValidity({ emitEvent: emitEvent }); });
            this.updateValueAndValidity({ onlySelf: true, emitEvent: emitEvent });
        };
        AbstractControl.prototype._setInitialStatus = function () { this._status = this._allControlsDisabled() ? DISABLED : VALID; };
        AbstractControl.prototype._runValidator = function () {
            return this.validator ? this.validator(this) : null;
        };
        AbstractControl.prototype._runAsyncValidator = function (emitEvent) {
            var _this = this;
            if (this.asyncValidator) {
                this._status = PENDING;
                this._cancelExistingSubscription();
                var obs = toObservable(this.asyncValidator(this));
                this._asyncValidationSubscription =
                    obs.subscribe({ next: function (res) { return _this.setErrors(res, { emitEvent: emitEvent }); } });
            }
        };
        AbstractControl.prototype._cancelExistingSubscription = function () {
            if (this._asyncValidationSubscription) {
                this._asyncValidationSubscription.unsubscribe();
            }
        };
        AbstractControl.prototype.setErrors = function (errors, _a) {
            var emitEvent = (_a === void 0 ? {} : _a).emitEvent;
            this._errors = errors;
            this._updateControlsErrors(emitEvent !== false);
        };
        AbstractControl.prototype.get = function (path) { return _find(this, path, '.'); };
        AbstractControl.prototype.getError = function (errorCode, path) {
            if (path === void 0) {
                path = null;
            }
            var control = path ? this.get(path) : this;
            return control && control._errors ? control._errors[errorCode] : null;
        };
        AbstractControl.prototype.hasError = function (errorCode, path) {
            if (path === void 0) {
                path = null;
            }
            return !!this.getError(errorCode, path);
        };
        Object.defineProperty(AbstractControl.prototype, "root", {
            get: function () {
                var x = this;
                while (x._parent) {
                    x = x._parent;
                }
                return x;
            },
            enumerable: true,
            configurable: true
        });
        AbstractControl.prototype._updateControlsErrors = function (emitEvent) {
            this._status = this._calculateStatus();
            if (emitEvent) {
                this._statusChanges.emit(this._status);
            }
            if (this._parent) {
                this._parent._updateControlsErrors(emitEvent);
            }
        };
        AbstractControl.prototype._initObservables = function () {
            this._valueChanges = new EventEmitter$1();
            this._statusChanges = new EventEmitter$1();
        };
        AbstractControl.prototype._calculateStatus = function () {
            if (this._allControlsDisabled())
                return DISABLED;
            if (this._errors)
                return INVALID;
            if (this._anyControlsHaveStatus(PENDING))
                return PENDING;
            if (this._anyControlsHaveStatus(INVALID))
                return INVALID;
            return VALID;
        };
        AbstractControl.prototype._updateValue = function () { };
        AbstractControl.prototype._forEachChild = function (cb) { };
        AbstractControl.prototype._anyControls = function (condition) { };
        AbstractControl.prototype._allControlsDisabled = function () { };
        AbstractControl.prototype._anyControlsHaveStatus = function (status) {
            return this._anyControls(function (control) { return control.status === status; });
        };
        AbstractControl.prototype._anyControlsDirty = function () {
            return this._anyControls(function (control) { return control.dirty; });
        };
        AbstractControl.prototype._anyControlsTouched = function () {
            return this._anyControls(function (control) { return control.touched; });
        };
        AbstractControl.prototype._updatePristine = function (_a) {
            var onlySelf = (_a === void 0 ? {} : _a).onlySelf;
            this._pristine = !this._anyControlsDirty();
            if (this._parent && !onlySelf) {
                this._parent._updatePristine({ onlySelf: onlySelf });
            }
        };
        AbstractControl.prototype._updateTouched = function (_a) {
            var onlySelf = (_a === void 0 ? {} : _a).onlySelf;
            this._touched = this._anyControlsTouched();
            if (this._parent && !onlySelf) {
                this._parent._updateTouched({ onlySelf: onlySelf });
            }
        };
        AbstractControl.prototype._isBoxedValue = function (formState) {
            return typeof formState === 'object' && formState !== null &&
                Object.keys(formState).length === 2 && 'value' in formState && 'disabled' in formState;
        };
        AbstractControl.prototype._registerOnCollectionChange = function (fn) { this._onCollectionChange = fn; };
        return AbstractControl;
    }());
    var FormControl = (function (_super) {
        __extends$42(FormControl, _super);
        function FormControl(formState, validator, asyncValidator) {
            if (formState === void 0) {
                formState = null;
            }
            if (validator === void 0) {
                validator = null;
            }
            if (asyncValidator === void 0) {
                asyncValidator = null;
            }
            _super.call(this, coerceToValidator(validator), coerceToAsyncValidator(asyncValidator));
            this._onChange = [];
            this._applyFormState(formState);
            this.updateValueAndValidity({ onlySelf: true, emitEvent: false });
            this._initObservables();
        }
        FormControl.prototype.setValue = function (value, _a) {
            var _this = this;
            var _b = _a === void 0 ? {} : _a, onlySelf = _b.onlySelf, emitEvent = _b.emitEvent, emitModelToViewChange = _b.emitModelToViewChange, emitViewToModelChange = _b.emitViewToModelChange;
            this._value = value;
            if (this._onChange.length && emitModelToViewChange !== false) {
                this._onChange.forEach(function (changeFn) { return changeFn(_this._value, emitViewToModelChange !== false); });
            }
            this.updateValueAndValidity({ onlySelf: onlySelf, emitEvent: emitEvent });
        };
        FormControl.prototype.patchValue = function (value, options) {
            if (options === void 0) {
                options = {};
            }
            this.setValue(value, options);
        };
        FormControl.prototype.reset = function (formState, _a) {
            if (formState === void 0) {
                formState = null;
            }
            var _b = _a === void 0 ? {} : _a, onlySelf = _b.onlySelf, emitEvent = _b.emitEvent;
            this._applyFormState(formState);
            this.markAsPristine({ onlySelf: onlySelf });
            this.markAsUntouched({ onlySelf: onlySelf });
            this.setValue(this._value, { onlySelf: onlySelf, emitEvent: emitEvent });
        };
        FormControl.prototype._updateValue = function () { };
        FormControl.prototype._anyControls = function (condition) { return false; };
        FormControl.prototype._allControlsDisabled = function () { return this.disabled; };
        FormControl.prototype.registerOnChange = function (fn) { this._onChange.push(fn); };
        FormControl.prototype._clearChangeFns = function () {
            this._onChange = [];
            this._onDisabledChange = [];
            this._onCollectionChange = function () { };
        };
        FormControl.prototype.registerOnDisabledChange = function (fn) {
            this._onDisabledChange.push(fn);
        };
        FormControl.prototype._forEachChild = function (cb) { };
        FormControl.prototype._applyFormState = function (formState) {
            if (this._isBoxedValue(formState)) {
                this._value = formState.value;
                formState.disabled ? this.disable({ onlySelf: true, emitEvent: false }) :
                    this.enable({ onlySelf: true, emitEvent: false });
            }
            else {
                this._value = formState;
            }
        };
        return FormControl;
    }(AbstractControl));
    var FormGroup = (function (_super) {
        __extends$42(FormGroup, _super);
        function FormGroup(controls, validator, asyncValidator) {
            if (validator === void 0) {
                validator = null;
            }
            if (asyncValidator === void 0) {
                asyncValidator = null;
            }
            _super.call(this, validator, asyncValidator);
            this.controls = controls;
            this._initObservables();
            this._setUpControls();
            this.updateValueAndValidity({ onlySelf: true, emitEvent: false });
        }
        FormGroup.prototype.registerControl = function (name, control) {
            if (this.controls[name])
                return this.controls[name];
            this.controls[name] = control;
            control.setParent(this);
            control._registerOnCollectionChange(this._onCollectionChange);
            return control;
        };
        FormGroup.prototype.addControl = function (name, control) {
            this.registerControl(name, control);
            this.updateValueAndValidity();
            this._onCollectionChange();
        };
        FormGroup.prototype.removeControl = function (name) {
            if (this.controls[name])
                this.controls[name]._registerOnCollectionChange(function () { });
            delete (this.controls[name]);
            this.updateValueAndValidity();
            this._onCollectionChange();
        };
        FormGroup.prototype.setControl = function (name, control) {
            if (this.controls[name])
                this.controls[name]._registerOnCollectionChange(function () { });
            delete (this.controls[name]);
            if (control)
                this.registerControl(name, control);
            this.updateValueAndValidity();
            this._onCollectionChange();
        };
        FormGroup.prototype.contains = function (controlName) {
            return this.controls.hasOwnProperty(controlName) && this.controls[controlName].enabled;
        };
        FormGroup.prototype.setValue = function (value, _a) {
            var _this = this;
            var _b = _a === void 0 ? {} : _a, onlySelf = _b.onlySelf, emitEvent = _b.emitEvent;
            this._checkAllValuesPresent(value);
            Object.keys(value).forEach(function (name) {
                _this._throwIfControlMissing(name);
                _this.controls[name].setValue(value[name], { onlySelf: true, emitEvent: emitEvent });
            });
            this.updateValueAndValidity({ onlySelf: onlySelf, emitEvent: emitEvent });
        };
        FormGroup.prototype.patchValue = function (value, _a) {
            var _this = this;
            var _b = _a === void 0 ? {} : _a, onlySelf = _b.onlySelf, emitEvent = _b.emitEvent;
            Object.keys(value).forEach(function (name) {
                if (_this.controls[name]) {
                    _this.controls[name].patchValue(value[name], { onlySelf: true, emitEvent: emitEvent });
                }
            });
            this.updateValueAndValidity({ onlySelf: onlySelf, emitEvent: emitEvent });
        };
        FormGroup.prototype.reset = function (value, _a) {
            if (value === void 0) {
                value = {};
            }
            var _b = _a === void 0 ? {} : _a, onlySelf = _b.onlySelf, emitEvent = _b.emitEvent;
            this._forEachChild(function (control, name) {
                control.reset(value[name], { onlySelf: true, emitEvent: emitEvent });
            });
            this.updateValueAndValidity({ onlySelf: onlySelf, emitEvent: emitEvent });
            this._updatePristine({ onlySelf: onlySelf });
            this._updateTouched({ onlySelf: onlySelf });
        };
        FormGroup.prototype.getRawValue = function () {
            return this._reduceChildren({}, function (acc, control, name) {
                acc[name] = control.value;
                return acc;
            });
        };
        FormGroup.prototype._throwIfControlMissing = function (name) {
            if (!Object.keys(this.controls).length) {
                throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");
            }
            if (!this.controls[name]) {
                throw new Error("Cannot find form control with name: " + name + ".");
            }
        };
        FormGroup.prototype._forEachChild = function (cb) {
            var _this = this;
            Object.keys(this.controls).forEach(function (k) { return cb(_this.controls[k], k); });
        };
        FormGroup.prototype._setUpControls = function () {
            var _this = this;
            this._forEachChild(function (control) {
                control.setParent(_this);
                control._registerOnCollectionChange(_this._onCollectionChange);
            });
        };
        FormGroup.prototype._updateValue = function () { this._value = this._reduceValue(); };
        FormGroup.prototype._anyControls = function (condition) {
            var _this = this;
            var res = false;
            this._forEachChild(function (control, name) {
                res = res || (_this.contains(name) && condition(control));
            });
            return res;
        };
        FormGroup.prototype._reduceValue = function () {
            var _this = this;
            return this._reduceChildren({}, function (acc, control, name) {
                if (control.enabled || _this.disabled) {
                    acc[name] = control.value;
                }
                return acc;
            });
        };
        FormGroup.prototype._reduceChildren = function (initValue, fn) {
            var res = initValue;
            this._forEachChild(function (control, name) { res = fn(res, control, name); });
            return res;
        };
        FormGroup.prototype._allControlsDisabled = function () {
            for (var _i = 0, _a = Object.keys(this.controls); _i < _a.length; _i++) {
                var controlName = _a[_i];
                if (this.controls[controlName].enabled) {
                    return false;
                }
            }
            return Object.keys(this.controls).length > 0 || this.disabled;
        };
        FormGroup.prototype._checkAllValuesPresent = function (value) {
            this._forEachChild(function (control, name) {
                if (value[name] === undefined) {
                    throw new Error("Must supply a value for form control with name: '" + name + "'.");
                }
            });
        };
        return FormGroup;
    }(AbstractControl));
    var FormArray = (function (_super) {
        __extends$42(FormArray, _super);
        function FormArray(controls, validator, asyncValidator) {
            if (validator === void 0) {
                validator = null;
            }
            if (asyncValidator === void 0) {
                asyncValidator = null;
            }
            _super.call(this, validator, asyncValidator);
            this.controls = controls;
            this._initObservables();
            this._setUpControls();
            this.updateValueAndValidity({ onlySelf: true, emitEvent: false });
        }
        FormArray.prototype.at = function (index) { return this.controls[index]; };
        FormArray.prototype.push = function (control) {
            this.controls.push(control);
            this._registerControl(control);
            this.updateValueAndValidity();
            this._onCollectionChange();
        };
        FormArray.prototype.insert = function (index, control) {
            this.controls.splice(index, 0, control);
            this._registerControl(control);
            this.updateValueAndValidity();
            this._onCollectionChange();
        };
        FormArray.prototype.removeAt = function (index) {
            if (this.controls[index])
                this.controls[index]._registerOnCollectionChange(function () { });
            this.controls.splice(index, 1);
            this.updateValueAndValidity();
            this._onCollectionChange();
        };
        FormArray.prototype.setControl = function (index, control) {
            if (this.controls[index])
                this.controls[index]._registerOnCollectionChange(function () { });
            this.controls.splice(index, 1);
            if (control) {
                this.controls.splice(index, 0, control);
                this._registerControl(control);
            }
            this.updateValueAndValidity();
            this._onCollectionChange();
        };
        Object.defineProperty(FormArray.prototype, "length", {
            get: function () { return this.controls.length; },
            enumerable: true,
            configurable: true
        });
        FormArray.prototype.setValue = function (value, _a) {
            var _this = this;
            var _b = _a === void 0 ? {} : _a, onlySelf = _b.onlySelf, emitEvent = _b.emitEvent;
            this._checkAllValuesPresent(value);
            value.forEach(function (newValue, index) {
                _this._throwIfControlMissing(index);
                _this.at(index).setValue(newValue, { onlySelf: true, emitEvent: emitEvent });
            });
            this.updateValueAndValidity({ onlySelf: onlySelf, emitEvent: emitEvent });
        };
        FormArray.prototype.patchValue = function (value, _a) {
            var _this = this;
            var _b = _a === void 0 ? {} : _a, onlySelf = _b.onlySelf, emitEvent = _b.emitEvent;
            value.forEach(function (newValue, index) {
                if (_this.at(index)) {
                    _this.at(index).patchValue(newValue, { onlySelf: true, emitEvent: emitEvent });
                }
            });
            this.updateValueAndValidity({ onlySelf: onlySelf, emitEvent: emitEvent });
        };
        FormArray.prototype.reset = function (value, _a) {
            if (value === void 0) {
                value = [];
            }
            var _b = _a === void 0 ? {} : _a, onlySelf = _b.onlySelf, emitEvent = _b.emitEvent;
            this._forEachChild(function (control, index) {
                control.reset(value[index], { onlySelf: true, emitEvent: emitEvent });
            });
            this.updateValueAndValidity({ onlySelf: onlySelf, emitEvent: emitEvent });
            this._updatePristine({ onlySelf: onlySelf });
            this._updateTouched({ onlySelf: onlySelf });
        };
        FormArray.prototype.getRawValue = function () { return this.controls.map(function (control) { return control.value; }); };
        FormArray.prototype._throwIfControlMissing = function (index) {
            if (!this.controls.length) {
                throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");
            }
            if (!this.at(index)) {
                throw new Error("Cannot find form control at index " + index);
            }
        };
        FormArray.prototype._forEachChild = function (cb) {
            this.controls.forEach(function (control, index) { cb(control, index); });
        };
        FormArray.prototype._updateValue = function () {
            var _this = this;
            this._value = this.controls.filter(function (control) { return control.enabled || _this.disabled; })
                .map(function (control) { return control.value; });
        };
        FormArray.prototype._anyControls = function (condition) {
            return this.controls.some(function (control) { return control.enabled && condition(control); });
        };
        FormArray.prototype._setUpControls = function () {
            var _this = this;
            this._forEachChild(function (control) { return _this._registerControl(control); });
        };
        FormArray.prototype._checkAllValuesPresent = function (value) {
            this._forEachChild(function (control, i) {
                if (value[i] === undefined) {
                    throw new Error("Must supply a value for form control at index: " + i + ".");
                }
            });
        };
        FormArray.prototype._allControlsDisabled = function () {
            for (var _i = 0, _a = this.controls; _i < _a.length; _i++) {
                var control = _a[_i];
                if (control.enabled)
                    return false;
            }
            return this.controls.length > 0 || this.disabled;
        };
        FormArray.prototype._registerControl = function (control) {
            control.setParent(this);
            control._registerOnCollectionChange(this._onCollectionChange);
        };
        return FormArray;
    }(AbstractControl));
    var __extends$40 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var formDirectiveProvider = {
        provide: ControlContainer,
        useExisting: forwardRef(function () { return NgForm; })
    };
    var resolvedPromise = Promise.resolve(null);
    var NgForm = (function (_super) {
        __extends$40(NgForm, _super);
        function NgForm(validators, asyncValidators) {
            _super.call(this);
            this._submitted = false;
            this.ngSubmit = new EventEmitter$1();
            this.form =
                new FormGroup({}, composeValidators(validators), composeAsyncValidators(asyncValidators));
        }
        Object.defineProperty(NgForm.prototype, "submitted", {
            get: function () { return this._submitted; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgForm.prototype, "formDirective", {
            get: function () { return this; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgForm.prototype, "control", {
            get: function () { return this.form; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgForm.prototype, "path", {
            get: function () { return []; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgForm.prototype, "controls", {
            get: function () { return this.form.controls; },
            enumerable: true,
            configurable: true
        });
        NgForm.prototype.addControl = function (dir) {
            var _this = this;
            resolvedPromise.then(function () {
                var container = _this._findContainer(dir.path);
                dir._control = (container.registerControl(dir.name, dir.control));
                setUpControl(dir.control, dir);
                dir.control.updateValueAndValidity({ emitEvent: false });
            });
        };
        NgForm.prototype.getControl = function (dir) { return (this.form.get(dir.path)); };
        NgForm.prototype.removeControl = function (dir) {
            var _this = this;
            resolvedPromise.then(function () {
                var container = _this._findContainer(dir.path);
                if (container) {
                    container.removeControl(dir.name);
                }
            });
        };
        NgForm.prototype.addFormGroup = function (dir) {
            var _this = this;
            resolvedPromise.then(function () {
                var container = _this._findContainer(dir.path);
                var group$$1 = new FormGroup({});
                setUpFormContainer(group$$1, dir);
                container.registerControl(dir.name, group$$1);
                group$$1.updateValueAndValidity({ emitEvent: false });
            });
        };
        NgForm.prototype.removeFormGroup = function (dir) {
            var _this = this;
            resolvedPromise.then(function () {
                var container = _this._findContainer(dir.path);
                if (container) {
                    container.removeControl(dir.name);
                }
            });
        };
        NgForm.prototype.getFormGroup = function (dir) { return (this.form.get(dir.path)); };
        NgForm.prototype.updateModel = function (dir, value) {
            var _this = this;
            resolvedPromise.then(function () {
                var ctrl = (_this.form.get(dir.path));
                ctrl.setValue(value);
            });
        };
        NgForm.prototype.setValue = function (value) { this.control.setValue(value); };
        NgForm.prototype.onSubmit = function ($event) {
            this._submitted = true;
            this.ngSubmit.emit($event);
            return false;
        };
        NgForm.prototype.onReset = function () { this.resetForm(); };
        NgForm.prototype.resetForm = function (value) {
            if (value === void 0) {
                value = undefined;
            }
            this.form.reset(value);
            this._submitted = false;
        };
        NgForm.prototype._findContainer = function (path) {
            path.pop();
            return path.length ? (this.form.get(path)) : this.form;
        };
        NgForm.decorators = [
            { type: Directive, args: [{
                        selector: 'form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]',
                        providers: [formDirectiveProvider],
                        host: { '(submit)': 'onSubmit($event)', '(reset)': 'onReset()' },
                        outputs: ['ngSubmit'],
                        exportAs: 'ngForm'
                    },] },
        ];
        NgForm.ctorParameters = function () {
            return [
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_VALIDATORS,] },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_ASYNC_VALIDATORS,] },] },
            ];
        };
        return NgForm;
    }(ControlContainer));
    var FormErrorExamples = {
        formControlName: "\n    <div [formGroup]=\"myGroup\">\n      <input formControlName=\"firstName\">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });",
        formGroupName: "\n    <div [formGroup]=\"myGroup\">\n       <div formGroupName=\"person\">\n          <input formControlName=\"firstName\">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });",
        formArrayName: "\n    <div [formGroup]=\"myGroup\">\n      <div formArrayName=\"cities\">\n        <div *ngFor=\"let city of cityArray.controls; let i=index\">\n          <input [formControlName]=\"i\">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl('SF')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });",
        ngModelGroup: "\n    <form>\n       <div ngModelGroup=\"person\">\n          <input [(ngModel)]=\"person.name\" name=\"firstName\">\n       </div>\n    </form>",
        ngModelWithFormGroup: "\n    <div [formGroup]=\"myGroup\">\n       <input formControlName=\"firstName\">\n       <input [(ngModel)]=\"showMoreControls\" [ngModelOptions]=\"{standalone: true}\">\n    </div>\n  "
    };
    var TemplateDrivenErrors = (function () {
        function TemplateDrivenErrors() {
        }
        TemplateDrivenErrors.modelParentException = function () {
            throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive \"formControlName\" instead.  Example:\n\n      " + FormErrorExamples.formControlName + "\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      " + FormErrorExamples.ngModelWithFormGroup);
        };
        TemplateDrivenErrors.formGroupNameException = function () {
            throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      " + FormErrorExamples.formGroupName + "\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      " + FormErrorExamples.ngModelGroup);
        };
        TemplateDrivenErrors.missingNameException = function () {
            throw new Error("If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as 'standalone' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]=\"person.firstName\" name=\"first\">\n      Example 2: <input [(ngModel)]=\"person.firstName\" [ngModelOptions]=\"{standalone: true}\">");
        };
        TemplateDrivenErrors.modelGroupParentException = function () {
            throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      " + FormErrorExamples.formGroupName + "\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      " + FormErrorExamples.ngModelGroup);
        };
        return TemplateDrivenErrors;
    }());
    var __extends$45 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var modelGroupProvider = {
        provide: ControlContainer,
        useExisting: forwardRef(function () { return NgModelGroup; })
    };
    var NgModelGroup = (function (_super) {
        __extends$45(NgModelGroup, _super);
        function NgModelGroup(parent, validators, asyncValidators) {
            _super.call(this);
            this._parent = parent;
            this._validators = validators;
            this._asyncValidators = asyncValidators;
        }
        NgModelGroup.prototype._checkParentType = function () {
            if (!(this._parent instanceof NgModelGroup) && !(this._parent instanceof NgForm)) {
                TemplateDrivenErrors.modelGroupParentException();
            }
        };
        NgModelGroup.decorators = [
            { type: Directive, args: [{ selector: '[ngModelGroup]', providers: [modelGroupProvider], exportAs: 'ngModelGroup' },] },
        ];
        NgModelGroup.ctorParameters = function () {
            return [
                { type: ControlContainer, decorators: [{ type: Host }, { type: SkipSelf },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_VALIDATORS,] },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_ASYNC_VALIDATORS,] },] },
            ];
        };
        NgModelGroup.propDecorators = {
            'name': [{ type: Input, args: ['ngModelGroup',] },],
        };
        return NgModelGroup;
    }(AbstractFormGroupDirective));
    var __extends$44 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var formControlBinding = {
        provide: NgControl,
        useExisting: forwardRef(function () { return NgModel; })
    };
    var resolvedPromise$1 = Promise.resolve(null);
    var NgModel = (function (_super) {
        __extends$44(NgModel, _super);
        function NgModel(parent, validators, asyncValidators, valueAccessors) {
            _super.call(this);
            this._control = new FormControl();
            this._registered = false;
            this.update = new EventEmitter$1();
            this._parent = parent;
            this._rawValidators = validators || [];
            this._rawAsyncValidators = asyncValidators || [];
            this.valueAccessor = selectValueAccessor(this, valueAccessors);
        }
        NgModel.prototype.ngOnChanges = function (changes) {
            this._checkForErrors();
            if (!this._registered)
                this._setUpControl();
            if ('isDisabled' in changes) {
                this._updateDisabled(changes);
            }
            if (isPropertyUpdated(changes, this.viewModel)) {
                this._updateValue(this.model);
                this.viewModel = this.model;
            }
        };
        NgModel.prototype.ngOnDestroy = function () { this.formDirective && this.formDirective.removeControl(this); };
        Object.defineProperty(NgModel.prototype, "control", {
            get: function () { return this._control; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgModel.prototype, "path", {
            get: function () {
                return this._parent ? controlPath(this.name, this._parent) : [this.name];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgModel.prototype, "formDirective", {
            get: function () { return this._parent ? this._parent.formDirective : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgModel.prototype, "validator", {
            get: function () { return composeValidators(this._rawValidators); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgModel.prototype, "asyncValidator", {
            get: function () {
                return composeAsyncValidators(this._rawAsyncValidators);
            },
            enumerable: true,
            configurable: true
        });
        NgModel.prototype.viewToModelUpdate = function (newValue) {
            this.viewModel = newValue;
            this.update.emit(newValue);
        };
        NgModel.prototype._setUpControl = function () {
            this._isStandalone() ? this._setUpStandalone() :
                this.formDirective.addControl(this);
            this._registered = true;
        };
        NgModel.prototype._isStandalone = function () {
            return !this._parent || (this.options && this.options.standalone);
        };
        NgModel.prototype._setUpStandalone = function () {
            setUpControl(this._control, this);
            this._control.updateValueAndValidity({ emitEvent: false });
        };
        NgModel.prototype._checkForErrors = function () {
            if (!this._isStandalone()) {
                this._checkParentType();
            }
            this._checkName();
        };
        NgModel.prototype._checkParentType = function () {
            if (!(this._parent instanceof NgModelGroup) &&
                this._parent instanceof AbstractFormGroupDirective) {
                TemplateDrivenErrors.formGroupNameException();
            }
            else if (!(this._parent instanceof NgModelGroup) && !(this._parent instanceof NgForm)) {
                TemplateDrivenErrors.modelParentException();
            }
        };
        NgModel.prototype._checkName = function () {
            if (this.options && this.options.name)
                this.name = this.options.name;
            if (!this._isStandalone() && !this.name) {
                TemplateDrivenErrors.missingNameException();
            }
        };
        NgModel.prototype._updateValue = function (value) {
            var _this = this;
            resolvedPromise$1.then(function () { _this.control.setValue(value, { emitViewToModelChange: false }); });
        };
        NgModel.prototype._updateDisabled = function (changes) {
            var _this = this;
            var disabledValue = changes['isDisabled'].currentValue;
            var isDisabled = disabledValue === '' || (disabledValue && disabledValue !== 'false');
            resolvedPromise$1.then(function () {
                if (isDisabled && !_this.control.disabled) {
                    _this.control.disable();
                }
                else if (!isDisabled && _this.control.disabled) {
                    _this.control.enable();
                }
            });
        };
        NgModel.decorators = [
            { type: Directive, args: [{
                        selector: '[ngModel]:not([formControlName]):not([formControl])',
                        providers: [formControlBinding],
                        exportAs: 'ngModel'
                    },] },
        ];
        NgModel.ctorParameters = function () {
            return [
                { type: ControlContainer, decorators: [{ type: Optional }, { type: Host },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_VALIDATORS,] },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_ASYNC_VALIDATORS,] },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_VALUE_ACCESSOR,] },] },
            ];
        };
        NgModel.propDecorators = {
            'name': [{ type: Input },],
            'isDisabled': [{ type: Input, args: ['disabled',] },],
            'model': [{ type: Input, args: ['ngModel',] },],
            'options': [{ type: Input, args: ['ngModelOptions',] },],
            'update': [{ type: Output, args: ['ngModelChange',] },],
        };
        return NgModel;
    }(NgControl));
    var ReactiveErrors = (function () {
        function ReactiveErrors() {
        }
        ReactiveErrors.controlParentException = function () {
            throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      " + FormErrorExamples.formControlName);
        };
        ReactiveErrors.ngModelGroupException = function () {
            throw new Error("formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a \"form\" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        " + FormErrorExamples.formGroupName + "\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        " + FormErrorExamples.ngModelGroup);
        };
        ReactiveErrors.missingFormException = function () {
            throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       " + FormErrorExamples.formControlName);
        };
        ReactiveErrors.groupParentException = function () {
            throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      " + FormErrorExamples.formGroupName);
        };
        ReactiveErrors.arrayParentException = function () {
            throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        " + FormErrorExamples.formArrayName);
        };
        ReactiveErrors.disabledAttrWarning = function () {
            console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ");
        };
        return ReactiveErrors;
    }());
    var __extends$46 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var formControlBinding$1 = {
        provide: NgControl,
        useExisting: forwardRef(function () { return FormControlDirective; })
    };
    var FormControlDirective = (function (_super) {
        __extends$46(FormControlDirective, _super);
        function FormControlDirective(validators, asyncValidators, valueAccessors) {
            _super.call(this);
            this.update = new EventEmitter$1();
            this._rawValidators = validators || [];
            this._rawAsyncValidators = asyncValidators || [];
            this.valueAccessor = selectValueAccessor(this, valueAccessors);
        }
        Object.defineProperty(FormControlDirective.prototype, "isDisabled", {
            set: function (isDisabled) { ReactiveErrors.disabledAttrWarning(); },
            enumerable: true,
            configurable: true
        });
        FormControlDirective.prototype.ngOnChanges = function (changes) {
            if (this._isControlChanged(changes)) {
                setUpControl(this.form, this);
                if (this.control.disabled && this.valueAccessor.setDisabledState) {
                    this.valueAccessor.setDisabledState(true);
                }
                this.form.updateValueAndValidity({ emitEvent: false });
            }
            if (isPropertyUpdated(changes, this.viewModel)) {
                this.form.setValue(this.model);
                this.viewModel = this.model;
            }
        };
        Object.defineProperty(FormControlDirective.prototype, "path", {
            get: function () { return []; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormControlDirective.prototype, "validator", {
            get: function () { return composeValidators(this._rawValidators); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormControlDirective.prototype, "asyncValidator", {
            get: function () {
                return composeAsyncValidators(this._rawAsyncValidators);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormControlDirective.prototype, "control", {
            get: function () { return this.form; },
            enumerable: true,
            configurable: true
        });
        FormControlDirective.prototype.viewToModelUpdate = function (newValue) {
            this.viewModel = newValue;
            this.update.emit(newValue);
        };
        FormControlDirective.prototype._isControlChanged = function (changes) {
            return changes.hasOwnProperty('form');
        };
        FormControlDirective.decorators = [
            { type: Directive, args: [{ selector: '[formControl]', providers: [formControlBinding$1], exportAs: 'ngForm' },] },
        ];
        FormControlDirective.ctorParameters = function () {
            return [
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_VALIDATORS,] },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_ASYNC_VALIDATORS,] },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_VALUE_ACCESSOR,] },] },
            ];
        };
        FormControlDirective.propDecorators = {
            'form': [{ type: Input, args: ['formControl',] },],
            'model': [{ type: Input, args: ['ngModel',] },],
            'update': [{ type: Output, args: ['ngModelChange',] },],
            'isDisabled': [{ type: Input, args: ['disabled',] },],
        };
        return FormControlDirective;
    }(NgControl));
    var __extends$48 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var formDirectiveProvider$1 = {
        provide: ControlContainer,
        useExisting: forwardRef(function () { return FormGroupDirective; })
    };
    var FormGroupDirective = (function (_super) {
        __extends$48(FormGroupDirective, _super);
        function FormGroupDirective(_validators, _asyncValidators) {
            _super.call(this);
            this._validators = _validators;
            this._asyncValidators = _asyncValidators;
            this._submitted = false;
            this.directives = [];
            this.form = null;
            this.ngSubmit = new EventEmitter$1();
        }
        FormGroupDirective.prototype.ngOnChanges = function (changes) {
            this._checkFormPresent();
            if (changes.hasOwnProperty('form')) {
                this._updateValidators();
                this._updateDomValue();
                this._updateRegistrations();
            }
        };
        Object.defineProperty(FormGroupDirective.prototype, "submitted", {
            get: function () { return this._submitted; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormGroupDirective.prototype, "formDirective", {
            get: function () { return this; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormGroupDirective.prototype, "control", {
            get: function () { return this.form; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormGroupDirective.prototype, "path", {
            get: function () { return []; },
            enumerable: true,
            configurable: true
        });
        FormGroupDirective.prototype.addControl = function (dir) {
            var ctrl = this.form.get(dir.path);
            setUpControl(ctrl, dir);
            ctrl.updateValueAndValidity({ emitEvent: false });
            this.directives.push(dir);
            return ctrl;
        };
        FormGroupDirective.prototype.getControl = function (dir) { return (this.form.get(dir.path)); };
        FormGroupDirective.prototype.removeControl = function (dir) { ListWrapper$3.remove(this.directives, dir); };
        FormGroupDirective.prototype.addFormGroup = function (dir) {
            var ctrl = this.form.get(dir.path);
            setUpFormContainer(ctrl, dir);
            ctrl.updateValueAndValidity({ emitEvent: false });
        };
        FormGroupDirective.prototype.removeFormGroup = function (dir) { };
        FormGroupDirective.prototype.getFormGroup = function (dir) { return (this.form.get(dir.path)); };
        FormGroupDirective.prototype.addFormArray = function (dir) {
            var ctrl = this.form.get(dir.path);
            setUpFormContainer(ctrl, dir);
            ctrl.updateValueAndValidity({ emitEvent: false });
        };
        FormGroupDirective.prototype.removeFormArray = function (dir) { };
        FormGroupDirective.prototype.getFormArray = function (dir) { return (this.form.get(dir.path)); };
        FormGroupDirective.prototype.updateModel = function (dir, value) {
            var ctrl = (this.form.get(dir.path));
            ctrl.setValue(value);
        };
        FormGroupDirective.prototype.onSubmit = function ($event) {
            this._submitted = true;
            this.ngSubmit.emit($event);
            return false;
        };
        FormGroupDirective.prototype.onReset = function () { this.resetForm(); };
        FormGroupDirective.prototype.resetForm = function (value) {
            if (value === void 0) {
                value = undefined;
            }
            this.form.reset(value);
            this._submitted = false;
        };
        FormGroupDirective.prototype._updateDomValue = function () {
            var _this = this;
            this.directives.forEach(function (dir) {
                var newCtrl = _this.form.get(dir.path);
                if (dir._control !== newCtrl) {
                    cleanUpControl(dir._control, dir);
                    if (newCtrl)
                        setUpControl(newCtrl, dir);
                    dir._control = newCtrl;
                }
            });
            this.form._updateTreeValidity({ emitEvent: false });
        };
        FormGroupDirective.prototype._updateRegistrations = function () {
            var _this = this;
            this.form._registerOnCollectionChange(function () { return _this._updateDomValue(); });
            if (this._oldForm)
                this._oldForm._registerOnCollectionChange(function () { });
            this._oldForm = this.form;
        };
        FormGroupDirective.prototype._updateValidators = function () {
            var sync = composeValidators(this._validators);
            this.form.validator = Validators.compose([this.form.validator, sync]);
            var async = composeAsyncValidators(this._asyncValidators);
            this.form.asyncValidator = Validators.composeAsync([this.form.asyncValidator, async]);
        };
        FormGroupDirective.prototype._checkFormPresent = function () {
            if (!this.form) {
                ReactiveErrors.missingFormException();
            }
        };
        FormGroupDirective.decorators = [
            { type: Directive, args: [{
                        selector: '[formGroup]',
                        providers: [formDirectiveProvider$1],
                        host: { '(submit)': 'onSubmit($event)', '(reset)': 'onReset()' },
                        exportAs: 'ngForm'
                    },] },
        ];
        FormGroupDirective.ctorParameters = function () {
            return [
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_VALIDATORS,] },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_ASYNC_VALIDATORS,] },] },
            ];
        };
        FormGroupDirective.propDecorators = {
            'form': [{ type: Input, args: ['formGroup',] },],
            'ngSubmit': [{ type: Output },],
        };
        return FormGroupDirective;
    }(ControlContainer));
    var __extends$49 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var formGroupNameProvider = {
        provide: ControlContainer,
        useExisting: forwardRef(function () { return FormGroupName; })
    };
    var FormGroupName = (function (_super) {
        __extends$49(FormGroupName, _super);
        function FormGroupName(parent, validators, asyncValidators) {
            _super.call(this);
            this._parent = parent;
            this._validators = validators;
            this._asyncValidators = asyncValidators;
        }
        FormGroupName.prototype._checkParentType = function () {
            if (_hasInvalidParent(this._parent)) {
                ReactiveErrors.groupParentException();
            }
        };
        FormGroupName.decorators = [
            { type: Directive, args: [{ selector: '[formGroupName]', providers: [formGroupNameProvider] },] },
        ];
        FormGroupName.ctorParameters = function () {
            return [
                { type: ControlContainer, decorators: [{ type: Optional }, { type: Host }, { type: SkipSelf },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_VALIDATORS,] },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_ASYNC_VALIDATORS,] },] },
            ];
        };
        FormGroupName.propDecorators = {
            'name': [{ type: Input, args: ['formGroupName',] },],
        };
        return FormGroupName;
    }(AbstractFormGroupDirective));
    var formArrayNameProvider = {
        provide: ControlContainer,
        useExisting: forwardRef(function () { return FormArrayName; })
    };
    var FormArrayName = (function (_super) {
        __extends$49(FormArrayName, _super);
        function FormArrayName(parent, validators, asyncValidators) {
            _super.call(this);
            this._parent = parent;
            this._validators = validators;
            this._asyncValidators = asyncValidators;
        }
        FormArrayName.prototype.ngOnInit = function () {
            this._checkParentType();
            this.formDirective.addFormArray(this);
        };
        FormArrayName.prototype.ngOnDestroy = function () {
            if (this.formDirective) {
                this.formDirective.removeFormArray(this);
            }
        };
        Object.defineProperty(FormArrayName.prototype, "control", {
            get: function () { return this.formDirective.getFormArray(this); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormArrayName.prototype, "formDirective", {
            get: function () {
                return this._parent ? (this._parent.formDirective) : null;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormArrayName.prototype, "path", {
            get: function () { return controlPath(this.name, this._parent); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormArrayName.prototype, "validator", {
            get: function () { return composeValidators(this._validators); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormArrayName.prototype, "asyncValidator", {
            get: function () { return composeAsyncValidators(this._asyncValidators); },
            enumerable: true,
            configurable: true
        });
        FormArrayName.prototype._checkParentType = function () {
            if (_hasInvalidParent(this._parent)) {
                ReactiveErrors.arrayParentException();
            }
        };
        FormArrayName.decorators = [
            { type: Directive, args: [{ selector: '[formArrayName]', providers: [formArrayNameProvider] },] },
        ];
        FormArrayName.ctorParameters = function () {
            return [
                { type: ControlContainer, decorators: [{ type: Optional }, { type: Host }, { type: SkipSelf },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_VALIDATORS,] },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_ASYNC_VALIDATORS,] },] },
            ];
        };
        FormArrayName.propDecorators = {
            'name': [{ type: Input, args: ['formArrayName',] },],
        };
        return FormArrayName;
    }(ControlContainer));
    function _hasInvalidParent(parent) {
        return !(parent instanceof FormGroupName) && !(parent instanceof FormGroupDirective) &&
            !(parent instanceof FormArrayName);
    }
    var __extends$47 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var controlNameBinding = {
        provide: NgControl,
        useExisting: forwardRef(function () { return FormControlName; })
    };
    var FormControlName = (function (_super) {
        __extends$47(FormControlName, _super);
        function FormControlName(parent, validators, asyncValidators, valueAccessors) {
            _super.call(this);
            this._added = false;
            this.update = new EventEmitter$1();
            this._parent = parent;
            this._rawValidators = validators || [];
            this._rawAsyncValidators = asyncValidators || [];
            this.valueAccessor = selectValueAccessor(this, valueAccessors);
        }
        Object.defineProperty(FormControlName.prototype, "isDisabled", {
            set: function (isDisabled) { ReactiveErrors.disabledAttrWarning(); },
            enumerable: true,
            configurable: true
        });
        FormControlName.prototype.ngOnChanges = function (changes) {
            if (!this._added)
                this._setUpControl();
            if (isPropertyUpdated(changes, this.viewModel)) {
                this.viewModel = this.model;
                this.formDirective.updateModel(this, this.model);
            }
        };
        FormControlName.prototype.ngOnDestroy = function () {
            if (this.formDirective) {
                this.formDirective.removeControl(this);
            }
        };
        FormControlName.prototype.viewToModelUpdate = function (newValue) {
            this.viewModel = newValue;
            this.update.emit(newValue);
        };
        Object.defineProperty(FormControlName.prototype, "path", {
            get: function () { return controlPath(this.name, this._parent); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormControlName.prototype, "formDirective", {
            get: function () { return this._parent ? this._parent.formDirective : null; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormControlName.prototype, "validator", {
            get: function () { return composeValidators(this._rawValidators); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormControlName.prototype, "asyncValidator", {
            get: function () {
                return composeAsyncValidators(this._rawAsyncValidators);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormControlName.prototype, "control", {
            get: function () { return this._control; },
            enumerable: true,
            configurable: true
        });
        FormControlName.prototype._checkParentType = function () {
            if (!(this._parent instanceof FormGroupName) &&
                this._parent instanceof AbstractFormGroupDirective) {
                ReactiveErrors.ngModelGroupException();
            }
            else if (!(this._parent instanceof FormGroupName) && !(this._parent instanceof FormGroupDirective) &&
                !(this._parent instanceof FormArrayName)) {
                ReactiveErrors.controlParentException();
            }
        };
        FormControlName.prototype._setUpControl = function () {
            this._checkParentType();
            this._control = this.formDirective.addControl(this);
            if (this.control.disabled && this.valueAccessor.setDisabledState) {
                this.valueAccessor.setDisabledState(true);
            }
            this._added = true;
        };
        FormControlName.decorators = [
            { type: Directive, args: [{ selector: '[formControlName]', providers: [controlNameBinding] },] },
        ];
        FormControlName.ctorParameters = function () {
            return [
                { type: ControlContainer, decorators: [{ type: Optional }, { type: Host }, { type: SkipSelf },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_VALIDATORS,] },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_ASYNC_VALIDATORS,] },] },
                { type: Array, decorators: [{ type: Optional }, { type: Self }, { type: Inject, args: [NG_VALUE_ACCESSOR,] },] },
            ];
        };
        FormControlName.propDecorators = {
            'name': [{ type: Input, args: ['formControlName',] },],
            'model': [{ type: Input, args: ['ngModel',] },],
            'update': [{ type: Output, args: ['ngModelChange',] },],
            'isDisabled': [{ type: Input, args: ['disabled',] },],
        };
        return FormControlName;
    }(NgControl));
    var __extends$50 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var REQUIRED_VALIDATOR = {
        provide: NG_VALIDATORS,
        useExisting: forwardRef(function () { return RequiredValidator; }),
        multi: true
    };
    var CHECKBOX_REQUIRED_VALIDATOR = {
        provide: NG_VALIDATORS,
        useExisting: forwardRef(function () { return CheckboxRequiredValidator; }),
        multi: true
    };
    var RequiredValidator = (function () {
        function RequiredValidator() {
        }
        Object.defineProperty(RequiredValidator.prototype, "required", {
            get: function () { return this._required; },
            set: function (value) {
                this._required = value != null && value !== false && "" + value !== 'false';
                if (this._onChange)
                    this._onChange();
            },
            enumerable: true,
            configurable: true
        });
        RequiredValidator.prototype.validate = function (c) {
            return this.required ? Validators.required(c) : null;
        };
        RequiredValidator.prototype.registerOnValidatorChange = function (fn) { this._onChange = fn; };
        RequiredValidator.decorators = [
            { type: Directive, args: [{
                        selector: ':not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]',
                        providers: [REQUIRED_VALIDATOR],
                        host: { '[attr.required]': 'required ? "" : null' }
                    },] },
        ];
        RequiredValidator.ctorParameters = function () { return []; };
        RequiredValidator.propDecorators = {
            'required': [{ type: Input },],
        };
        return RequiredValidator;
    }());
    var CheckboxRequiredValidator = (function (_super) {
        __extends$50(CheckboxRequiredValidator, _super);
        function CheckboxRequiredValidator() {
            _super.apply(this, arguments);
        }
        CheckboxRequiredValidator.prototype.validate = function (c) {
            return this.required ? Validators.requiredTrue(c) : null;
        };
        CheckboxRequiredValidator.decorators = [
            { type: Directive, args: [{
                        selector: 'input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]',
                        providers: [CHECKBOX_REQUIRED_VALIDATOR],
                        host: { '[attr.required]': 'required ? "" : null' }
                    },] },
        ];
        CheckboxRequiredValidator.ctorParameters = function () { return []; };
        return CheckboxRequiredValidator;
    }(RequiredValidator));
    var MIN_LENGTH_VALIDATOR = {
        provide: NG_VALIDATORS,
        useExisting: forwardRef(function () { return MinLengthValidator; }),
        multi: true
    };
    var MinLengthValidator = (function () {
        function MinLengthValidator() {
        }
        MinLengthValidator.prototype.ngOnChanges = function (changes) {
            if ('minlength' in changes) {
                this._createValidator();
                if (this._onChange)
                    this._onChange();
            }
        };
        MinLengthValidator.prototype.validate = function (c) {
            return this.minlength == null ? null : this._validator(c);
        };
        MinLengthValidator.prototype.registerOnValidatorChange = function (fn) { this._onChange = fn; };
        MinLengthValidator.prototype._createValidator = function () {
            this._validator = Validators.minLength(parseInt(this.minlength, 10));
        };
        MinLengthValidator.decorators = [
            { type: Directive, args: [{
                        selector: '[minlength][formControlName],[minlength][formControl],[minlength][ngModel]',
                        providers: [MIN_LENGTH_VALIDATOR],
                        host: { '[attr.minlength]': 'minlength ? minlength : null' }
                    },] },
        ];
        MinLengthValidator.ctorParameters = function () { return []; };
        MinLengthValidator.propDecorators = {
            'minlength': [{ type: Input },],
        };
        return MinLengthValidator;
    }());
    var MAX_LENGTH_VALIDATOR = {
        provide: NG_VALIDATORS,
        useExisting: forwardRef(function () { return MaxLengthValidator; }),
        multi: true
    };
    var MaxLengthValidator = (function () {
        function MaxLengthValidator() {
        }
        MaxLengthValidator.prototype.ngOnChanges = function (changes) {
            if ('maxlength' in changes) {
                this._createValidator();
                if (this._onChange)
                    this._onChange();
            }
        };
        MaxLengthValidator.prototype.validate = function (c) {
            return this.maxlength != null ? this._validator(c) : null;
        };
        MaxLengthValidator.prototype.registerOnValidatorChange = function (fn) { this._onChange = fn; };
        MaxLengthValidator.prototype._createValidator = function () {
            this._validator = Validators.maxLength(parseInt(this.maxlength, 10));
        };
        MaxLengthValidator.decorators = [
            { type: Directive, args: [{
                        selector: '[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]',
                        providers: [MAX_LENGTH_VALIDATOR],
                        host: { '[attr.maxlength]': 'maxlength ? maxlength : null' }
                    },] },
        ];
        MaxLengthValidator.ctorParameters = function () { return []; };
        MaxLengthValidator.propDecorators = {
            'maxlength': [{ type: Input },],
        };
        return MaxLengthValidator;
    }());
    var PATTERN_VALIDATOR = {
        provide: NG_VALIDATORS,
        useExisting: forwardRef(function () { return PatternValidator; }),
        multi: true
    };
    var PatternValidator = (function () {
        function PatternValidator() {
        }
        PatternValidator.prototype.ngOnChanges = function (changes) {
            if ('pattern' in changes) {
                this._createValidator();
                if (this._onChange)
                    this._onChange();
            }
        };
        PatternValidator.prototype.validate = function (c) { return this._validator(c); };
        PatternValidator.prototype.registerOnValidatorChange = function (fn) { this._onChange = fn; };
        PatternValidator.prototype._createValidator = function () { this._validator = Validators.pattern(this.pattern); };
        PatternValidator.decorators = [
            { type: Directive, args: [{
                        selector: '[pattern][formControlName],[pattern][formControl],[pattern][ngModel]',
                        providers: [PATTERN_VALIDATOR],
                        host: { '[attr.pattern]': 'pattern ? pattern : null' }
                    },] },
        ];
        PatternValidator.ctorParameters = function () { return []; };
        PatternValidator.propDecorators = {
            'pattern': [{ type: Input },],
        };
        return PatternValidator;
    }());
    var VERSION$3 = new Version('2.4.3');
    var SHARED_FORM_DIRECTIVES = [
        NgSelectOption,
        NgSelectMultipleOption,
        DefaultValueAccessor,
        NumberValueAccessor,
        RangeValueAccessor,
        CheckboxControlValueAccessor,
        SelectControlValueAccessor,
        SelectMultipleControlValueAccessor,
        RadioControlValueAccessor,
        NgControlStatus,
        NgControlStatusGroup,
        RequiredValidator,
        MinLengthValidator,
        MaxLengthValidator,
        PatternValidator,
        CheckboxRequiredValidator,
    ];
    var TEMPLATE_DRIVEN_DIRECTIVES = [NgModel, NgModelGroup, NgForm];
    var InternalFormsSharedModule = (function () {
        function InternalFormsSharedModule() {
        }
        InternalFormsSharedModule.decorators = [
            { type: NgModule, args: [{
                        declarations: SHARED_FORM_DIRECTIVES,
                        exports: SHARED_FORM_DIRECTIVES,
                    },] },
        ];
        InternalFormsSharedModule.ctorParameters = function () { return []; };
        return InternalFormsSharedModule;
    }());
    var FormsModule = (function () {
        function FormsModule() {
        }
        FormsModule.decorators = [
            { type: NgModule, args: [{
                        declarations: TEMPLATE_DRIVEN_DIRECTIVES,
                        providers: [RadioControlRegistry],
                        exports: [InternalFormsSharedModule, TEMPLATE_DRIVEN_DIRECTIVES]
                    },] },
        ];
        FormsModule.ctorParameters = function () { return []; };
        return FormsModule;
    }());
    var BrowserXhr = (function () {
        function BrowserXhr() {
        }
        BrowserXhr.prototype.build = function () { return ((new XMLHttpRequest())); };
        BrowserXhr.decorators = [
            { type: Injectable },
        ];
        BrowserXhr.ctorParameters = function () { return []; };
        return BrowserXhr;
    }());
    var RequestMethod = {};
    RequestMethod.Get = 0;
    RequestMethod.Post = 1;
    RequestMethod.Put = 2;
    RequestMethod.Delete = 3;
    RequestMethod.Options = 4;
    RequestMethod.Head = 5;
    RequestMethod.Patch = 6;
    RequestMethod[RequestMethod.Get] = "Get";
    RequestMethod[RequestMethod.Post] = "Post";
    RequestMethod[RequestMethod.Put] = "Put";
    RequestMethod[RequestMethod.Delete] = "Delete";
    RequestMethod[RequestMethod.Options] = "Options";
    RequestMethod[RequestMethod.Head] = "Head";
    RequestMethod[RequestMethod.Patch] = "Patch";
    var ReadyState = {};
    ReadyState.Unsent = 0;
    ReadyState.Open = 1;
    ReadyState.HeadersReceived = 2;
    ReadyState.Loading = 3;
    ReadyState.Done = 4;
    ReadyState.Cancelled = 5;
    ReadyState[ReadyState.Unsent] = "Unsent";
    ReadyState[ReadyState.Open] = "Open";
    ReadyState[ReadyState.HeadersReceived] = "HeadersReceived";
    ReadyState[ReadyState.Loading] = "Loading";
    ReadyState[ReadyState.Done] = "Done";
    ReadyState[ReadyState.Cancelled] = "Cancelled";
    var ResponseType = {};
    ResponseType.Basic = 0;
    ResponseType.Cors = 1;
    ResponseType.Default = 2;
    ResponseType.Error = 3;
    ResponseType.Opaque = 4;
    ResponseType[ResponseType.Basic] = "Basic";
    ResponseType[ResponseType.Cors] = "Cors";
    ResponseType[ResponseType.Default] = "Default";
    ResponseType[ResponseType.Error] = "Error";
    ResponseType[ResponseType.Opaque] = "Opaque";
    var ContentType = {};
    ContentType.NONE = 0;
    ContentType.JSON = 1;
    ContentType.FORM = 2;
    ContentType.FORM_DATA = 3;
    ContentType.TEXT = 4;
    ContentType.BLOB = 5;
    ContentType.ARRAY_BUFFER = 6;
    ContentType[ContentType.NONE] = "NONE";
    ContentType[ContentType.JSON] = "JSON";
    ContentType[ContentType.FORM] = "FORM";
    ContentType[ContentType.FORM_DATA] = "FORM_DATA";
    ContentType[ContentType.TEXT] = "TEXT";
    ContentType[ContentType.BLOB] = "BLOB";
    ContentType[ContentType.ARRAY_BUFFER] = "ARRAY_BUFFER";
    var ResponseContentType = {};
    ResponseContentType.Text = 0;
    ResponseContentType.Json = 1;
    ResponseContentType.ArrayBuffer = 2;
    ResponseContentType.Blob = 3;
    ResponseContentType[ResponseContentType.Text] = "Text";
    ResponseContentType[ResponseContentType.Json] = "Json";
    ResponseContentType[ResponseContentType.ArrayBuffer] = "ArrayBuffer";
    ResponseContentType[ResponseContentType.Blob] = "Blob";
    var Headers = (function () {
        function Headers(headers) {
            var _this = this;
            this._headers = new Map();
            this._normalizedNames = new Map();
            if (!headers) {
                return;
            }
            if (headers instanceof Headers) {
                headers.forEach(function (values, name) {
                    values.forEach(function (value) { return _this.append(name, value); });
                });
                return;
            }
            Object.keys(headers).forEach(function (name) {
                var values = Array.isArray(headers[name]) ? headers[name] : [headers[name]];
                _this.delete(name);
                values.forEach(function (value) { return _this.append(name, value); });
            });
        }
        Headers.fromResponseHeaderString = function (headersString) {
            var headers = new Headers();
            headersString.split('\n').forEach(function (line) {
                var index = line.indexOf(':');
                if (index > 0) {
                    var name_1 = line.slice(0, index);
                    var value = line.slice(index + 1).trim();
                    headers.set(name_1, value);
                }
            });
            return headers;
        };
        Headers.prototype.append = function (name, value) {
            var values = this.getAll(name);
            if (values === null) {
                this.set(name, value);
            }
            else {
                values.push(value);
            }
        };
        Headers.prototype.delete = function (name) {
            var lcName = name.toLowerCase();
            this._normalizedNames.delete(lcName);
            this._headers.delete(lcName);
        };
        Headers.prototype.forEach = function (fn) {
            var _this = this;
            this._headers.forEach(function (values, lcName) { return fn(values, _this._normalizedNames.get(lcName), _this._headers); });
        };
        Headers.prototype.get = function (name) {
            var values = this.getAll(name);
            if (values === null) {
                return null;
            }
            return values.length > 0 ? values[0] : null;
        };
        Headers.prototype.has = function (name) { return this._headers.has(name.toLowerCase()); };
        Headers.prototype.keys = function () { return Array.from(this._normalizedNames.values()); };
        Headers.prototype.set = function (name, value) {
            if (Array.isArray(value)) {
                if (value.length) {
                    this._headers.set(name.toLowerCase(), [value.join(',')]);
                }
            }
            else {
                this._headers.set(name.toLowerCase(), [value]);
            }
            this.mayBeSetNormalizedName(name);
        };
        Headers.prototype.values = function () { return Array.from(this._headers.values()); };
        Headers.prototype.toJSON = function () {
            var _this = this;
            var serialized = {};
            this._headers.forEach(function (values, name) {
                var split = [];
                values.forEach(function (v) { return split.push.apply(split, v.split(',')); });
                serialized[_this._normalizedNames.get(name)] = split;
            });
            return serialized;
        };
        Headers.prototype.getAll = function (name) {
            return this.has(name) ? this._headers.get(name.toLowerCase()) : null;
        };
        Headers.prototype.entries = function () { throw new Error('"entries" method is not implemented on Headers class'); };
        Headers.prototype.mayBeSetNormalizedName = function (name) {
            var lcName = name.toLowerCase();
            if (!this._normalizedNames.has(lcName)) {
                this._normalizedNames.set(lcName, name);
            }
        };
        return Headers;
    }());
    var __extends$52 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var ResponseOptions = (function () {
        function ResponseOptions(_a) {
            var _b = _a === void 0 ? {} : _a, body = _b.body, status = _b.status, headers = _b.headers, statusText = _b.statusText, type = _b.type, url = _b.url;
            this.body = body != null ? body : null;
            this.status = status != null ? status : null;
            this.headers = headers != null ? headers : null;
            this.statusText = statusText != null ? statusText : null;
            this.type = type != null ? type : null;
            this.url = url != null ? url : null;
        }
        ResponseOptions.prototype.merge = function (options) {
            return new ResponseOptions({
                body: options && options.body != null ? options.body : this.body,
                status: options && options.status != null ? options.status : this.status,
                headers: options && options.headers != null ? options.headers : this.headers,
                statusText: options && options.statusText != null ? options.statusText : this.statusText,
                type: options && options.type != null ? options.type : this.type,
                url: options && options.url != null ? options.url : this.url,
            });
        };
        return ResponseOptions;
    }());
    var BaseResponseOptions = (function (_super) {
        __extends$52(BaseResponseOptions, _super);
        function BaseResponseOptions() {
            _super.call(this, { status: 200, statusText: 'Ok', type: ResponseType.Default, headers: new Headers() });
        }
        BaseResponseOptions.decorators = [
            { type: Injectable },
        ];
        BaseResponseOptions.ctorParameters = function () { return []; };
        return BaseResponseOptions;
    }(ResponseOptions));
    var ConnectionBackend = (function () {
        function ConnectionBackend() {
        }
        ConnectionBackend.prototype.createConnection = function (request) { };
        return ConnectionBackend;
    }());
    var XSRFStrategy = (function () {
        function XSRFStrategy() {
        }
        XSRFStrategy.prototype.configureRequest = function (req) { };
        return XSRFStrategy;
    }());
    function normalizeMethodName(method) {
        if (typeof method !== 'string')
            return method;
        switch (method.toUpperCase()) {
            case 'GET':
                return RequestMethod.Get;
            case 'POST':
                return RequestMethod.Post;
            case 'PUT':
                return RequestMethod.Put;
            case 'DELETE':
                return RequestMethod.Delete;
            case 'OPTIONS':
                return RequestMethod.Options;
            case 'HEAD':
                return RequestMethod.Head;
            case 'PATCH':
                return RequestMethod.Patch;
        }
        throw new Error("Invalid request method. The method \"" + method + "\" is not supported.");
    }
    var isSuccess = function (status) { return (status >= 200 && status < 300); };
    function getResponseURL(xhr) {
        if ('responseURL' in xhr) {
            return xhr.responseURL;
        }
        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {
            return xhr.getResponseHeader('X-Request-URL');
        }
        return;
    }
    function stringToArrayBuffer(input) {
        var view = new Uint16Array(input.length);
        for (var i = 0, strLen = input.length; i < strLen; i++) {
            view[i] = input.charCodeAt(i);
        }
        return view.buffer;
    }
    function paramParser(rawParams) {
        if (rawParams === void 0) {
            rawParams = '';
        }
        var map = new Map();
        if (rawParams.length > 0) {
            var params = rawParams.split('&');
            params.forEach(function (param) {
                var eqIdx = param.indexOf('=');
                var _a = eqIdx == -1 ? [param, ''] : [param.slice(0, eqIdx), param.slice(eqIdx + 1)], key = _a[0], val = _a[1];
                var list = map.get(key) || [];
                list.push(val);
                map.set(key, list);
            });
        }
        return map;
    }
    var QueryEncoder = (function () {
        function QueryEncoder() {
        }
        QueryEncoder.prototype.encodeKey = function (k) { return standardEncoding(k); };
        QueryEncoder.prototype.encodeValue = function (v) { return standardEncoding(v); };
        return QueryEncoder;
    }());
    function standardEncoding(v) {
        return encodeURIComponent(v)
            .replace(/%40/gi, '@')
            .replace(/%3A/gi, ':')
            .replace(/%24/gi, '$')
            .replace(/%2C/gi, ',')
            .replace(/%3B/gi, ';')
            .replace(/%2B/gi, '+')
            .replace(/%3D/gi, '=')
            .replace(/%3F/gi, '?')
            .replace(/%2F/gi, '/');
    }
    var URLSearchParams = (function () {
        function URLSearchParams(rawParams, queryEncoder) {
            if (rawParams === void 0) {
                rawParams = '';
            }
            if (queryEncoder === void 0) {
                queryEncoder = new QueryEncoder();
            }
            this.rawParams = rawParams;
            this.queryEncoder = queryEncoder;
            this.paramsMap = paramParser(rawParams);
        }
        URLSearchParams.prototype.clone = function () {
            var clone = new URLSearchParams('', this.queryEncoder);
            clone.appendAll(this);
            return clone;
        };
        URLSearchParams.prototype.has = function (param) { return this.paramsMap.has(param); };
        URLSearchParams.prototype.get = function (param) {
            var storedParam = this.paramsMap.get(param);
            return Array.isArray(storedParam) ? storedParam[0] : null;
        };
        URLSearchParams.prototype.getAll = function (param) { return this.paramsMap.get(param) || []; };
        URLSearchParams.prototype.set = function (param, val) {
            if (val === void 0 || val === null) {
                this.delete(param);
                return;
            }
            var list = this.paramsMap.get(param) || [];
            list.length = 0;
            list.push(val);
            this.paramsMap.set(param, list);
        };
        URLSearchParams.prototype.setAll = function (searchParams) {
            var _this = this;
            searchParams.paramsMap.forEach(function (value, param) {
                var list = _this.paramsMap.get(param) || [];
                list.length = 0;
                list.push(value[0]);
                _this.paramsMap.set(param, list);
            });
        };
        URLSearchParams.prototype.append = function (param, val) {
            if (val === void 0 || val === null)
                return;
            var list = this.paramsMap.get(param) || [];
            list.push(val);
            this.paramsMap.set(param, list);
        };
        URLSearchParams.prototype.appendAll = function (searchParams) {
            var _this = this;
            searchParams.paramsMap.forEach(function (value, param) {
                var list = _this.paramsMap.get(param) || [];
                for (var i = 0; i < value.length; ++i) {
                    list.push(value[i]);
                }
                _this.paramsMap.set(param, list);
            });
        };
        URLSearchParams.prototype.replaceAll = function (searchParams) {
            var _this = this;
            searchParams.paramsMap.forEach(function (value, param) {
                var list = _this.paramsMap.get(param) || [];
                list.length = 0;
                for (var i = 0; i < value.length; ++i) {
                    list.push(value[i]);
                }
                _this.paramsMap.set(param, list);
            });
        };
        URLSearchParams.prototype.toString = function () {
            var _this = this;
            var paramsList = [];
            this.paramsMap.forEach(function (values, k) {
                values.forEach(function (v) { return paramsList.push(_this.queryEncoder.encodeKey(k) + '=' + _this.queryEncoder.encodeValue(v)); });
            });
            return paramsList.join('&');
        };
        URLSearchParams.prototype.delete = function (param) { this.paramsMap.delete(param); };
        return URLSearchParams;
    }());
    var Body = (function () {
        function Body() {
        }
        Body.prototype.json = function () {
            if (typeof this._body === 'string') {
                return JSON.parse((this._body));
            }
            if (this._body instanceof ArrayBuffer) {
                return JSON.parse(this.text());
            }
            return this._body;
        };
        Body.prototype.text = function () {
            if (this._body instanceof URLSearchParams) {
                return this._body.toString();
            }
            if (this._body instanceof ArrayBuffer) {
                return String.fromCharCode.apply(null, new Uint16Array((this._body)));
            }
            if (this._body == null) {
                return '';
            }
            if (typeof this._body === 'object') {
                return JSON.stringify(this._body, null, 2);
            }
            return this._body.toString();
        };
        Body.prototype.arrayBuffer = function () {
            if (this._body instanceof ArrayBuffer) {
                return (this._body);
            }
            return stringToArrayBuffer(this.text());
        };
        Body.prototype.blob = function () {
            if (this._body instanceof Blob) {
                return (this._body);
            }
            if (this._body instanceof ArrayBuffer) {
                return new Blob([this._body]);
            }
            throw new Error('The request body isn\'t either a blob or an array buffer');
        };
        return Body;
    }());
    var __extends$53 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Response = (function (_super) {
        __extends$53(Response, _super);
        function Response(responseOptions) {
            _super.call(this);
            this._body = responseOptions.body;
            this.status = responseOptions.status;
            this.ok = (this.status >= 200 && this.status <= 299);
            this.statusText = responseOptions.statusText;
            this.headers = responseOptions.headers;
            this.type = responseOptions.type;
            this.url = responseOptions.url;
        }
        Response.prototype.toString = function () {
            return "Response with status: " + this.status + " " + this.statusText + " for URL: " + this.url;
        };
        return Response;
    }(Body));
    var _nextRequestId = 0;
    var JSONP_HOME = '__ng_jsonp__';
    var _jsonpConnections = null;
    function _getJsonpConnections() {
        var w = typeof window == 'object' ? window : {};
        if (_jsonpConnections === null) {
            _jsonpConnections = w[JSONP_HOME] = {};
        }
        return _jsonpConnections;
    }
    var BrowserJsonp = (function () {
        function BrowserJsonp() {
        }
        BrowserJsonp.prototype.build = function (url) {
            var node = document.createElement('script');
            node.src = url;
            return node;
        };
        BrowserJsonp.prototype.nextRequestID = function () { return "__req" + _nextRequestId++; };
        BrowserJsonp.prototype.requestCallback = function (id) { return JSONP_HOME + "." + id + ".finished"; };
        BrowserJsonp.prototype.exposeConnection = function (id, connection) {
            var connections = _getJsonpConnections();
            connections[id] = connection;
        };
        BrowserJsonp.prototype.removeConnection = function (id) {
            var connections = _getJsonpConnections();
            connections[id] = null;
        };
        BrowserJsonp.prototype.send = function (node) { document.body.appendChild(((node))); };
        BrowserJsonp.prototype.cleanup = function (node) {
            if (node.parentNode) {
                node.parentNode.removeChild(((node)));
            }
        };
        BrowserJsonp.decorators = [
            { type: Injectable },
        ];
        BrowserJsonp.ctorParameters = function () { return []; };
        return BrowserJsonp;
    }());
    var __extends$51 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var JSONP_ERR_NO_CALLBACK = 'JSONP injected script did not invoke callback.';
    var JSONP_ERR_WRONG_METHOD = 'JSONP requests must use GET request method.';
    var JSONPConnection = (function () {
        function JSONPConnection() {
        }
        JSONPConnection.prototype.finished = function (data) { };
        return JSONPConnection;
    }());
    var JSONPConnection_ = (function (_super) {
        __extends$51(JSONPConnection_, _super);
        function JSONPConnection_(req, _dom, baseResponseOptions) {
            var _this = this;
            _super.call(this);
            this._dom = _dom;
            this.baseResponseOptions = baseResponseOptions;
            this._finished = false;
            if (req.method !== RequestMethod.Get) {
                throw new TypeError(JSONP_ERR_WRONG_METHOD);
            }
            this.request = req;
            this.response = new Observable_2(function (responseObserver) {
                _this.readyState = ReadyState.Loading;
                var id = _this._id = _dom.nextRequestID();
                _dom.exposeConnection(id, _this);
                var callback = _dom.requestCallback(_this._id);
                var url = req.url;
                if (url.indexOf('=JSONP_CALLBACK&') > -1) {
                    url = url.replace('=JSONP_CALLBACK&', "=" + callback + "&");
                }
                else if (url.lastIndexOf('=JSONP_CALLBACK') === url.length - '=JSONP_CALLBACK'.length) {
                    url = url.substring(0, url.length - '=JSONP_CALLBACK'.length) + ("=" + callback);
                }
                var script = _this._script = _dom.build(url);
                var onLoad = function (event) {
                    if (_this.readyState === ReadyState.Cancelled)
                        return;
                    _this.readyState = ReadyState.Done;
                    _dom.cleanup(script);
                    if (!_this._finished) {
                        var responseOptions_1 = new ResponseOptions({ body: JSONP_ERR_NO_CALLBACK, type: ResponseType.Error, url: url });
                        if (baseResponseOptions) {
                            responseOptions_1 = baseResponseOptions.merge(responseOptions_1);
                        }
                        responseObserver.error(new Response(responseOptions_1));
                        return;
                    }
                    var responseOptions = new ResponseOptions({ body: _this._responseData, url: url });
                    if (_this.baseResponseOptions) {
                        responseOptions = _this.baseResponseOptions.merge(responseOptions);
                    }
                    responseObserver.next(new Response(responseOptions));
                    responseObserver.complete();
                };
                var onError = function (error) {
                    if (_this.readyState === ReadyState.Cancelled)
                        return;
                    _this.readyState = ReadyState.Done;
                    _dom.cleanup(script);
                    var responseOptions = new ResponseOptions({ body: error.message, type: ResponseType.Error });
                    if (baseResponseOptions) {
                        responseOptions = baseResponseOptions.merge(responseOptions);
                    }
                    responseObserver.error(new Response(responseOptions));
                };
                script.addEventListener('load', onLoad);
                script.addEventListener('error', onError);
                _dom.send(script);
                return function () {
                    _this.readyState = ReadyState.Cancelled;
                    script.removeEventListener('load', onLoad);
                    script.removeEventListener('error', onError);
                    _this._dom.cleanup(script);
                };
            });
        }
        JSONPConnection_.prototype.finished = function (data) {
            this._finished = true;
            this._dom.removeConnection(this._id);
            if (this.readyState === ReadyState.Cancelled)
                return;
            this._responseData = data;
        };
        return JSONPConnection_;
    }(JSONPConnection));
    var JSONPBackend = (function (_super) {
        __extends$51(JSONPBackend, _super);
        function JSONPBackend() {
            _super.apply(this, arguments);
        }
        return JSONPBackend;
    }(ConnectionBackend));
    var JSONPBackend_ = (function (_super) {
        __extends$51(JSONPBackend_, _super);
        function JSONPBackend_(_browserJSONP, _baseResponseOptions) {
            _super.call(this);
            this._browserJSONP = _browserJSONP;
            this._baseResponseOptions = _baseResponseOptions;
        }
        JSONPBackend_.prototype.createConnection = function (request) {
            return new JSONPConnection_(request, this._browserJSONP, this._baseResponseOptions);
        };
        JSONPBackend_.decorators = [
            { type: Injectable },
        ];
        JSONPBackend_.ctorParameters = function () {
            return [
                { type: BrowserJsonp, },
                { type: ResponseOptions, },
            ];
        };
        return JSONPBackend_;
    }(JSONPBackend));
    var XSSI_PREFIX = /^\)\]\}',?\n/;
    var XHRConnection = (function () {
        function XHRConnection(req, browserXHR, baseResponseOptions) {
            var _this = this;
            this.request = req;
            this.response = new Observable_2(function (responseObserver) {
                var _xhr = browserXHR.build();
                _xhr.open(RequestMethod[req.method].toUpperCase(), req.url);
                if (req.withCredentials != null) {
                    _xhr.withCredentials = req.withCredentials;
                }
                var onLoad = function () {
                    var status = _xhr.status === 1223 ? 204 : _xhr.status;
                    var body = null;
                    if (status !== 204) {
                        body = (typeof _xhr.response === 'undefined') ? _xhr.responseText : _xhr.response;
                        if (typeof body === 'string') {
                            body = body.replace(XSSI_PREFIX, '');
                        }
                    }
                    if (status === 0) {
                        status = body ? 200 : 0;
                    }
                    var headers = Headers.fromResponseHeaderString(_xhr.getAllResponseHeaders());
                    var url = getResponseURL(_xhr) || req.url;
                    var statusText = _xhr.statusText || 'OK';
                    var responseOptions = new ResponseOptions({ body: body, status: status, headers: headers, statusText: statusText, url: url });
                    if (baseResponseOptions != null) {
                        responseOptions = baseResponseOptions.merge(responseOptions);
                    }
                    var response = new Response(responseOptions);
                    response.ok = isSuccess(status);
                    if (response.ok) {
                        responseObserver.next(response);
                        responseObserver.complete();
                        return;
                    }
                    responseObserver.error(response);
                };
                var onError = function (err) {
                    var responseOptions = new ResponseOptions({
                        body: err,
                        type: ResponseType.Error,
                        status: _xhr.status,
                        statusText: _xhr.statusText,
                    });
                    if (baseResponseOptions != null) {
                        responseOptions = baseResponseOptions.merge(responseOptions);
                    }
                    responseObserver.error(new Response(responseOptions));
                };
                _this.setDetectedContentType(req, _xhr);
                if (req.headers == null) {
                    req.headers = new Headers();
                }
                if (!req.headers.has('Accept')) {
                    req.headers.append('Accept', 'application/json, text/plain, */*');
                }
                req.headers.forEach(function (values, name) { return _xhr.setRequestHeader(name, values.join(',')); });
                if (req.responseType != null && _xhr.responseType != null) {
                    switch (req.responseType) {
                        case ResponseContentType.ArrayBuffer:
                            _xhr.responseType = 'arraybuffer';
                            break;
                        case ResponseContentType.Json:
                            _xhr.responseType = 'json';
                            break;
                        case ResponseContentType.Text:
                            _xhr.responseType = 'text';
                            break;
                        case ResponseContentType.Blob:
                            _xhr.responseType = 'blob';
                            break;
                        default:
                            throw new Error('The selected responseType is not supported');
                    }
                }
                _xhr.addEventListener('load', onLoad);
                _xhr.addEventListener('error', onError);
                _xhr.send(_this.request.getBody());
                return function () {
                    _xhr.removeEventListener('load', onLoad);
                    _xhr.removeEventListener('error', onError);
                    _xhr.abort();
                };
            });
        }
        XHRConnection.prototype.setDetectedContentType = function (req, _xhr) {
            if (req.headers != null && req.headers.get('Content-Type') != null) {
                return;
            }
            switch (req.contentType) {
                case ContentType.NONE:
                    break;
                case ContentType.JSON:
                    _xhr.setRequestHeader('content-type', 'application/json');
                    break;
                case ContentType.FORM:
                    _xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');
                    break;
                case ContentType.TEXT:
                    _xhr.setRequestHeader('content-type', 'text/plain');
                    break;
                case ContentType.BLOB:
                    var blob = req.blob();
                    if (blob.type) {
                        _xhr.setRequestHeader('content-type', blob.type);
                    }
                    break;
            }
        };
        return XHRConnection;
    }());
    var CookieXSRFStrategy = (function () {
        function CookieXSRFStrategy(_cookieName, _headerName) {
            if (_cookieName === void 0) {
                _cookieName = 'XSRF-TOKEN';
            }
            if (_headerName === void 0) {
                _headerName = 'X-XSRF-TOKEN';
            }
            this._cookieName = _cookieName;
            this._headerName = _headerName;
        }
        CookieXSRFStrategy.prototype.configureRequest = function (req) {
            var xsrfToken = __platform_browser_private__.getDOM().getCookie(this._cookieName);
            if (xsrfToken) {
                req.headers.set(this._headerName, xsrfToken);
            }
        };
        return CookieXSRFStrategy;
    }());
    var XHRBackend = (function () {
        function XHRBackend(_browserXHR, _baseResponseOptions, _xsrfStrategy) {
            this._browserXHR = _browserXHR;
            this._baseResponseOptions = _baseResponseOptions;
            this._xsrfStrategy = _xsrfStrategy;
        }
        XHRBackend.prototype.createConnection = function (request) {
            this._xsrfStrategy.configureRequest(request);
            return new XHRConnection(request, this._browserXHR, this._baseResponseOptions);
        };
        XHRBackend.decorators = [
            { type: Injectable },
        ];
        XHRBackend.ctorParameters = function () {
            return [
                { type: BrowserXhr, },
                { type: ResponseOptions, },
                { type: XSRFStrategy, },
            ];
        };
        return XHRBackend;
    }());
    var __extends$54 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var RequestOptions = (function () {
        function RequestOptions(_a) {
            var _b = _a === void 0 ? {} : _a, method = _b.method, headers = _b.headers, body = _b.body, url = _b.url, search = _b.search, withCredentials = _b.withCredentials, responseType = _b.responseType;
            this.method = method != null ? normalizeMethodName(method) : null;
            this.headers = headers != null ? headers : null;
            this.body = body != null ? body : null;
            this.url = url != null ? url : null;
            this.search =
                search != null ? (typeof search === 'string' ? new URLSearchParams(search) : search) : null;
            this.withCredentials = withCredentials != null ? withCredentials : null;
            this.responseType = responseType != null ? responseType : null;
        }
        RequestOptions.prototype.merge = function (options) {
            return new RequestOptions({
                method: options && options.method != null ? options.method : this.method,
                headers: options && options.headers != null ? options.headers : new Headers(this.headers),
                body: options && options.body != null ? options.body : this.body,
                url: options && options.url != null ? options.url : this.url,
                search: options && options.search != null ?
                    (typeof options.search === 'string' ? new URLSearchParams(options.search) :
                        options.search.clone()) :
                    this.search,
                withCredentials: options && options.withCredentials != null ? options.withCredentials :
                    this.withCredentials,
                responseType: options && options.responseType != null ? options.responseType :
                    this.responseType
            });
        };
        return RequestOptions;
    }());
    var BaseRequestOptions = (function (_super) {
        __extends$54(BaseRequestOptions, _super);
        function BaseRequestOptions() {
            _super.call(this, { method: RequestMethod.Get, headers: new Headers() });
        }
        BaseRequestOptions.decorators = [
            { type: Injectable },
        ];
        BaseRequestOptions.ctorParameters = function () { return []; };
        return BaseRequestOptions;
    }(RequestOptions));
    var __extends$56 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Request = (function (_super) {
        __extends$56(Request, _super);
        function Request(requestOptions) {
            _super.call(this);
            var url = requestOptions.url;
            this.url = requestOptions.url;
            if (requestOptions.search) {
                var search = requestOptions.search.toString();
                if (search.length > 0) {
                    var prefix = '?';
                    if (this.url.indexOf('?') != -1) {
                        prefix = (this.url[this.url.length - 1] == '&') ? '' : '&';
                    }
                    this.url = url + prefix + search;
                }
            }
            this._body = requestOptions.body;
            this.method = normalizeMethodName(requestOptions.method);
            this.headers = new Headers(requestOptions.headers);
            this.contentType = this.detectContentType();
            this.withCredentials = requestOptions.withCredentials;
            this.responseType = requestOptions.responseType;
        }
        Request.prototype.detectContentType = function () {
            switch (this.headers.get('content-type')) {
                case 'application/json':
                    return ContentType.JSON;
                case 'application/x-www-form-urlencoded':
                    return ContentType.FORM;
                case 'multipart/form-data':
                    return ContentType.FORM_DATA;
                case 'text/plain':
                case 'text/html':
                    return ContentType.TEXT;
                case 'application/octet-stream':
                    return ContentType.BLOB;
                default:
                    return this.detectContentTypeFromBody();
            }
        };
        Request.prototype.detectContentTypeFromBody = function () {
            if (this._body == null) {
                return ContentType.NONE;
            }
            else if (this._body instanceof URLSearchParams) {
                return ContentType.FORM;
            }
            else if (this._body instanceof FormData) {
                return ContentType.FORM_DATA;
            }
            else if (this._body instanceof Blob$1) {
                return ContentType.BLOB;
            }
            else if (this._body instanceof ArrayBuffer$1) {
                return ContentType.ARRAY_BUFFER;
            }
            else if (this._body && typeof this._body == 'object') {
                return ContentType.JSON;
            }
            else {
                return ContentType.TEXT;
            }
        };
        Request.prototype.getBody = function () {
            switch (this.contentType) {
                case ContentType.JSON:
                    return this.text();
                case ContentType.FORM:
                    return this.text();
                case ContentType.FORM_DATA:
                    return this._body;
                case ContentType.TEXT:
                    return this.text();
                case ContentType.BLOB:
                    return this.blob();
                case ContentType.ARRAY_BUFFER:
                    return this.arrayBuffer();
                default:
                    return null;
            }
        };
        return Request;
    }(Body));
    var noop$1 = function () { };
    var w = typeof window == 'object' ? window : noop$1;
    var FormData = ((w))['FormData'] || noop$1;
    var Blob$1 = ((w))['Blob'] || noop$1;
    var ArrayBuffer$1 = ((w))['ArrayBuffer'] || noop$1;
    var __extends$55 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    function httpRequest(backend, request) {
        return backend.createConnection(request).response;
    }
    function mergeOptions(defaultOpts, providedOpts, method, url) {
        var newOptions = defaultOpts;
        if (providedOpts) {
            return newOptions.merge(new RequestOptions({
                method: providedOpts.method || method,
                url: providedOpts.url || url,
                search: providedOpts.search,
                headers: providedOpts.headers,
                body: providedOpts.body,
                withCredentials: providedOpts.withCredentials,
                responseType: providedOpts.responseType
            }));
        }
        return newOptions.merge(new RequestOptions({ method: method, url: url }));
    }
    var Http = (function () {
        function Http(_backend, _defaultOptions) {
            this._backend = _backend;
            this._defaultOptions = _defaultOptions;
        }
        Http.prototype.request = function (url, options) {
            var responseObservable;
            if (typeof url === 'string') {
                responseObservable = httpRequest(this._backend, new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, (url))));
            }
            else if (url instanceof Request) {
                responseObservable = httpRequest(this._backend, url);
            }
            else {
                throw new Error('First argument must be a url string or Request instance.');
            }
            return responseObservable;
        };
        Http.prototype.get = function (url, options) {
            return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, url)));
        };
        Http.prototype.post = function (url, body, options) {
            return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, RequestMethod.Post, url)));
        };
        Http.prototype.put = function (url, body, options) {
            return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, RequestMethod.Put, url)));
        };
        Http.prototype.delete = function (url, options) {
            return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Delete, url)));
        };
        Http.prototype.patch = function (url, body, options) {
            return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, RequestMethod.Patch, url)));
        };
        Http.prototype.head = function (url, options) {
            return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Head, url)));
        };
        Http.prototype.options = function (url, options) {
            return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Options, url)));
        };
        Http.decorators = [
            { type: Injectable },
        ];
        Http.ctorParameters = function () {
            return [
                { type: ConnectionBackend, },
                { type: RequestOptions, },
            ];
        };
        return Http;
    }());
    var Jsonp = (function (_super) {
        __extends$55(Jsonp, _super);
        function Jsonp(backend, defaultOptions) {
            _super.call(this, backend, defaultOptions);
        }
        Jsonp.prototype.request = function (url, options) {
            var responseObservable;
            if (typeof url === 'string') {
                url =
                    new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, (url)));
            }
            if (url instanceof Request) {
                if (url.method !== RequestMethod.Get) {
                    throw new Error('JSONP requests must use GET request method.');
                }
                responseObservable = httpRequest(this._backend, url);
            }
            else {
                throw new Error('First argument must be a url string or Request instance.');
            }
            return responseObservable;
        };
        Jsonp.decorators = [
            { type: Injectable },
        ];
        Jsonp.ctorParameters = function () {
            return [
                { type: ConnectionBackend, },
                { type: RequestOptions, },
            ];
        };
        return Jsonp;
    }(Http));
    function _createDefaultCookieXSRFStrategy() {
        return new CookieXSRFStrategy();
    }
    function httpFactory(xhrBackend, requestOptions) {
        return new Http(xhrBackend, requestOptions);
    }
    var HttpModule = (function () {
        function HttpModule() {
        }
        HttpModule.decorators = [
            { type: NgModule, args: [{
                        providers: [
                            { provide: Http, useFactory: httpFactory, deps: [XHRBackend, RequestOptions] },
                            BrowserXhr,
                            { provide: RequestOptions, useClass: BaseRequestOptions },
                            { provide: ResponseOptions, useClass: BaseResponseOptions },
                            XHRBackend,
                            { provide: XSRFStrategy, useFactory: _createDefaultCookieXSRFStrategy },
                        ],
                    },] },
        ];
        HttpModule.ctorParameters = function () { return []; };
        return HttpModule;
    }());
    var VERSION$4 = new Version('2.4.3');
    function toInteger(value) {
        return parseInt("" + value, 10);
    }
    function toString(value) {
        return (value !== undefined && value !== null) ? "" + value : '';
    }
    function getValueInRange(value, max, min) {
        if (min === void 0) {
            min = 0;
        }
        return Math.max(Math.min(value, max), min);
    }
    function isString(value) {
        return typeof value === 'string';
    }
    function isNumber(value) {
        return !isNaN(toInteger(value));
    }
    function isDefined(value) {
        return value !== undefined && value !== null;
    }
    function padNumber(value) {
        if (isNumber(value)) {
            return ("0" + value).slice(-2);
        }
        else {
            return '';
        }
    }
    function regExpEscape(text) {
        return text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, '\\$&');
    }
    var NgbAccordionConfig = (function () {
        function NgbAccordionConfig() {
            this.closeOthers = false;
        }
        NgbAccordionConfig.decorators = [
            { type: Injectable },
        ];
        NgbAccordionConfig.ctorParameters = [];
        return NgbAccordionConfig;
    }());
    var nextId = 0;
    var NgbPanelTitle = (function () {
        function NgbPanelTitle(templateRef) {
            this.templateRef = templateRef;
        }
        NgbPanelTitle.decorators = [
            { type: Directive, args: [{ selector: 'template[ngbPanelTitle]' },] },
        ];
        NgbPanelTitle.ctorParameters = [
            { type: TemplateRef, },
        ];
        return NgbPanelTitle;
    }());
    var NgbPanelContent = (function () {
        function NgbPanelContent(templateRef) {
            this.templateRef = templateRef;
        }
        NgbPanelContent.decorators = [
            { type: Directive, args: [{ selector: 'template[ngbPanelContent]' },] },
        ];
        NgbPanelContent.ctorParameters = [
            { type: TemplateRef, },
        ];
        return NgbPanelContent;
    }());
    var NgbPanel = (function () {
        function NgbPanel() {
            this.focused = false;
            this.disabled = false;
            this.id = "ngb-panel-" + nextId++;
        }
        NgbPanel.decorators = [
            { type: Directive, args: [{ selector: 'ngb-panel' },] },
        ];
        NgbPanel.ctorParameters = [];
        NgbPanel.propDecorators = {
            'disabled': [{ type: Input },],
            'id': [{ type: Input },],
            'title': [{ type: Input },],
            'type': [{ type: Input },],
            'contentTpl': [{ type: ContentChild, args: [NgbPanelContent,] },],
            'titleTpl': [{ type: ContentChild, args: [NgbPanelTitle,] },],
        };
        return NgbPanel;
    }());
    var NgbAccordion = (function () {
        function NgbAccordion(config) {
            this._states = new Map();
            this._panelRefs = new Map();
            this.activeIds = [];
            this.panelChange = new EventEmitter();
            this.type = config.type;
            this.closeOtherPanels = config.closeOthers;
        }
        NgbAccordion.prototype.toggle = function (panelId) {
            var panel = this._panelRefs.get(panelId);
            if (panel && !panel.disabled) {
                var nextState = !this._states.get(panelId);
                var defaultPrevented_1 = false;
                this.panelChange.emit({ panelId: panelId, nextState: nextState, preventDefault: function () { defaultPrevented_1 = true; } });
                if (!defaultPrevented_1) {
                    this._states.set(panelId, nextState);
                    if (this.closeOtherPanels) {
                        this._closeOthers(panelId);
                    }
                    this._updateActiveIds();
                }
            }
        };
        NgbAccordion.prototype.ngAfterContentChecked = function () {
            if (isString(this.activeIds)) {
                this.activeIds = this.activeIds.split(/\s*,\s*/);
            }
            this._updateStates();
            if (this.activeIds.length > 1 && this.closeOtherPanels) {
                this._closeOthers(this.activeIds[0]);
                this._updateActiveIds();
            }
        };
        NgbAccordion.prototype.isOpen = function (panelId) { return this._states.get(panelId); };
        NgbAccordion.prototype._closeOthers = function (panelId) {
            var _this = this;
            this._states.forEach(function (state$$1, id) {
                if (id !== panelId) {
                    _this._states.set(id, false);
                }
            });
        };
        NgbAccordion.prototype._updateActiveIds = function () {
            var _this = this;
            this.activeIds =
                this.panels.toArray().filter(function (panel) { return _this.isOpen(panel.id) && !panel.disabled; }).map(function (panel) { return panel.id; });
        };
        NgbAccordion.prototype._updateStates = function () {
            var _this = this;
            this._states.clear();
            this._panelRefs.clear();
            this.panels.toArray().forEach(function (panel) {
                _this._states.set(panel.id, _this.activeIds.indexOf(panel.id) > -1 && !panel.disabled);
                _this._panelRefs.set(panel.id, panel);
            });
        };
        NgbAccordion.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-accordion',
                        exportAs: 'ngbAccordion',
                        host: { 'role': 'tablist', '[attr.aria-multiselectable]': '!closeOtherPanels' },
                        template: "\n  <div class=\"card\">\n    <template ngFor let-panel [ngForOf]=\"panels\">\n      <div role=\"tab\" id=\"{{panel.id}}-header\" [attr.aria-selected]=\"panel.focused\"\n        [class]=\"'card-header ' + (panel.type ? 'card-'+panel.type: type ? 'card-'+type : '')\" [class.active]=\"isOpen(panel.id)\">\n        <a href (click)=\"!!toggle(panel.id)\" (focus)=\"panel.focused = true\" \n          (blur)=\"panel.focused = false\" [class.text-muted]=\"panel.disabled\" \n          [attr.aria-expanded]=\"isOpen(panel.id)\" [attr.aria-controls]=\"panel.id\">\n          {{panel.title}}<template [ngTemplateOutlet]=\"panel.titleTpl?.templateRef\"></template>\n        </a>\n      </div>\n      <div id=\"{{panel.id}}\" role=\"tabpanel\" [attr.aria-labelledby]=\"panel.id + '-header'\" class=\"card-block\" *ngIf=\"isOpen(panel.id)\">\n        <template [ngTemplateOutlet]=\"panel.contentTpl.templateRef\"></template>\n      </div>\n    </template>\n  </div>\n"
                    },] },
        ];
        NgbAccordion.ctorParameters = [
            { type: NgbAccordionConfig, },
        ];
        NgbAccordion.propDecorators = {
            'panels': [{ type: ContentChildren, args: [NgbPanel,] },],
            'activeIds': [{ type: Input },],
            'closeOtherPanels': [{ type: Input, args: ['closeOthers',] },],
            'type': [{ type: Input },],
            'panelChange': [{ type: Output },],
        };
        return NgbAccordion;
    }());
    var NGB_ACCORDION_DIRECTIVES = [NgbAccordion, NgbPanel, NgbPanelTitle, NgbPanelContent];
    var NgbAccordionModule = (function () {
        function NgbAccordionModule() {
        }
        NgbAccordionModule.forRoot = function () { return { ngModule: NgbAccordionModule, providers: [NgbAccordionConfig] }; };
        NgbAccordionModule.decorators = [
            { type: NgModule, args: [{ declarations: NGB_ACCORDION_DIRECTIVES, exports: NGB_ACCORDION_DIRECTIVES, imports: [CommonModule] },] },
        ];
        NgbAccordionModule.ctorParameters = [];
        return NgbAccordionModule;
    }());
    var NgbAlertConfig = (function () {
        function NgbAlertConfig() {
            this.dismissible = true;
            this.type = 'warning';
        }
        NgbAlertConfig.decorators = [
            { type: Injectable },
        ];
        NgbAlertConfig.ctorParameters = [];
        return NgbAlertConfig;
    }());
    var NgbAlert = (function () {
        function NgbAlert(config) {
            this.close = new EventEmitter();
            this.dismissible = config.dismissible;
            this.type = config.type;
        }
        NgbAlert.prototype.closeHandler = function () { this.close.emit(null); };
        NgbAlert.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-alert',
                        changeDetection: ChangeDetectionStrategy.OnPush,
                        template: "\n    <div [class]=\"'alert alert-' + type\" role=\"alert\">\n      <button *ngIf=\"dismissible\" type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"closeHandler()\">\n            <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <ng-content></ng-content>\n    </div>\n    "
                    },] },
        ];
        NgbAlert.ctorParameters = [
            { type: NgbAlertConfig, },
        ];
        NgbAlert.propDecorators = {
            'dismissible': [{ type: Input },],
            'type': [{ type: Input },],
            'close': [{ type: Output },],
        };
        return NgbAlert;
    }());
    var NgbAlertModule = (function () {
        function NgbAlertModule() {
        }
        NgbAlertModule.forRoot = function () { return { ngModule: NgbAlertModule, providers: [NgbAlertConfig] }; };
        NgbAlertModule.decorators = [
            { type: NgModule, args: [{ declarations: [NgbAlert], exports: [NgbAlert], imports: [CommonModule], entryComponents: [NgbAlert] },] },
        ];
        NgbAlertModule.ctorParameters = [];
        return NgbAlertModule;
    }());
    var NGB_RADIO_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return NgbRadioGroup; }),
        multi: true
    };
    var NgbRadioGroup = (function () {
        function NgbRadioGroup() {
            this._radios = new Set();
            this._value = null;
            this.onChange = function (_) { };
            this.onTouched = function () { };
        }
        NgbRadioGroup.prototype.onRadioChange = function (radio) {
            this.writeValue(radio.value);
            this.onChange(radio.value);
        };
        NgbRadioGroup.prototype.onRadioValueUpdate = function () { this._updateRadiosValue(); };
        NgbRadioGroup.prototype.register = function (radio) { this._radios.add(radio); };
        NgbRadioGroup.prototype.registerOnChange = function (fn) { this.onChange = fn; };
        NgbRadioGroup.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
        NgbRadioGroup.prototype.setDisabledState = function (isDisabled) { this._updateRadiosDisabled(isDisabled); };
        NgbRadioGroup.prototype.unregister = function (radio) { this._radios.delete(radio); };
        NgbRadioGroup.prototype.writeValue = function (value) {
            this._value = value;
            this._updateRadiosValue();
        };
        NgbRadioGroup.prototype._updateRadiosValue = function () {
            var _this = this;
            this._radios.forEach(function (radio) { return radio.updateValue(_this._value); });
        };
        NgbRadioGroup.prototype._updateRadiosDisabled = function (isDisabled) { this._radios.forEach(function (radio) { return radio.updateDisabled(isDisabled); }); };
        NgbRadioGroup.decorators = [
            { type: Directive, args: [{
                        selector: '[ngbRadioGroup]',
                        host: { 'data-toggle': 'buttons', 'class': 'btn-group' },
                        providers: [NGB_RADIO_VALUE_ACCESSOR]
                    },] },
        ];
        NgbRadioGroup.ctorParameters = [];
        return NgbRadioGroup;
    }());
    var NgbActiveLabel = (function () {
        function NgbActiveLabel(_renderer, _elRef) {
            this._renderer = _renderer;
            this._elRef = _elRef;
        }
        Object.defineProperty(NgbActiveLabel.prototype, "active", {
            set: function (isActive) { this._renderer.setElementClass(this._elRef.nativeElement, 'active', isActive); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgbActiveLabel.prototype, "disabled", {
            set: function (isDisabled) {
                this._renderer.setElementClass(this._elRef.nativeElement, 'disabled', isDisabled);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgbActiveLabel.prototype, "focused", {
            set: function (isFocused) { this._renderer.setElementClass(this._elRef.nativeElement, 'focus', isFocused); },
            enumerable: true,
            configurable: true
        });
        NgbActiveLabel.decorators = [
            { type: Directive, args: [{ selector: 'label.btn' },] },
        ];
        NgbActiveLabel.ctorParameters = [
            { type: Renderer, },
            { type: ElementRef, },
        ];
        return NgbActiveLabel;
    }());
    var NgbRadio = (function () {
        function NgbRadio(_group, _label, _renderer, _element) {
            this._group = _group;
            this._label = _label;
            this._renderer = _renderer;
            this._element = _element;
            this._value = null;
            if (this._group) {
                this._group.register(this);
            }
        }
        Object.defineProperty(NgbRadio.prototype, "value", {
            get: function () { return this._value; },
            set: function (value) {
                this._value = value;
                var stringValue = value ? value.toString() : '';
                this._renderer.setElementProperty(this._element.nativeElement, 'value', stringValue);
                if (this._group) {
                    this._group.onRadioValueUpdate();
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgbRadio.prototype, "checked", {
            get: function () { return this._checked; },
            set: function (value) {
                this._checked = this._element.nativeElement.hasAttribute('checked') ? true : value;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgbRadio.prototype, "disabled", {
            get: function () { return this._disabled; },
            set: function (isDisabled) {
                this.updateDisabled(isDisabled !== false);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(NgbRadio.prototype, "focused", {
            set: function (isFocused) {
                if (this._label) {
                    this._label.focused = isFocused;
                }
            },
            enumerable: true,
            configurable: true
        });
        NgbRadio.prototype.ngOnDestroy = function () {
            if (this._group) {
                this._group.unregister(this);
            }
        };
        NgbRadio.prototype.onChange = function () {
            if (this._group) {
                this._group.onRadioChange(this);
            }
        };
        NgbRadio.prototype.updateValue = function (value) {
            this._checked = (this.value === value && value !== null);
            this._label.active = this._checked;
        };
        NgbRadio.prototype.updateDisabled = function (isDisabled) {
            this._disabled = isDisabled;
            if (this._label) {
                this._label.disabled = this._disabled;
            }
        };
        NgbRadio.decorators = [
            { type: Directive, args: [{
                        selector: 'input[type=radio]',
                        host: {
                            '[checked]': 'checked',
                            '[disabled]': 'disabled',
                            '(change)': 'onChange()',
                            '(focus)': 'focused = true',
                            '(blur)': 'focused = false'
                        }
                    },] },
        ];
        NgbRadio.ctorParameters = [
            { type: NgbRadioGroup, decorators: [{ type: Optional },] },
            { type: NgbActiveLabel, decorators: [{ type: Optional },] },
            { type: Renderer, },
            { type: ElementRef, },
        ];
        NgbRadio.propDecorators = {
            'value': [{ type: Input, args: ['value',] },],
            'checked': [{ type: Input, args: ['checked',] },],
            'disabled': [{ type: Input, args: ['disabled',] },],
        };
        return NgbRadio;
    }());
    var NGB_RADIO_DIRECTIVES = [NgbRadio, NgbActiveLabel, NgbRadioGroup];
    var NgbButtonsModule = (function () {
        function NgbButtonsModule() {
        }
        NgbButtonsModule.forRoot = function () { return { ngModule: NgbButtonsModule, providers: [] }; };
        NgbButtonsModule.decorators = [
            { type: NgModule, args: [{ declarations: NGB_RADIO_DIRECTIVES, exports: NGB_RADIO_DIRECTIVES },] },
        ];
        NgbButtonsModule.ctorParameters = [];
        return NgbButtonsModule;
    }());
    var NgbCarouselConfig = (function () {
        function NgbCarouselConfig() {
            this.interval = 5000;
            this.wrap = true;
            this.keyboard = true;
        }
        NgbCarouselConfig.decorators = [
            { type: Injectable },
        ];
        NgbCarouselConfig.ctorParameters = [];
        return NgbCarouselConfig;
    }());
    var nextId$1 = 0;
    var NgbSlide = (function () {
        function NgbSlide(tplRef) {
            this.tplRef = tplRef;
            this.id = "ngb-slide-" + nextId$1++;
        }
        NgbSlide.decorators = [
            { type: Directive, args: [{ selector: 'template[ngbSlide]' },] },
        ];
        NgbSlide.ctorParameters = [
            { type: TemplateRef, },
        ];
        NgbSlide.propDecorators = {
            'id': [{ type: Input },],
        };
        return NgbSlide;
    }());
    var NgbCarousel = (function () {
        function NgbCarousel(config) {
            this.interval = config.interval;
            this.wrap = config.wrap;
            this.keyboard = config.keyboard;
        }
        NgbCarousel.prototype.ngAfterContentChecked = function () {
            var activeSlide = this._getSlideById(this.activeId);
            this.activeId = activeSlide ? activeSlide.id : (this.slides.length ? this.slides.first.id : null);
        };
        NgbCarousel.prototype.ngOnInit = function () { this._startTimer(); };
        NgbCarousel.prototype.ngOnDestroy = function () { clearInterval(this._slideChangeInterval); };
        NgbCarousel.prototype.select = function (slideId) {
            this.cycleToSelected(slideId);
            this._restartTimer();
        };
        NgbCarousel.prototype.prev = function () {
            this.cycleToPrev();
            this._restartTimer();
        };
        NgbCarousel.prototype.next = function () {
            this.cycleToNext();
            this._restartTimer();
        };
        NgbCarousel.prototype.pause = function () { this._stopTimer(); };
        NgbCarousel.prototype.cycle = function () { this._startTimer(); };
        NgbCarousel.prototype.cycleToNext = function () { this.cycleToSelected(this._getNextSlide(this.activeId)); };
        NgbCarousel.prototype.cycleToPrev = function () { this.cycleToSelected(this._getPrevSlide(this.activeId)); };
        NgbCarousel.prototype.cycleToSelected = function (slideIdx) {
            var selectedSlide = this._getSlideById(slideIdx);
            if (selectedSlide) {
                this.activeId = selectedSlide.id;
            }
        };
        NgbCarousel.prototype.keyPrev = function () {
            if (this.keyboard) {
                this.prev();
            }
        };
        NgbCarousel.prototype.keyNext = function () {
            if (this.keyboard) {
                this.next();
            }
        };
        NgbCarousel.prototype._restartTimer = function () {
            this._stopTimer();
            this._startTimer();
        };
        NgbCarousel.prototype._startTimer = function () {
            var _this = this;
            if (this.interval > 0) {
                this._slideChangeInterval = setInterval(function () { _this.cycleToNext(); }, this.interval);
            }
        };
        NgbCarousel.prototype._stopTimer = function () { clearInterval(this._slideChangeInterval); };
        NgbCarousel.prototype._getSlideById = function (slideId) {
            var slideWithId = this.slides.filter(function (slide) { return slide.id === slideId; });
            return slideWithId.length ? slideWithId[0] : null;
        };
        NgbCarousel.prototype._getSlideIdxById = function (slideId) {
            return this.slides.toArray().indexOf(this._getSlideById(slideId));
        };
        NgbCarousel.prototype._getNextSlide = function (currentSlideId) {
            var slideArr = this.slides.toArray();
            var currentSlideIdx = this._getSlideIdxById(currentSlideId);
            var isLastSlide = currentSlideIdx === slideArr.length - 1;
            return isLastSlide ? (this.wrap ? slideArr[0].id : slideArr[slideArr.length - 1].id) :
                slideArr[currentSlideIdx + 1].id;
        };
        NgbCarousel.prototype._getPrevSlide = function (currentSlideId) {
            var slideArr = this.slides.toArray();
            var currentSlideIdx = this._getSlideIdxById(currentSlideId);
            var isFirstSlide = currentSlideIdx === 0;
            return isFirstSlide ? (this.wrap ? slideArr[slideArr.length - 1].id : slideArr[0].id) :
                slideArr[currentSlideIdx - 1].id;
        };
        NgbCarousel.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-carousel',
                        exportAs: 'ngbCarousel',
                        host: {
                            'class': 'carousel slide',
                            '[style.display]': '"block"',
                            'tabIndex': '0',
                            '(mouseenter)': 'pause()',
                            '(mouseleave)': 'cycle()',
                            '(keydown.arrowLeft)': 'keyPrev()',
                            '(keydown.arrowRight)': 'keyNext()'
                        },
                        template: "\n    <ol class=\"carousel-indicators\">\n      <li *ngFor=\"let slide of slides\" [id]=\"slide.id\" [class.active]=\"slide.id === activeId\" (click)=\"cycleToSelected(slide.id)\"></li>\n    </ol>\n    <div class=\"carousel-inner\" role=\"listbox\">\n      <div *ngFor=\"let slide of slides\" class=\"carousel-item\" [class.active]=\"slide.id === activeId\">\n        <template [ngTemplateOutlet]=\"slide.tplRef\"></template>\n      </div>\n    </div>\n    <a class=\"left carousel-control\" role=\"button\" (click)=\"cycleToPrev()\">\n      <span class=\"icon-prev\" aria-hidden=\"true\"></span>\n      <span class=\"sr-only\">Previous</span>\n    </a>\n    <a class=\"right carousel-control\" role=\"button\" (click)=\"cycleToNext()\">\n      <span class=\"icon-next\" aria-hidden=\"true\"></span>\n      <span class=\"sr-only\">Next</span>\n    </a>\n    "
                    },] },
        ];
        NgbCarousel.ctorParameters = [
            { type: NgbCarouselConfig, },
        ];
        NgbCarousel.propDecorators = {
            'slides': [{ type: ContentChildren, args: [NgbSlide,] },],
            'interval': [{ type: Input },],
            'wrap': [{ type: Input },],
            'keyboard': [{ type: Input },],
            'activeId': [{ type: Input },],
        };
        return NgbCarousel;
    }());
    var NGB_CAROUSEL_DIRECTIVES = [NgbCarousel, NgbSlide];
    var NgbCarouselModule = (function () {
        function NgbCarouselModule() {
        }
        NgbCarouselModule.forRoot = function () { return { ngModule: NgbCarouselModule, providers: [NgbCarouselConfig] }; };
        NgbCarouselModule.decorators = [
            { type: NgModule, args: [{ declarations: NGB_CAROUSEL_DIRECTIVES, exports: NGB_CAROUSEL_DIRECTIVES, imports: [CommonModule] },] },
        ];
        NgbCarouselModule.ctorParameters = [];
        return NgbCarouselModule;
    }());
    var NgbCollapse = (function () {
        function NgbCollapse() {
            this.collapsed = false;
        }
        NgbCollapse.decorators = [
            { type: Directive, args: [{
                        selector: '[ngbCollapse]',
                        exportAs: 'ngbCollapse',
                        host: { '[class.collapse]': 'true', '[class.in]': '!collapsed', '[attr.aria-expanded]': '!collapsed' }
                    },] },
        ];
        NgbCollapse.ctorParameters = [];
        NgbCollapse.propDecorators = {
            'collapsed': [{ type: Input, args: ['ngbCollapse',] },],
        };
        return NgbCollapse;
    }());
    var NgbCollapseModule = (function () {
        function NgbCollapseModule() {
        }
        NgbCollapseModule.forRoot = function () { return { ngModule: NgbCollapseModule, providers: [] }; };
        NgbCollapseModule.decorators = [
            { type: NgModule, args: [{ declarations: [NgbCollapse], exports: [NgbCollapse] },] },
        ];
        NgbCollapseModule.ctorParameters = [];
        return NgbCollapseModule;
    }());
    var NgbDate = (function () {
        function NgbDate(year, month, day) {
            this.year = year;
            this.month = month;
            this.day = day;
        }
        NgbDate.from = function (date) {
            return date ? new NgbDate(date.year, date.month, date.day ? date.day : 1) : null;
        };
        NgbDate.prototype.equals = function (other) {
            return other && this.year === other.year && this.month === other.month && this.day === other.day;
        };
        NgbDate.prototype.before = function (other) {
            if (!other) {
                return false;
            }
            if (this.year === other.year) {
                if (this.month === other.month) {
                    return this.day === other.day ? false : this.day < other.day;
                }
                else {
                    return this.month < other.month;
                }
            }
            else {
                return this.year < other.year;
            }
        };
        NgbDate.prototype.after = function (other) {
            if (!other) {
                return false;
            }
            if (this.year === other.year) {
                if (this.month === other.month) {
                    return this.day === other.day ? false : this.day > other.day;
                }
                else {
                    return this.month > other.month;
                }
            }
            else {
                return this.year > other.year;
            }
        };
        NgbDate.prototype.toString = function () { return this.year + "-" + this.month + "-" + this.day; };
        return NgbDate;
    }());
    var __extends$57 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    function fromJSDate(jsDate) {
        return new NgbDate(jsDate.getFullYear(), jsDate.getMonth() + 1, jsDate.getDate());
    }
    function toJSDate(date) {
        var jsDate = new Date(date.year, date.month - 1, date.day);
        if (!isNaN(jsDate.getTime())) {
            jsDate.setFullYear(date.year);
        }
        return jsDate;
    }
    var NgbCalendar = (function () {
        function NgbCalendar() {
        }
        NgbCalendar.decorators = [
            { type: Injectable },
        ];
        NgbCalendar.ctorParameters = [];
        return NgbCalendar;
    }());
    var NgbCalendarGregorian = (function (_super) {
        __extends$57(NgbCalendarGregorian, _super);
        function NgbCalendarGregorian() {
            _super.apply(this, arguments);
        }
        NgbCalendarGregorian.prototype.getDaysPerWeek = function () { return 7; };
        NgbCalendarGregorian.prototype.getMonths = function () { return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]; };
        NgbCalendarGregorian.prototype.getWeeksPerMonth = function () { return 6; };
        NgbCalendarGregorian.prototype.getNext = function (date, period, number) {
            if (period === void 0) {
                period = 'd';
            }
            if (number === void 0) {
                number = 1;
            }
            var jsDate = toJSDate(date);
            switch (period) {
                case 'y':
                    return new NgbDate(date.year + number, 1, 1);
                case 'm':
                    jsDate = new Date(date.year, date.month + number - 1, 1);
                    break;
                case 'd':
                    jsDate.setDate(jsDate.getDate() + number);
                    break;
                default:
                    return date;
            }
            return fromJSDate(jsDate);
        };
        NgbCalendarGregorian.prototype.getPrev = function (date, period, number) {
            if (period === void 0) {
                period = 'd';
            }
            if (number === void 0) {
                number = 1;
            }
            return this.getNext(date, period, -number);
        };
        NgbCalendarGregorian.prototype.getWeekday = function (date) {
            var jsDate = toJSDate(date);
            var day = jsDate.getDay();
            return day === 0 ? 7 : day;
        };
        NgbCalendarGregorian.prototype.getWeekNumber = function (week, firstDayOfWeek) {
            if (firstDayOfWeek === 7) {
                firstDayOfWeek = 0;
            }
            var thursdayIndex = (4 + 7 - firstDayOfWeek) % 7;
            var date = week[thursdayIndex];
            var jsDate = toJSDate(date);
            jsDate.setDate(jsDate.getDate() + 4 - (jsDate.getDay() || 7));
            var time = jsDate.getTime();
            jsDate.setMonth(0);
            jsDate.setDate(1);
            return Math.floor(Math.round((time - jsDate.getTime()) / 86400000) / 7) + 1;
        };
        NgbCalendarGregorian.prototype.getToday = function () { return fromJSDate(new Date()); };
        NgbCalendarGregorian.prototype.isValid = function (date) {
            return date && isNumber(date.year) && isNumber(date.month) && isNumber(date.day) &&
                !isNaN(toJSDate(date).getTime());
        };
        NgbCalendarGregorian.decorators = [
            { type: Injectable },
        ];
        NgbCalendarGregorian.ctorParameters = [];
        return NgbCalendarGregorian;
    }(NgbCalendar));
    var NgbDatepickerService = (function () {
        function NgbDatepickerService(_calendar) {
            this._calendar = _calendar;
        }
        NgbDatepickerService.prototype.generateMonthViewModel = function (date, minDate, maxDate, firstDayOfWeek, markDisabled) {
            var month = { firstDate: null, number: date.month, year: date.year, weeks: [], weekdays: [] };
            date = this._getFirstViewDate(date, firstDayOfWeek);
            for (var w = 0; w < this._calendar.getWeeksPerMonth(); w++) {
                var days = [];
                for (var d = 0; d < this._calendar.getDaysPerWeek(); d++) {
                    if (w === 0) {
                        month.weekdays.push(this._calendar.getWeekday(date));
                    }
                    var newDate = new NgbDate(date.year, date.month, date.day);
                    var disabled = (minDate && newDate.before(minDate)) || (maxDate && newDate.after(maxDate));
                    if (!disabled && markDisabled) {
                        disabled = markDisabled(newDate, { month: month.number, year: month.year });
                    }
                    if (month.firstDate === null && date.month === month.number) {
                        month.firstDate = newDate;
                    }
                    days.push({ date: newDate, disabled: disabled });
                    date = this._calendar.getNext(date);
                }
                month.weeks.push({ number: this._calendar.getWeekNumber(days.map(function (day) { return NgbDate.from(day.date); }), firstDayOfWeek), days: days });
            }
            return month;
        };
        NgbDatepickerService.prototype.toValidDate = function (date, defaultValue) {
            var ngbDate = NgbDate.from(date);
            if (defaultValue === undefined) {
                defaultValue = this._calendar.getToday();
            }
            return this._calendar.isValid(ngbDate) ? ngbDate : defaultValue;
        };
        NgbDatepickerService.prototype._getFirstViewDate = function (date, firstDayOfWeek) {
            var _this = this;
            var currentMonth = date.month;
            var today = new NgbDate(date.year, date.month, date.day);
            var yesterday = this._calendar.getPrev(today);
            var firstDayOfCurrentMonthIsAlsoFirstDayOfWeek = function () { return today.month !== yesterday.month && firstDayOfWeek === _this._calendar.getWeekday(today); };
            var reachedTheFirstDayOfTheLastWeekOfPreviousMonth = function () { return today.month !== currentMonth && firstDayOfWeek === _this._calendar.getWeekday(today); };
            while (!reachedTheFirstDayOfTheLastWeekOfPreviousMonth() && !firstDayOfCurrentMonthIsAlsoFirstDayOfWeek()) {
                today = new NgbDate(yesterday.year, yesterday.month, yesterday.day);
                yesterday = this._calendar.getPrev(yesterday);
            }
            return today;
        };
        NgbDatepickerService.decorators = [
            { type: Injectable },
        ];
        NgbDatepickerService.ctorParameters = [
            { type: NgbCalendar, },
        ];
        return NgbDatepickerService;
    }());
    var NavigationEvent;
    (function (NavigationEvent) {
        NavigationEvent[NavigationEvent["PREV"] = 0] = "PREV";
        NavigationEvent[NavigationEvent["NEXT"] = 1] = "NEXT";
    })(NavigationEvent || (NavigationEvent = {}));
    var NgbDatepickerConfig = (function () {
        function NgbDatepickerConfig() {
            this.displayMonths = 1;
            this.firstDayOfWeek = 1;
            this.navigation = 'select';
            this.outsideDays = 'visible';
            this.showWeekdays = true;
            this.showWeekNumbers = false;
        }
        NgbDatepickerConfig.decorators = [
            { type: Injectable },
        ];
        NgbDatepickerConfig.ctorParameters = [];
        return NgbDatepickerConfig;
    }());
    var __extends$58 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var WEEKDAYS = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'];
    var MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
    var NgbDatepickerI18n = (function () {
        function NgbDatepickerI18n() {
        }
        NgbDatepickerI18n.decorators = [
            { type: Injectable },
        ];
        NgbDatepickerI18n.ctorParameters = [];
        return NgbDatepickerI18n;
    }());
    var NgbDatepickerI18nDefault = (function (_super) {
        __extends$58(NgbDatepickerI18nDefault, _super);
        function NgbDatepickerI18nDefault() {
            _super.apply(this, arguments);
        }
        NgbDatepickerI18nDefault.prototype.getWeekdayName = function (weekday) { return WEEKDAYS[weekday - 1]; };
        NgbDatepickerI18nDefault.prototype.getMonthName = function (month) { return MONTHS[month - 1]; };
        NgbDatepickerI18nDefault.decorators = [
            { type: Injectable },
        ];
        NgbDatepickerI18nDefault.ctorParameters = [];
        return NgbDatepickerI18nDefault;
    }(NgbDatepickerI18n));
    var NGB_DATEPICKER_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return NgbDatepicker; }),
        multi: true
    };
    var NgbDatepicker = (function () {
        function NgbDatepicker(_service, _calendar, i18n, config) {
            this._service = _service;
            this._calendar = _calendar;
            this.i18n = i18n;
            this.months = [];
            this.navigate = new EventEmitter();
            this.disabled = false;
            this.onChange = function (_) { };
            this.onTouched = function () { };
            this.dayTemplate = config.dayTemplate;
            this.displayMonths = config.displayMonths;
            this.firstDayOfWeek = config.firstDayOfWeek;
            this.markDisabled = config.markDisabled;
            this.minDate = config.minDate;
            this.maxDate = config.maxDate;
            this.navigation = config.navigation;
            this.outsideDays = config.outsideDays;
            this.showWeekdays = config.showWeekdays;
            this.showWeekNumbers = config.showWeekNumbers;
            this.startDate = config.startDate;
        }
        NgbDatepicker.prototype.navigateTo = function (date) {
            this._setViewWithinLimits(this._service.toValidDate(date));
            this._updateData();
        };
        NgbDatepicker.prototype.ngOnInit = function () {
            this._setDates();
            this.navigateTo(this._date);
        };
        NgbDatepicker.prototype.ngOnChanges = function (changes) {
            this._setDates();
            this._setViewWithinLimits(this._date);
            if (changes['displayMonths']) {
                this.displayMonths = toInteger(this.displayMonths);
            }
            if (['startDate', 'minDate', 'maxDate', 'navigation', 'firstDayOfWeek', 'markDisabled', 'displayMonths'].some(function (input) { return !!changes[input]; })) {
                this._updateData(true);
            }
        };
        NgbDatepicker.prototype.onDateSelect = function (date) {
            this._setViewWithinLimits(date);
            this.onTouched();
            this.writeValue(date);
            this.onChange({ year: date.year, month: date.month, day: date.day });
            if (this._date.month !== this.months[0].number && this.displayMonths === 1) {
                this._updateData();
            }
        };
        NgbDatepicker.prototype.onNavigateDateSelect = function (date) {
            this._setViewWithinLimits(date);
            this._updateData();
        };
        NgbDatepicker.prototype.onNavigateEvent = function (event) {
            switch (event) {
                case NavigationEvent.PREV:
                    this._setViewWithinLimits(this._calendar.getPrev(this.months[0].firstDate, 'm'));
                    break;
                case NavigationEvent.NEXT:
                    this._setViewWithinLimits(this._calendar.getNext(this.months[0].firstDate, 'm'));
                    break;
            }
            this._updateData();
        };
        NgbDatepicker.prototype.registerOnChange = function (fn) { this.onChange = fn; };
        NgbDatepicker.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
        NgbDatepicker.prototype.writeValue = function (value) { this.model = this._service.toValidDate(value, null); };
        NgbDatepicker.prototype.setDisabledState = function (isDisabled) { this.disabled = isDisabled; };
        NgbDatepicker.prototype._setDates = function () {
            this._maxDate = NgbDate.from(this.maxDate);
            this._minDate = NgbDate.from(this.minDate);
            this._date = this._service.toValidDate(this.startDate);
            if (!this._calendar.isValid(this._minDate)) {
                this._minDate = this._calendar.getPrev(this._date, 'y', 10);
                this.minDate = { year: this._minDate.year, month: this._minDate.month, day: this._minDate.day };
            }
            if (!this._calendar.isValid(this._maxDate)) {
                this._maxDate = this._calendar.getNext(this._date, 'y', 11);
                this._maxDate = this._calendar.getPrev(this._maxDate);
                this.maxDate = { year: this._maxDate.year, month: this._maxDate.month, day: this._maxDate.day };
            }
            if (this._minDate && this._maxDate && this._maxDate.before(this._minDate)) {
                throw new Error("'maxDate' " + this._maxDate + " should be greater than 'minDate' " + this._minDate);
            }
        };
        NgbDatepicker.prototype._setViewWithinLimits = function (date) {
            if (this._minDate && date.before(this._minDate)) {
                this._date = new NgbDate(this._minDate.year, this._minDate.month, 1);
            }
            else if (this._maxDate && date.after(this._maxDate)) {
                this._date = new NgbDate(this._maxDate.year, this._maxDate.month, 1);
            }
            else {
                this._date = new NgbDate(date.year, date.month, 1);
            }
        };
        NgbDatepicker.prototype._updateData = function (force) {
            if (force === void 0) {
                force = false;
            }
            var newMonths = [];
            var _loop_1 = function (i) {
                var newDate_1 = this_1._calendar.getNext(this_1._date, 'm', i);
                var index = this_1.months.findIndex(function (month) { return month.firstDate.equals(newDate_1); });
                if (force || index === -1) {
                    newMonths.push(this_1._service.generateMonthViewModel(newDate_1, this_1._minDate, this_1._maxDate, toInteger(this_1.firstDayOfWeek), this_1.markDisabled));
                }
                else {
                    newMonths.push(this_1.months[index]);
                }
            };
            var this_1 = this;
            for (var i = 0; i < this.displayMonths; i++) {
                _loop_1(i);
            }
            var newDate = newMonths[0].firstDate;
            var oldDate = this.months[0] ? this.months[0].firstDate : null;
            this.months = newMonths;
            if (!newDate.equals(oldDate)) {
                this.navigate.emit({
                    current: oldDate ? { year: oldDate.year, month: oldDate.month } : null,
                    next: { year: newDate.year, month: newDate.month }
                });
            }
        };
        NgbDatepicker.decorators = [
            { type: Component, args: [{
                        exportAs: 'ngbDatepicker',
                        selector: 'ngb-datepicker',
                        host: { 'class': 'd-inline-block' },
                        styles: ["\n    .month:first-child {\n      padding-left: 0 !important;\n    }\n  "],
                        template: "\n    <template #dt let-date=\"date\" let-currentMonth=\"currentMonth\" let-selected=\"selected\" let-disabled=\"disabled\">\n       <div ngbDatepickerDayView [date]=\"date\" [currentMonth]=\"currentMonth\" [selected]=\"selected\" [disabled]=\"disabled\"></div>\n    </template>\n\n    <ngb-datepicker-navigation *ngIf=\"navigation !== 'none'\"\n      [date]=\"months[0]?.firstDate\"\n      [minDate]=\"_minDate\"\n      [maxDate]=\"_maxDate\"\n      [disabled]=\"disabled\"\n      [showWeekNumbers]=\"showWeekNumbers\"\n      [showSelect]=\"navigation === 'select'\"\n      (navigate)=\"onNavigateEvent($event)\"\n      (select)=\"onNavigateDateSelect($event)\">\n    </ngb-datepicker-navigation>\n\n    <table>\n      <tr *ngIf=\"navigation !== 'select' || displayMonths > 1\">\n        <td *ngFor=\"let month of months\" class=\"text-xs-center font-weight-bold\">\n          {{ i18n.getMonthName(month.number) }} {{ month.year }}\n        </td>\n      </tr>\n      <tr>\n        <td *ngFor=\"let month of months\" class=\"pl-1 month\">\n          <ngb-datepicker-month-view\n            [month]=\"month\"\n            [selectedDate]=\"model\"\n            [dayTemplate]=\"dayTemplate || dt\"\n            [showWeekdays]=\"showWeekdays\"\n            [showWeekNumbers]=\"showWeekNumbers\"\n            [disabled]=\"disabled\"\n            [outsideDays]=\"displayMonths === 1 ? outsideDays : 'hidden'\"\n            (select)=\"onDateSelect($event)\">\n          </ngb-datepicker-month-view>\n        </td>\n      </tr>\n    </table>\n  ",
                        providers: [NGB_DATEPICKER_VALUE_ACCESSOR]
                    },] },
        ];
        NgbDatepicker.ctorParameters = [
            { type: NgbDatepickerService, },
            { type: NgbCalendar, },
            { type: NgbDatepickerI18n, },
            { type: NgbDatepickerConfig, },
        ];
        NgbDatepicker.propDecorators = {
            'dayTemplate': [{ type: Input },],
            'displayMonths': [{ type: Input },],
            'firstDayOfWeek': [{ type: Input },],
            'markDisabled': [{ type: Input },],
            'minDate': [{ type: Input },],
            'maxDate': [{ type: Input },],
            'navigation': [{ type: Input },],
            'outsideDays': [{ type: Input },],
            'showWeekdays': [{ type: Input },],
            'showWeekNumbers': [{ type: Input },],
            'startDate': [{ type: Input },],
            'navigate': [{ type: Output },],
        };
        return NgbDatepicker;
    }());
    var NgbDatepickerMonthView = (function () {
        function NgbDatepickerMonthView(i18n) {
            this.i18n = i18n;
            this.select = new EventEmitter();
        }
        NgbDatepickerMonthView.prototype.doSelect = function (day) {
            if (!this.isDisabled(day) && !this.isCollapsed(day) && !this.isHidden(day)) {
                this.select.emit(NgbDate.from(day.date));
            }
        };
        NgbDatepickerMonthView.prototype.isDisabled = function (day) { return this.disabled || day.disabled; };
        NgbDatepickerMonthView.prototype.isSelected = function (date) { return this.selectedDate && this.selectedDate.equals(date); };
        NgbDatepickerMonthView.prototype.isCollapsed = function (day) { return this.outsideDays === 'collapsed' && this.month.number !== day.date.month; };
        NgbDatepickerMonthView.prototype.isHidden = function (day) { return this.outsideDays === 'hidden' && this.month.number !== day.date.month; };
        NgbDatepickerMonthView.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-datepicker-month-view',
                        styles: ["\n    .weekday {\n    }\n    .weeknumber {\n    }\n    .day {\n      padding: 0;\n      height: 100%;\n      cursor: pointer;\n    }\n    .day.disabled, .day.hidden, .day.collapsed {\n      cursor: default;\n    }\n    :host/deep/.day.collapsed > * {\n      display: none;\n    }\n    :host/deep/.day.hidden > * {\n      visibility: hidden;\n    }\n  "],
                        template: "\n    <table>\n      <tr *ngIf=\"showWeekdays\">\n        <td *ngIf=\"showWeekNumbers\"></td>\n        <td *ngFor=\"let w of month.weekdays\" class=\"weekday text-xs-center font-weight-bold\">{{ i18n.getWeekdayName(w) }}</td>\n      </tr>\n      <tr *ngFor=\"let week of month.weeks\">\n        <td *ngIf=\"showWeekNumbers\" class=\"weeknumber small text-xs-center\">{{ week.number }}</td>\n        <td *ngFor=\"let day of week.days\" (click)=\"doSelect(day)\" class=\"day\" [class.disabled]=\"isDisabled(day)\"\n        [class.collapsed]=\"isCollapsed(day)\" [class.hidden]=\"isHidden(day)\">\n            <template [ngTemplateOutlet]=\"dayTemplate\"\n            [ngOutletContext]=\"{date: {year: day.date.year, month: day.date.month, day: day.date.day},\n              currentMonth: month.number,\n              disabled: isDisabled(day),\n              selected: isSelected(day.date)}\">\n            </template>\n        </td>\n      </tr>\n    </table>\n  "
                    },] },
        ];
        NgbDatepickerMonthView.ctorParameters = [
            { type: NgbDatepickerI18n, },
        ];
        NgbDatepickerMonthView.propDecorators = {
            'dayTemplate': [{ type: Input },],
            'disabled': [{ type: Input },],
            'month': [{ type: Input },],
            'outsideDays': [{ type: Input },],
            'selectedDate': [{ type: Input },],
            'showWeekdays': [{ type: Input },],
            'showWeekNumbers': [{ type: Input },],
            'select': [{ type: Output },],
        };
        return NgbDatepickerMonthView;
    }());
    var NgbDatepickerNavigation = (function () {
        function NgbDatepickerNavigation(i18n, _calendar) {
            this.i18n = i18n;
            this._calendar = _calendar;
            this.navigation = NavigationEvent;
            this.navigate = new EventEmitter();
            this.select = new EventEmitter();
        }
        NgbDatepickerNavigation.prototype.doNavigate = function (event) { this.navigate.emit(event); };
        NgbDatepickerNavigation.prototype.nextDisabled = function () {
            return this.disabled || (this.maxDate && this._calendar.getNext(this.date, 'm').after(this.maxDate));
        };
        NgbDatepickerNavigation.prototype.prevDisabled = function () {
            var prevDate = this._calendar.getPrev(this.date, 'm');
            return this.disabled || (this.minDate && prevDate.year <= this.minDate.year && prevDate.month < this.minDate.month);
        };
        NgbDatepickerNavigation.prototype.selectDate = function (date) { this.select.emit(date); };
        NgbDatepickerNavigation.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-datepicker-navigation',
                        styles: ["\n    .collapsed {\n        margin-bottom: -1.7rem;\n    }\n  "],
                        template: "\n    <table class=\"w-100\" [class.collapsed]=\"!showSelect\">\n      <tr>\n        <td class=\"text-sm-left\">\n          <button type=\"button\" (click)=\"doNavigate(navigation.PREV)\" class=\"btn btn-sm btn-secondary btn-inline\" \n            [disabled]=\"prevDisabled()\">&lt;</button>\n        </td>\n        \n        <td *ngIf=\"showSelect\">\n          <ngb-datepicker-navigation-select\n            [date]=\"date\"\n            [minDate]=\"minDate\"\n            [maxDate]=\"maxDate\"\n            [disabled] = \"disabled\"\n            (select)=\"selectDate($event)\">\n          </ngb-datepicker-navigation-select>\n        </td>        \n        \n        <td class=\"text-sm-right\">\n          <button type=\"button\" (click)=\"doNavigate(navigation.NEXT)\" class=\"next btn btn-sm btn-secondary btn-inline\" \n            [disabled]=\"nextDisabled()\">&gt;</button>\n        </td>\n      </tr>\n    </table>\n  "
                    },] },
        ];
        NgbDatepickerNavigation.ctorParameters = [
            { type: NgbDatepickerI18n, },
            { type: NgbCalendar, },
        ];
        NgbDatepickerNavigation.propDecorators = {
            'date': [{ type: Input },],
            'disabled': [{ type: Input },],
            'maxDate': [{ type: Input },],
            'minDate': [{ type: Input },],
            'showSelect': [{ type: Input },],
            'showWeekNumbers': [{ type: Input },],
            'navigate': [{ type: Output },],
            'select': [{ type: Output },],
        };
        return NgbDatepickerNavigation;
    }());
    var __extends$59 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var NgbDateParserFormatter = (function () {
        function NgbDateParserFormatter() {
        }
        return NgbDateParserFormatter;
    }());
    var NgbDateISOParserFormatter = (function (_super) {
        __extends$59(NgbDateISOParserFormatter, _super);
        function NgbDateISOParserFormatter() {
            _super.apply(this, arguments);
        }
        NgbDateISOParserFormatter.prototype.parse = function (value) {
            if (value) {
                var dateParts = value.trim().split('-');
                if (dateParts.length === 1 && isNumber(dateParts[0])) {
                    return { year: toInteger(dateParts[0]), month: null, day: null };
                }
                else if (dateParts.length === 2 && isNumber(dateParts[0]) && isNumber(dateParts[1])) {
                    return { year: toInteger(dateParts[0]), month: toInteger(dateParts[1]), day: null };
                }
                else if (dateParts.length === 3 && isNumber(dateParts[0]) && isNumber(dateParts[1]) && isNumber(dateParts[2])) {
                    return { year: toInteger(dateParts[0]), month: toInteger(dateParts[1]), day: toInteger(dateParts[2]) };
                }
            }
            return null;
        };
        NgbDateISOParserFormatter.prototype.format = function (date) {
            return date ?
                date.year + "-" + (isNumber(date.month) ? padNumber(date.month) : '') + "-" + (isNumber(date.day) ? padNumber(date.day) : '') :
                '';
        };
        return NgbDateISOParserFormatter;
    }(NgbDateParserFormatter));
    var Positioning = (function () {
        function Positioning() {
        }
        Positioning.prototype.getStyle = function (element, prop) { return window.getComputedStyle(element)[prop]; };
        Positioning.prototype.isStaticPositioned = function (element) {
            return (this.getStyle(element, 'position') || 'static') === 'static';
        };
        Positioning.prototype.offsetParent = function (element) {
            var offsetParentEl = element.offsetParent || document.documentElement;
            while (offsetParentEl && offsetParentEl !== document.documentElement && this.isStaticPositioned(offsetParentEl)) {
                offsetParentEl = offsetParentEl.offsetParent;
            }
            return offsetParentEl || document.documentElement;
        };
        Positioning.prototype.position = function (element, round) {
            if (round === void 0) {
                round = true;
            }
            var elPosition;
            var parentOffset = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };
            if (this.getStyle(element, 'position') === 'fixed') {
                elPosition = element.getBoundingClientRect();
            }
            else {
                var offsetParentEl = this.offsetParent(element);
                elPosition = this.offset(element, false);
                if (offsetParentEl !== document.documentElement) {
                    parentOffset = this.offset(offsetParentEl, false);
                }
                parentOffset.top += offsetParentEl.clientTop;
                parentOffset.left += offsetParentEl.clientLeft;
            }
            elPosition.top -= parentOffset.top;
            elPosition.bottom -= parentOffset.top;
            elPosition.left -= parentOffset.left;
            elPosition.right -= parentOffset.left;
            if (round) {
                elPosition.top = Math.round(elPosition.top);
                elPosition.bottom = Math.round(elPosition.bottom);
                elPosition.left = Math.round(elPosition.left);
                elPosition.right = Math.round(elPosition.right);
            }
            return elPosition;
        };
        Positioning.prototype.offset = function (element, round) {
            if (round === void 0) {
                round = true;
            }
            var elBcr = element.getBoundingClientRect();
            var viewportOffset = {
                top: window.pageYOffset - document.documentElement.clientTop,
                left: window.pageXOffset - document.documentElement.clientLeft
            };
            var elOffset = {
                height: elBcr.height || element.offsetHeight,
                width: elBcr.width || element.offsetWidth,
                top: elBcr.top + viewportOffset.top,
                bottom: elBcr.bottom + viewportOffset.top,
                left: elBcr.left + viewportOffset.left,
                right: elBcr.right + viewportOffset.left
            };
            if (round) {
                elOffset.height = Math.round(elOffset.height);
                elOffset.width = Math.round(elOffset.width);
                elOffset.top = Math.round(elOffset.top);
                elOffset.bottom = Math.round(elOffset.bottom);
                elOffset.left = Math.round(elOffset.left);
                elOffset.right = Math.round(elOffset.right);
            }
            return elOffset;
        };
        Positioning.prototype.positionElements = function (hostElement, targetElement, placement, appendToBody) {
            var hostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);
            var shiftWidth = {
                left: hostElPosition.left,
                center: hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2,
                right: hostElPosition.left + hostElPosition.width
            };
            var shiftHeight = {
                top: hostElPosition.top,
                center: hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2,
                bottom: hostElPosition.top + hostElPosition.height
            };
            var targetElBCR = targetElement.getBoundingClientRect();
            var placementPrimary = placement.split('-')[0] || 'top';
            var placementSecondary = placement.split('-')[1] || 'center';
            var targetElPosition = {
                height: targetElBCR.height || targetElement.offsetHeight,
                width: targetElBCR.width || targetElement.offsetWidth,
                top: 0,
                bottom: targetElBCR.height || targetElement.offsetHeight,
                left: 0,
                right: targetElBCR.width || targetElement.offsetWidth
            };
            switch (placementPrimary) {
                case 'top':
                    targetElPosition.top = hostElPosition.top - targetElement.offsetHeight;
                    targetElPosition.bottom += hostElPosition.top - targetElement.offsetHeight;
                    targetElPosition.left = shiftWidth[placementSecondary];
                    targetElPosition.right += shiftWidth[placementSecondary];
                    break;
                case 'bottom':
                    targetElPosition.top = shiftHeight[placementPrimary];
                    targetElPosition.bottom += shiftHeight[placementPrimary];
                    targetElPosition.left = shiftWidth[placementSecondary];
                    targetElPosition.right += shiftWidth[placementSecondary];
                    break;
                case 'left':
                    targetElPosition.top = shiftHeight[placementSecondary];
                    targetElPosition.bottom += shiftHeight[placementSecondary];
                    targetElPosition.left = hostElPosition.left - targetElement.offsetWidth;
                    targetElPosition.right += hostElPosition.left - targetElement.offsetWidth;
                    break;
                case 'right':
                    targetElPosition.top = shiftHeight[placementSecondary];
                    targetElPosition.bottom += shiftHeight[placementSecondary];
                    targetElPosition.left = shiftWidth[placementPrimary];
                    targetElPosition.right += shiftWidth[placementPrimary];
                    break;
            }
            targetElPosition.top = Math.round(targetElPosition.top);
            targetElPosition.bottom = Math.round(targetElPosition.bottom);
            targetElPosition.left = Math.round(targetElPosition.left);
            targetElPosition.right = Math.round(targetElPosition.right);
            return targetElPosition;
        };
        return Positioning;
    }());
    var positionService = new Positioning();
    function positionElements(hostElement, targetElement, placement, appendToBody) {
        var pos = positionService.positionElements(hostElement, targetElement, placement, appendToBody);
        targetElement.style.top = pos.top + "px";
        targetElement.style.left = pos.left + "px";
    }
    var NGB_DATEPICKER_VALUE_ACCESSOR$1 = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return NgbInputDatepicker; }),
        multi: true
    };
    var NgbInputDatepicker = (function () {
        function NgbInputDatepicker(_parserFormatter, _elRef, _vcRef, _renderer, _cfr, ngZone, _service) {
            var _this = this;
            this._parserFormatter = _parserFormatter;
            this._elRef = _elRef;
            this._vcRef = _vcRef;
            this._renderer = _renderer;
            this._cfr = _cfr;
            this._service = _service;
            this._cRef = null;
            this.navigate = new EventEmitter();
            this._onChange = function (_) { };
            this._onTouched = function () { };
            this._zoneSubscription = ngZone.onStable.subscribe(function () {
                if (_this._cRef) {
                    positionElements(_this._elRef.nativeElement, _this._cRef.location.nativeElement, 'bottom-left');
                }
            });
        }
        NgbInputDatepicker.prototype.registerOnChange = function (fn) { this._onChange = fn; };
        NgbInputDatepicker.prototype.registerOnTouched = function (fn) { this._onTouched = fn; };
        NgbInputDatepicker.prototype.writeValue = function (value) {
            this._model =
                value ? this._service.toValidDate({ year: value.year, month: value.month, day: value.day }, null) : null;
            this._writeModelValue(this._model);
        };
        NgbInputDatepicker.prototype.setDisabledState = function (isDisabled) {
            this._renderer.setElementProperty(this._elRef.nativeElement, 'disabled', isDisabled);
            if (this.isOpen()) {
                this._cRef.instance.setDisabledState(isDisabled);
            }
        };
        NgbInputDatepicker.prototype.manualDateChange = function (value) {
            this._model = this._service.toValidDate(this._parserFormatter.parse(value), null);
            this._onChange(this._model ? { year: this._model.year, month: this._model.month, day: this._model.day } : null);
            this._writeModelValue(this._model);
        };
        NgbInputDatepicker.prototype.isOpen = function () { return !!this._cRef; };
        NgbInputDatepicker.prototype.open = function () {
            var _this = this;
            if (!this.isOpen()) {
                var cf = this._cfr.resolveComponentFactory(NgbDatepicker);
                this._cRef = this._vcRef.createComponent(cf);
                this._applyPopupStyling(this._cRef.location.nativeElement);
                this._cRef.instance.writeValue(this._model);
                this._applyDatepickerInputs(this._cRef.instance);
                this._subscribeForDatepickerOutputs(this._cRef.instance);
                this._cRef.instance.ngOnInit();
                this._cRef.instance.registerOnChange(function (selectedDate) {
                    _this.writeValue(selectedDate);
                    _this._onChange(selectedDate);
                    _this.close();
                });
            }
        };
        NgbInputDatepicker.prototype.close = function () {
            if (this.isOpen()) {
                this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView));
                this._cRef = null;
            }
        };
        NgbInputDatepicker.prototype.toggle = function () {
            if (this.isOpen()) {
                this.close();
            }
            else {
                this.open();
            }
        };
        NgbInputDatepicker.prototype.navigateTo = function (date) {
            if (this.isOpen()) {
                this._cRef.instance.navigateTo(date);
            }
        };
        NgbInputDatepicker.prototype.onBlur = function () { this._onTouched(); };
        NgbInputDatepicker.prototype._applyDatepickerInputs = function (datepickerInstance) {
            var _this = this;
            ['dayTemplate', 'displayMonths', 'firstDayOfWeek', 'markDisabled', 'minDate', 'maxDate', 'navigation',
                'outsideDays', 'showNavigation', 'showWeekdays', 'showWeekNumbers']
                .forEach(function (optionName) {
                if (_this[optionName] !== undefined) {
                    datepickerInstance[optionName] = _this[optionName];
                }
            });
            datepickerInstance.startDate = this.startDate || this._model;
        };
        NgbInputDatepicker.prototype._applyPopupStyling = function (nativeElement) {
            this._renderer.setElementClass(nativeElement, 'dropdown-menu', true);
            this._renderer.setElementStyle(nativeElement, 'display', 'block');
            this._renderer.setElementStyle(nativeElement, 'padding', '0.40rem');
        };
        NgbInputDatepicker.prototype._subscribeForDatepickerOutputs = function (datepickerInstance) {
            var _this = this;
            datepickerInstance.navigate.subscribe(function (date) { return _this.navigate.emit(date); });
        };
        NgbInputDatepicker.prototype._writeModelValue = function (model) {
            this._renderer.setElementProperty(this._elRef.nativeElement, 'value', this._parserFormatter.format(model));
            if (this.isOpen()) {
                this._cRef.instance.writeValue(model);
                this._onTouched();
            }
        };
        NgbInputDatepicker.decorators = [
            { type: Directive, args: [{
                        selector: 'input[ngbDatepicker]',
                        exportAs: 'ngbDatepicker',
                        host: { '(change)': 'manualDateChange($event.target.value)', '(keyup.esc)': 'close()', '(blur)': 'onBlur()' },
                        providers: [NGB_DATEPICKER_VALUE_ACCESSOR$1]
                    },] },
        ];
        NgbInputDatepicker.ctorParameters = [
            { type: NgbDateParserFormatter, },
            { type: ElementRef, },
            { type: ViewContainerRef, },
            { type: Renderer, },
            { type: ComponentFactoryResolver, },
            { type: NgZone, },
            { type: NgbDatepickerService, },
        ];
        NgbInputDatepicker.propDecorators = {
            'dayTemplate': [{ type: Input },],
            'displayMonths': [{ type: Input },],
            'firstDayOfWeek': [{ type: Input },],
            'markDisabled': [{ type: Input },],
            'minDate': [{ type: Input },],
            'maxDate': [{ type: Input },],
            'navigation': [{ type: Input },],
            'outsideDays': [{ type: Input },],
            'showWeekdays': [{ type: Input },],
            'showWeekNumbers': [{ type: Input },],
            'startDate': [{ type: Input },],
            'navigate': [{ type: Output },],
        };
        return NgbInputDatepicker;
    }());
    var NgbDatepickerDayView = (function () {
        function NgbDatepickerDayView() {
        }
        NgbDatepickerDayView.prototype.isMuted = function () { return !this.selected && (this.date.month !== this.currentMonth || this.disabled); };
        NgbDatepickerDayView.decorators = [
            { type: Component, args: [{
                        selector: '[ngbDatepickerDayView]',
                        styles: ["\n    :host {      \n      text-align: center;\n      padding: 0.185rem 0.25rem;      \n      border-radius: 0.25rem;\n    }\n  "],
                        host: {
                            '[class.bg-primary]': 'selected',
                            '[class.text-white]': 'selected',
                            '[class.text-muted]': 'isMuted()',
                            '[class.btn-secondary]': '!disabled'
                        },
                        template: "{{ date.day }}"
                    },] },
        ];
        NgbDatepickerDayView.ctorParameters = [];
        NgbDatepickerDayView.propDecorators = {
            'currentMonth': [{ type: Input },],
            'date': [{ type: Input },],
            'disabled': [{ type: Input },],
            'selected': [{ type: Input },],
        };
        return NgbDatepickerDayView;
    }());
    var NgbDatepickerNavigationSelect = (function () {
        function NgbDatepickerNavigationSelect(i18n, calendar) {
            this.i18n = i18n;
            this.calendar = calendar;
            this.years = [];
            this.select = new EventEmitter();
            this.months = calendar.getMonths();
        }
        NgbDatepickerNavigationSelect.prototype.ngOnChanges = function (changes) {
            if (changes['maxDate'] || changes['minDate']) {
                this._generateYears();
                this._generateMonths();
            }
            if (changes['date'] && changes['date'].currentValue.year !== changes['date'].previousValue.year) {
                this._generateMonths();
            }
        };
        NgbDatepickerNavigationSelect.prototype.changeMonth = function (month) { this.select.emit(new NgbDate(this.date.year, toInteger(month), 1)); };
        NgbDatepickerNavigationSelect.prototype.changeYear = function (year) { this.select.emit(new NgbDate(toInteger(year), this.date.month, 1)); };
        NgbDatepickerNavigationSelect.prototype._generateMonths = function () {
            var _this = this;
            this.months = this.calendar.getMonths();
            if (this.date.year === this.minDate.year) {
                var index = this.months.findIndex(function (month) { return month === _this.minDate.month; });
                this.months = this.months.slice(index);
            }
            if (this.date.year === this.maxDate.year) {
                var index = this.months.findIndex(function (month) { return month === _this.maxDate.month; });
                this.months = this.months.slice(0, index + 1);
            }
        };
        NgbDatepickerNavigationSelect.prototype._generateYears = function () {
            var _this = this;
            this.years = Array.from({ length: this.maxDate.year - this.minDate.year + 1 }, function (e, i) { return _this.minDate.year + i; });
        };
        NgbDatepickerNavigationSelect.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-datepicker-navigation-select',
                        styles: ["\n    select {\n      /* to align with btn-sm */\n      padding: 0.25rem 0.5rem;\n      font-size: 0.875rem;      \n      line-height: 1.25;\n      /* to cancel the custom height set by custom-select */\n      height: inherit;\n      width: 50%;\n    }\n  "],
                        template: "\n    <select [disabled]=\"disabled\" class=\"custom-select d-inline-block\" [value]=\"date.month\" (change)=\"changeMonth($event.target.value)\">\n      <option *ngFor=\"let m of months\" [value]=\"m\">{{ i18n.getMonthName(m) }}</option>\n    </select>" +
                            "<select [disabled]=\"disabled\" class=\"custom-select d-inline-block\" [value]=\"date.year\" (change)=\"changeYear($event.target.value)\">\n      <option *ngFor=\"let y of years\" [value]=\"y\">{{ y }}</option>\n    </select> \n  "
                    },] },
        ];
        NgbDatepickerNavigationSelect.ctorParameters = [
            { type: NgbDatepickerI18n, },
            { type: NgbCalendar, },
        ];
        NgbDatepickerNavigationSelect.propDecorators = {
            'date': [{ type: Input },],
            'disabled': [{ type: Input },],
            'maxDate': [{ type: Input },],
            'minDate': [{ type: Input },],
            'select': [{ type: Output },],
        };
        return NgbDatepickerNavigationSelect;
    }());
    var NgbDatepickerModule = (function () {
        function NgbDatepickerModule() {
        }
        NgbDatepickerModule.forRoot = function () {
            return {
                ngModule: NgbDatepickerModule,
                providers: [
                    { provide: NgbCalendar, useClass: NgbCalendarGregorian },
                    { provide: NgbDatepickerI18n, useClass: NgbDatepickerI18nDefault },
                    { provide: NgbDateParserFormatter, useClass: NgbDateISOParserFormatter }, NgbDatepickerService,
                    NgbDatepickerConfig
                ]
            };
        };
        NgbDatepickerModule.decorators = [
            { type: NgModule, args: [{
                        declarations: [
                            NgbDatepicker, NgbDatepickerMonthView, NgbDatepickerNavigation, NgbDatepickerNavigationSelect, NgbDatepickerDayView,
                            NgbInputDatepicker
                        ],
                        exports: [NgbDatepicker, NgbInputDatepicker],
                        imports: [CommonModule, FormsModule],
                        entryComponents: [NgbDatepicker]
                    },] },
        ];
        NgbDatepickerModule.ctorParameters = [];
        return NgbDatepickerModule;
    }());
    var NgbDropdownConfig = (function () {
        function NgbDropdownConfig() {
            this.up = false;
            this.autoClose = true;
        }
        NgbDropdownConfig.decorators = [
            { type: Injectable },
        ];
        NgbDropdownConfig.ctorParameters = [];
        return NgbDropdownConfig;
    }());
    var NgbDropdown = (function () {
        function NgbDropdown(config) {
            this._open = false;
            this.openChange = new EventEmitter();
            this.up = config.up;
            this.autoClose = config.autoClose;
        }
        NgbDropdown.prototype.isOpen = function () { return this._open; };
        NgbDropdown.prototype.open = function () {
            if (!this._open) {
                this._open = true;
                this.openChange.emit(true);
            }
        };
        NgbDropdown.prototype.close = function () {
            if (this._open) {
                this._open = false;
                this.openChange.emit(false);
            }
        };
        NgbDropdown.prototype.toggle = function () {
            if (this.isOpen()) {
                this.close();
            }
            else {
                this.open();
            }
        };
        NgbDropdown.prototype.closeFromOutsideClick = function ($event) {
            if (this.autoClose && !this._isEventFromToggle($event)) {
                this.close();
            }
        };
        NgbDropdown.prototype.closeFromOutsideEsc = function () {
            if (this.autoClose) {
                this.close();
            }
        };
        Object.defineProperty(NgbDropdown.prototype, "toggleElement", {
            set: function (toggleElement) { this._toggleElement = toggleElement; },
            enumerable: true,
            configurable: true
        });
        NgbDropdown.prototype._isEventFromToggle = function ($event) { return !!this._toggleElement && this._toggleElement.contains($event.target); };
        NgbDropdown.decorators = [
            { type: Directive, args: [{
                        selector: '[ngbDropdown]',
                        exportAs: 'ngbDropdown',
                        host: {
                            '[class.dropdown]': '!up',
                            '[class.dropup]': 'up',
                            '[class.open]': 'isOpen()',
                            '(keyup.esc)': 'closeFromOutsideEsc()',
                            '(document:click)': 'closeFromOutsideClick($event)'
                        }
                    },] },
        ];
        NgbDropdown.ctorParameters = [
            { type: NgbDropdownConfig, },
        ];
        NgbDropdown.propDecorators = {
            'up': [{ type: Input },],
            'autoClose': [{ type: Input },],
            '_open': [{ type: Input, args: ['open',] },],
            'openChange': [{ type: Output },],
        };
        return NgbDropdown;
    }());
    var NgbDropdownToggle = (function () {
        function NgbDropdownToggle(dropdown, elementRef) {
            this.dropdown = dropdown;
            dropdown.toggleElement = elementRef.nativeElement;
        }
        NgbDropdownToggle.prototype.toggleOpen = function () { this.dropdown.toggle(); };
        NgbDropdownToggle.decorators = [
            { type: Directive, args: [{
                        selector: '[ngbDropdownToggle]',
                        host: {
                            'class': 'dropdown-toggle',
                            'aria-haspopup': 'true',
                            '[attr.aria-expanded]': 'dropdown.isOpen()',
                            '(click)': 'toggleOpen()'
                        }
                    },] },
        ];
        NgbDropdownToggle.ctorParameters = [
            { type: NgbDropdown, },
            { type: ElementRef, },
        ];
        return NgbDropdownToggle;
    }());
    var NGB_DROPDOWN_DIRECTIVES = [NgbDropdownToggle, NgbDropdown];
    var NgbDropdownModule = (function () {
        function NgbDropdownModule() {
        }
        NgbDropdownModule.forRoot = function () { return { ngModule: NgbDropdownModule, providers: [NgbDropdownConfig] }; };
        NgbDropdownModule.decorators = [
            { type: NgModule, args: [{ declarations: NGB_DROPDOWN_DIRECTIVES, exports: NGB_DROPDOWN_DIRECTIVES },] },
        ];
        NgbDropdownModule.ctorParameters = [];
        return NgbDropdownModule;
    }());
    var ContentRef = (function () {
        function ContentRef(nodes, viewRef, componentRef) {
            this.nodes = nodes;
            this.viewRef = viewRef;
            this.componentRef = componentRef;
        }
        return ContentRef;
    }());
    var PopupService = (function () {
        function PopupService(type, _injector, _viewContainerRef, _renderer, componentFactoryResolver) {
            this._injector = _injector;
            this._viewContainerRef = _viewContainerRef;
            this._renderer = _renderer;
            this._windowFactory = componentFactoryResolver.resolveComponentFactory(type);
        }
        PopupService.prototype.open = function (content) {
            if (!this._windowRef) {
                this._contentRef = this._getContentRef(content);
                this._windowRef =
                    this._viewContainerRef.createComponent(this._windowFactory, 0, this._injector, this._contentRef.nodes);
            }
            return this._windowRef;
        };
        PopupService.prototype.close = function () {
            if (this._windowRef) {
                this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView));
                this._windowRef = null;
                if (this._contentRef.viewRef) {
                    this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));
                    this._contentRef = null;
                }
            }
        };
        PopupService.prototype._getContentRef = function (content) {
            if (!content) {
                return new ContentRef([]);
            }
            else if (content instanceof TemplateRef) {
                var viewRef = this._viewContainerRef.createEmbeddedView(content);
                return new ContentRef([viewRef.rootNodes], viewRef);
            }
            else {
                return new ContentRef([[this._renderer.createText(null, "" + content)]]);
            }
        };
        return PopupService;
    }());
    var NgbModalBackdrop = (function () {
        function NgbModalBackdrop() {
        }
        NgbModalBackdrop.decorators = [
            { type: Component, args: [{ selector: 'ngb-modal-backdrop', template: '', host: { 'class': 'modal-backdrop fade in' } },] },
        ];
        NgbModalBackdrop.ctorParameters = [];
        return NgbModalBackdrop;
    }());
    var ModalDismissReasons;
    (function (ModalDismissReasons) {
        ModalDismissReasons[ModalDismissReasons["BACKDROP_CLICK"] = 0] = "BACKDROP_CLICK";
        ModalDismissReasons[ModalDismissReasons["ESC"] = 1] = "ESC";
    })(ModalDismissReasons || (ModalDismissReasons = {}));
    var NgbModalWindow = (function () {
        function NgbModalWindow(_elRef, _renderer) {
            this._elRef = _elRef;
            this._renderer = _renderer;
            this.backdrop = true;
            this.keyboard = true;
            this.dismissEvent = new EventEmitter();
        }
        NgbModalWindow.prototype.backdropClick = function ($event) {
            if (this.backdrop === true && this._elRef.nativeElement === $event.target) {
                this.dismiss(ModalDismissReasons.BACKDROP_CLICK);
            }
        };
        NgbModalWindow.prototype.escKey = function ($event) {
            if (this.keyboard && !$event.defaultPrevented) {
                this.dismiss(ModalDismissReasons.ESC);
            }
        };
        NgbModalWindow.prototype.dismiss = function (reason) { this.dismissEvent.emit(reason); };
        NgbModalWindow.prototype.ngOnInit = function () {
            this._elWithFocus = document.activeElement;
            this._renderer.setElementClass(document.body, 'modal-open', true);
        };
        NgbModalWindow.prototype.ngAfterViewInit = function () {
            if (!this._elRef.nativeElement.contains(document.activeElement)) {
                this._renderer.invokeElementMethod(this._elRef.nativeElement, 'focus', []);
            }
        };
        NgbModalWindow.prototype.ngOnDestroy = function () {
            if (this._elWithFocus && document.body.contains(this._elWithFocus)) {
                this._renderer.invokeElementMethod(this._elWithFocus, 'focus', []);
            }
            else {
                this._renderer.invokeElementMethod(document.body, 'focus', []);
            }
            this._elWithFocus = null;
            this._renderer.setElementClass(document.body, 'modal-open', false);
        };
        NgbModalWindow.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-modal-window',
                        host: {
                            '[class]': '"modal fade in" + (windowClass ? " " + windowClass : "")',
                            'role': 'dialog',
                            'tabindex': '-1',
                            'style': 'display: block;',
                            '(keyup.esc)': 'escKey($event)',
                            '(click)': 'backdropClick($event)'
                        },
                        template: "\n    <div [class]=\"'modal-dialog' + (size ? ' modal-' + size : '')\" role=\"document\">\n        <div class=\"modal-content\"><ng-content></ng-content></div>\n    </div>\n    "
                    },] },
        ];
        NgbModalWindow.ctorParameters = [
            { type: ElementRef, },
            { type: Renderer, },
        ];
        NgbModalWindow.propDecorators = {
            'backdrop': [{ type: Input },],
            'keyboard': [{ type: Input },],
            'size': [{ type: Input },],
            'windowClass': [{ type: Input },],
            'dismissEvent': [{ type: Output, args: ['dismiss',] },],
        };
        return NgbModalWindow;
    }());
    var NgbModalStack = (function () {
        function NgbModalStack() {
        }
        NgbModalStack.prototype.open = function (moduleCFR, contentInjector, content, options) {
            if (options === void 0) {
                options = {};
            }
            if (!this.modalContainer) {
                throw new Error('Missing modal container, add <template ngbModalContainer></template> to one of your application templates.');
            }
            return this.modalContainer.open(moduleCFR, contentInjector, content, options);
        };
        NgbModalStack.prototype.registerContainer = function (modalContainer) { this.modalContainer = modalContainer; };
        NgbModalStack.decorators = [
            { type: Injectable },
        ];
        NgbModalStack.ctorParameters = [];
        return NgbModalStack;
    }());
    var NgbActiveModal = (function () {
        function NgbActiveModal() {
        }
        NgbActiveModal.prototype.close = function (result) { };
        NgbActiveModal.prototype.dismiss = function (reason) { };
        NgbActiveModal.decorators = [
            { type: Injectable },
        ];
        NgbActiveModal.ctorParameters = [];
        return NgbActiveModal;
    }());
    var NgbModalRef = (function () {
        function NgbModalRef(_viewContainerRef, _windowCmptRef, _contentRef, _backdropCmptRef) {
            var _this = this;
            this._viewContainerRef = _viewContainerRef;
            this._windowCmptRef = _windowCmptRef;
            this._contentRef = _contentRef;
            this._backdropCmptRef = _backdropCmptRef;
            _windowCmptRef.instance.dismissEvent.subscribe(function (reason) { _this.dismiss(reason); });
            this.result = new Promise(function (resolve, reject) {
                _this._resolve = resolve;
                _this._reject = reject;
            });
            this.result.then(null, function () { });
        }
        Object.defineProperty(NgbModalRef.prototype, "componentInstance", {
            get: function () {
                if (this._contentRef.componentRef) {
                    return this._contentRef.componentRef.instance;
                }
            },
            set: function (instance) { },
            enumerable: true,
            configurable: true
        });
        NgbModalRef.prototype.close = function (result) {
            if (this._windowCmptRef) {
                this._resolve(result);
                this._removeModalElements();
            }
        };
        NgbModalRef.prototype.dismiss = function (reason) {
            if (this._windowCmptRef) {
                this._reject(reason);
                this._removeModalElements();
            }
        };
        NgbModalRef.prototype._removeModalElements = function () {
            this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowCmptRef.hostView));
            if (this._backdropCmptRef) {
                this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._backdropCmptRef.hostView));
            }
            if (this._contentRef && this._contentRef.viewRef) {
                this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));
            }
            this._windowCmptRef = null;
            this._backdropCmptRef = null;
            this._contentRef = null;
        };
        NgbModalRef.decorators = [
            { type: Injectable },
        ];
        NgbModalRef.ctorParameters = [
            { type: ViewContainerRef, },
            { type: ComponentRef, },
            { type: ContentRef, },
            { type: ComponentRef, },
        ];
        return NgbModalRef;
    }());
    var NgbModalContainer = (function () {
        function NgbModalContainer(_injector, _renderer, _viewContainerRef, _componentFactoryResolver, ngbModalStack) {
            this._injector = _injector;
            this._renderer = _renderer;
            this._viewContainerRef = _viewContainerRef;
            this._componentFactoryResolver = _componentFactoryResolver;
            this._backdropFactory = _componentFactoryResolver.resolveComponentFactory(NgbModalBackdrop);
            this._windowFactory = _componentFactoryResolver.resolveComponentFactory(NgbModalWindow);
            ngbModalStack.registerContainer(this);
        }
        NgbModalContainer.prototype.open = function (moduleCFR, contentInjector, content, options) {
            var activeModal = new NgbActiveModal();
            var contentRef = this._getContentRef(moduleCFR, contentInjector, content, activeModal);
            var windowCmptRef;
            var backdropCmptRef;
            var ngbModalRef;
            if (options.backdrop !== false) {
                backdropCmptRef = this._viewContainerRef.createComponent(this._backdropFactory, 0, this._injector);
            }
            windowCmptRef = this._viewContainerRef.createComponent(this._windowFactory, this._viewContainerRef.length - 1, this._injector, contentRef.nodes);
            ngbModalRef = new NgbModalRef(this._viewContainerRef, windowCmptRef, contentRef, backdropCmptRef);
            activeModal.close = function (result) { ngbModalRef.close(result); };
            activeModal.dismiss = function (reason) { ngbModalRef.dismiss(reason); };
            this._applyWindowOptions(windowCmptRef.instance, options);
            return ngbModalRef;
        };
        NgbModalContainer.prototype._applyWindowOptions = function (windowInstance, options) {
            ['backdrop', 'keyboard', 'size', 'windowClass'].forEach(function (optionName) {
                if (isDefined(options[optionName])) {
                    windowInstance[optionName] = options[optionName];
                }
            });
        };
        NgbModalContainer.prototype._getContentRef = function (moduleCFR, contentInjector, content, context) {
            if (!content) {
                return new ContentRef([]);
            }
            else if (content instanceof TemplateRef) {
                var viewRef = this._viewContainerRef.createEmbeddedView(content, context);
                return new ContentRef([viewRef.rootNodes], viewRef);
            }
            else if (isString(content)) {
                return new ContentRef([[this._renderer.createText(null, "" + content)]]);
            }
            else {
                var contentCmptFactory = moduleCFR.resolveComponentFactory(content);
                var modalContentInjector = ReflectiveInjector.resolveAndCreate([{ provide: NgbActiveModal, useValue: context }], contentInjector);
                var componentRef = this._viewContainerRef.createComponent(contentCmptFactory, 0, modalContentInjector);
                return new ContentRef([[componentRef.location.nativeElement]], componentRef.hostView, componentRef);
            }
        };
        NgbModalContainer.decorators = [
            { type: Directive, args: [{ selector: 'template[ngbModalContainer]' },] },
        ];
        NgbModalContainer.ctorParameters = [
            { type: Injector, },
            { type: Renderer, },
            { type: ViewContainerRef, },
            { type: ComponentFactoryResolver, },
            { type: NgbModalStack, },
        ];
        return NgbModalContainer;
    }());
    var NgbModal = (function () {
        function NgbModal(_moduleCFR, _injector, _modalStack) {
            this._moduleCFR = _moduleCFR;
            this._injector = _injector;
            this._modalStack = _modalStack;
        }
        NgbModal.prototype.open = function (content, options) {
            if (options === void 0) {
                options = {};
            }
            return this._modalStack.open(this._moduleCFR, this._injector, content, options);
        };
        NgbModal.decorators = [
            { type: Injectable },
        ];
        NgbModal.ctorParameters = [
            { type: ComponentFactoryResolver, },
            { type: Injector, },
            { type: NgbModalStack, },
        ];
        return NgbModal;
    }());
    var NgbModalModule = (function () {
        function NgbModalModule() {
        }
        NgbModalModule.forRoot = function () { return { ngModule: NgbModalModule, providers: [NgbModal, NgbModalStack] }; };
        NgbModalModule.decorators = [
            { type: NgModule, args: [{
                        declarations: [NgbModalContainer, NgbModalBackdrop, NgbModalWindow],
                        entryComponents: [NgbModalBackdrop, NgbModalWindow],
                        providers: [NgbModal],
                        exports: [NgbModalContainer]
                    },] },
        ];
        NgbModalModule.ctorParameters = [];
        return NgbModalModule;
    }());
    var NgbPaginationConfig = (function () {
        function NgbPaginationConfig() {
            this.boundaryLinks = false;
            this.directionLinks = true;
            this.ellipses = true;
            this.maxSize = 0;
            this.pageSize = 10;
            this.rotate = false;
        }
        NgbPaginationConfig.decorators = [
            { type: Injectable },
        ];
        NgbPaginationConfig.ctorParameters = [];
        return NgbPaginationConfig;
    }());
    var NgbPagination = (function () {
        function NgbPagination(config) {
            this.pageCount = 0;
            this.pages = [];
            this.page = 0;
            this.pageChange = new EventEmitter(true);
            this.boundaryLinks = config.boundaryLinks;
            this.directionLinks = config.directionLinks;
            this.ellipses = config.ellipses;
            this.maxSize = config.maxSize;
            this.pageSize = config.pageSize;
            this.rotate = config.rotate;
            this.size = config.size;
        }
        NgbPagination.prototype.hasPrevious = function () { return this.page > 1; };
        NgbPagination.prototype.hasNext = function () { return this.page < this.pageCount; };
        NgbPagination.prototype.selectPage = function (pageNumber) { this._updatePages(pageNumber); };
        NgbPagination.prototype.ngOnChanges = function (changes) { this._updatePages(this.page); };
        NgbPagination.prototype.isEllipsis = function (pageNumber) { return pageNumber === -1; };
        NgbPagination.prototype._applyEllipses = function (start, end) {
            if (this.ellipses) {
                if (start > 0) {
                    this.pages.unshift(-1);
                    this.pages.unshift(1);
                }
                if (end < this.pageCount) {
                    this.pages.push(-1);
                    this.pages.push(this.pageCount);
                }
            }
        };
        NgbPagination.prototype._applyRotation = function () {
            var start = 0;
            var end = this.pageCount;
            var leftOffset = Math.floor(this.maxSize / 2);
            var rightOffset = this.maxSize % 2 === 0 ? leftOffset - 1 : leftOffset;
            if (this.page <= leftOffset) {
                end = this.maxSize;
            }
            else if (this.pageCount - this.page < leftOffset) {
                start = this.pageCount - this.maxSize;
            }
            else {
                start = this.page - leftOffset - 1;
                end = this.page + rightOffset;
            }
            return [start, end];
        };
        NgbPagination.prototype._applyPagination = function () {
            var page = Math.ceil(this.page / this.maxSize) - 1;
            var start = page * this.maxSize;
            var end = start + this.maxSize;
            return [start, end];
        };
        NgbPagination.prototype._setPageInRange = function (newPageNo) {
            var prevPageNo = this.page;
            this.page = getValueInRange(newPageNo, this.pageCount, 1);
            if (this.page !== prevPageNo) {
                this.pageChange.emit(this.page);
            }
        };
        NgbPagination.prototype._updatePages = function (newPage) {
            this.pageCount = Math.ceil(this.collectionSize / this.pageSize);
            if (!isNumber(this.pageCount)) {
                this.pageCount = 0;
            }
            this.pages.length = 0;
            for (var i = 1; i <= this.pageCount; i++) {
                this.pages.push(i);
            }
            this._setPageInRange(newPage);
            if (this.maxSize > 0 && this.pageCount > this.maxSize) {
                var start = 0;
                var end = this.pageCount;
                if (this.rotate) {
                    _a = this._applyRotation(), start = _a[0], end = _a[1];
                }
                else {
                    _b = this._applyPagination(), start = _b[0], end = _b[1];
                }
                this.pages = this.pages.slice(start, end);
                this._applyEllipses(start, end);
            }
            var _a, _b;
        };
        NgbPagination.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-pagination',
                        changeDetection: ChangeDetectionStrategy.OnPush,
                        template: "\n    <nav>\n      <ul [class]=\"'pagination' + (size ? ' pagination-' + size : '')\">\n        <li *ngIf=\"boundaryLinks\" class=\"page-item\" [class.disabled]=\"!hasPrevious()\">\n          <a aria-label=\"First\" class=\"page-link\" href (click)=\"!!selectPage(1)\" [attr.tabindex]=\"hasPrevious() ? null : '-1'\">\n            <span aria-hidden=\"true\">&laquo;&laquo;</span>\n            <span class=\"sr-only\">First</span>\n          </a>                \n        </li>\n      \n        <li *ngIf=\"directionLinks\" class=\"page-item\" [class.disabled]=\"!hasPrevious()\">\n          <a aria-label=\"Previous\" class=\"page-link\" href (click)=\"!!selectPage(page-1)\" [attr.tabindex]=\"hasPrevious() ? null : '-1'\">\n            <span aria-hidden=\"true\">&laquo;</span>\n            <span class=\"sr-only\">Previous</span>\n          </a>\n        </li>\n\n        <li *ngFor=\"let pageNumber of pages\" class=\"page-item\" [class.active]=\"pageNumber === page\" \n          [class.disabled]=\"isEllipsis(pageNumber)\">\n          <a *ngIf=\"isEllipsis(pageNumber)\" class=\"page-link\">...</a>\n          <a *ngIf=\"!isEllipsis(pageNumber)\" class=\"page-link\" href (click)=\"!!selectPage(pageNumber)\">{{pageNumber}}</a>\n        </li>\n\n        <li *ngIf=\"directionLinks\" class=\"page-item\" [class.disabled]=\"!hasNext()\">\n          <a aria-label=\"Next\" class=\"page-link\" href (click)=\"!!selectPage(page+1)\" [attr.tabindex]=\"hasNext() ? null : '-1'\">\n            <span aria-hidden=\"true\">&raquo;</span>\n            <span class=\"sr-only\">Next</span>\n          </a>\n        </li>\n        \n        <li *ngIf=\"boundaryLinks\" class=\"page-item\" [class.disabled]=\"!hasNext()\">\n          <a aria-label=\"Last\" class=\"page-link\" href (click)=\"!!selectPage(pageCount)\" [attr.tabindex]=\"hasNext() ? null : '-1'\">\n            <span aria-hidden=\"true\">&raquo;&raquo;</span>\n            <span class=\"sr-only\">Last</span>\n          </a>                \n        </li>        \n      </ul>\n    </nav>\n  "
                    },] },
        ];
        NgbPagination.ctorParameters = [
            { type: NgbPaginationConfig, },
        ];
        NgbPagination.propDecorators = {
            'boundaryLinks': [{ type: Input },],
            'directionLinks': [{ type: Input },],
            'ellipses': [{ type: Input },],
            'rotate': [{ type: Input },],
            'collectionSize': [{ type: Input },],
            'maxSize': [{ type: Input },],
            'page': [{ type: Input },],
            'pageSize': [{ type: Input },],
            'pageChange': [{ type: Output },],
            'size': [{ type: Input },],
        };
        return NgbPagination;
    }());
    var NgbPaginationModule = (function () {
        function NgbPaginationModule() {
        }
        NgbPaginationModule.forRoot = function () { return { ngModule: NgbPaginationModule, providers: [NgbPaginationConfig] }; };
        NgbPaginationModule.decorators = [
            { type: NgModule, args: [{ declarations: [NgbPagination], exports: [NgbPagination], imports: [CommonModule] },] },
        ];
        NgbPaginationModule.ctorParameters = [];
        return NgbPaginationModule;
    }());
    var Trigger = (function () {
        function Trigger(open, close) {
            this.open = open;
            this.close = close;
            if (!close) {
                this.close = open;
            }
        }
        Trigger.prototype.isManual = function () { return this.open === 'manual' || this.close === 'manual'; };
        return Trigger;
    }());
    var DEFAULT_ALIASES = {
        hover: ['mouseenter', 'mouseleave']
    };
    function parseTriggers(triggers, aliases) {
        if (aliases === void 0) {
            aliases = DEFAULT_ALIASES;
        }
        var trimmedTriggers = (triggers || '').trim();
        if (trimmedTriggers.length === 0) {
            return [];
        }
        var parsedTriggers = trimmedTriggers.split(/\s+/).map(function (trigger) { return trigger.split(':'); }).map(function (triggerPair) {
            var alias = aliases[triggerPair[0]] || triggerPair;
            return new Trigger(alias[0], alias[1]);
        });
        var manualTriggers = parsedTriggers.filter(function (triggerPair) { return triggerPair.isManual(); });
        if (manualTriggers.length > 1) {
            throw 'Triggers parse error: only one manual trigger is allowed';
        }
        if (manualTriggers.length === 1 && parsedTriggers.length > 1) {
            throw 'Triggers parse error: manual trigger can\'t be mixed with other triggers';
        }
        return parsedTriggers;
    }
    var noopFn = function () { };
    function listenToTriggers(renderer, nativeElement, triggers, openFn, closeFn, toggleFn) {
        var parsedTriggers = parseTriggers(triggers);
        var listeners = [];
        if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {
            return noopFn;
        }
        parsedTriggers.forEach(function (trigger) {
            if (trigger.open === trigger.close) {
                listeners.push(renderer.listen(nativeElement, trigger.open, toggleFn));
            }
            else {
                listeners.push(renderer.listen(nativeElement, trigger.open, openFn), renderer.listen(nativeElement, trigger.close, closeFn));
            }
        });
        return function () { listeners.forEach(function (unsubscribeFn) { return unsubscribeFn(); }); };
    }
    var NgbPopoverConfig = (function () {
        function NgbPopoverConfig() {
            this.placement = 'top';
            this.triggers = 'click';
        }
        NgbPopoverConfig.decorators = [
            { type: Injectable },
        ];
        NgbPopoverConfig.ctorParameters = [];
        return NgbPopoverConfig;
    }());
    var NgbPopoverWindow = (function () {
        function NgbPopoverWindow() {
            this.placement = 'top';
        }
        NgbPopoverWindow.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-popover-window',
                        changeDetection: ChangeDetectionStrategy.OnPush,
                        host: { '[class]': '"popover in popover-" + placement', 'role': 'tooltip' },
                        template: "\n    <div class=\"popover-arrow\"></div>\n    <h3 class=\"popover-title\">{{title}}</h3><div class=\"popover-content\"><ng-content></ng-content></div>\n    "
                    },] },
        ];
        NgbPopoverWindow.ctorParameters = [];
        NgbPopoverWindow.propDecorators = {
            'placement': [{ type: Input },],
            'title': [{ type: Input },],
        };
        return NgbPopoverWindow;
    }());
    var NgbPopover = (function () {
        function NgbPopover(_elementRef, _renderer, injector, componentFactoryResolver, viewContainerRef, config, ngZone) {
            var _this = this;
            this._elementRef = _elementRef;
            this._renderer = _renderer;
            this.shown = new EventEmitter();
            this.hidden = new EventEmitter();
            this.placement = config.placement;
            this.triggers = config.triggers;
            this.container = config.container;
            this._popupService = new PopupService(NgbPopoverWindow, injector, viewContainerRef, _renderer, componentFactoryResolver);
            this._zoneSubscription = ngZone.onStable.subscribe(function () {
                if (_this._windowRef) {
                    positionElements(_this._elementRef.nativeElement, _this._windowRef.location.nativeElement, _this.placement, _this.container === 'body');
                }
            });
        }
        NgbPopover.prototype.open = function () {
            if (!this._windowRef) {
                this._windowRef = this._popupService.open(this.ngbPopover);
                this._windowRef.instance.placement = this.placement;
                this._windowRef.instance.title = this.popoverTitle;
                if (this.container === 'body') {
                    window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement);
                }
                this._windowRef.changeDetectorRef.markForCheck();
                this.shown.emit();
            }
        };
        NgbPopover.prototype.close = function () {
            if (this._windowRef) {
                this._popupService.close();
                this._windowRef = null;
                this.hidden.emit();
            }
        };
        NgbPopover.prototype.toggle = function () {
            if (this._windowRef) {
                this.close();
            }
            else {
                this.open();
            }
        };
        NgbPopover.prototype.isOpen = function () { return this._windowRef != null; };
        NgbPopover.prototype.ngOnInit = function () {
            this._unregisterListenersFn = listenToTriggers(this._renderer, this._elementRef.nativeElement, this.triggers, this.open.bind(this), this.close.bind(this), this.toggle.bind(this));
        };
        NgbPopover.prototype.ngOnDestroy = function () {
            this.close();
            this._unregisterListenersFn();
            this._zoneSubscription.unsubscribe();
        };
        NgbPopover.decorators = [
            { type: Directive, args: [{ selector: '[ngbPopover]', exportAs: 'ngbPopover' },] },
        ];
        NgbPopover.ctorParameters = [
            { type: ElementRef, },
            { type: Renderer, },
            { type: Injector, },
            { type: ComponentFactoryResolver, },
            { type: ViewContainerRef, },
            { type: NgbPopoverConfig, },
            { type: NgZone, },
        ];
        NgbPopover.propDecorators = {
            'ngbPopover': [{ type: Input },],
            'popoverTitle': [{ type: Input },],
            'placement': [{ type: Input },],
            'triggers': [{ type: Input },],
            'container': [{ type: Input },],
            'shown': [{ type: Output },],
            'hidden': [{ type: Output },],
        };
        return NgbPopover;
    }());
    var NgbPopoverModule = (function () {
        function NgbPopoverModule() {
        }
        NgbPopoverModule.forRoot = function () { return { ngModule: NgbPopoverModule, providers: [NgbPopoverConfig] }; };
        NgbPopoverModule.decorators = [
            { type: NgModule, args: [{ declarations: [NgbPopover, NgbPopoverWindow], exports: [NgbPopover], entryComponents: [NgbPopoverWindow] },] },
        ];
        NgbPopoverModule.ctorParameters = [];
        return NgbPopoverModule;
    }());
    var NgbProgressbarConfig = (function () {
        function NgbProgressbarConfig() {
            this.max = 100;
            this.animated = false;
            this.striped = false;
        }
        NgbProgressbarConfig.decorators = [
            { type: Injectable },
        ];
        NgbProgressbarConfig.ctorParameters = [];
        return NgbProgressbarConfig;
    }());
    var NgbProgressbar = (function () {
        function NgbProgressbar(config) {
            this.value = 0;
            this.max = config.max;
            this.animated = config.animated;
            this.striped = config.striped;
            this.type = config.type;
        }
        NgbProgressbar.prototype.getValue = function () { return getValueInRange(this.value, this.max); };
        NgbProgressbar.prototype.getPercentValue = function () { return 100 * this.getValue() / this.max; };
        NgbProgressbar.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-progressbar',
                        changeDetection: ChangeDetectionStrategy.OnPush,
                        template: "\n    <progress class=\"progress{{type ? ' progress-' + type : ''}}{{animated ? ' progress-animated' : ''}}{{striped ? \n    ' progress-striped' : ''}}\" \n      [max]=\"max\" [value]=\"getValue()\">\n      <div class=\"progress\">\n        <span class=\"progress-bar\" [style.width.%]=\"getPercentValue()\"><ng-content></ng-content></span>\n      </div>\n    </progress>\n  "
                    },] },
        ];
        NgbProgressbar.ctorParameters = [
            { type: NgbProgressbarConfig, },
        ];
        NgbProgressbar.propDecorators = {
            'max': [{ type: Input },],
            'animated': [{ type: Input },],
            'striped': [{ type: Input },],
            'type': [{ type: Input },],
            'value': [{ type: Input },],
        };
        return NgbProgressbar;
    }());
    var NgbProgressbarModule = (function () {
        function NgbProgressbarModule() {
        }
        NgbProgressbarModule.forRoot = function () { return { ngModule: NgbProgressbarModule, providers: [NgbProgressbarConfig] }; };
        NgbProgressbarModule.decorators = [
            { type: NgModule, args: [{ declarations: [NgbProgressbar], exports: [NgbProgressbar] },] },
        ];
        NgbProgressbarModule.ctorParameters = [];
        return NgbProgressbarModule;
    }());
    var NgbRatingConfig = (function () {
        function NgbRatingConfig() {
            this.max = 10;
            this.readonly = false;
        }
        NgbRatingConfig.decorators = [
            { type: Injectable },
        ];
        NgbRatingConfig.ctorParameters = [];
        return NgbRatingConfig;
    }());
    var Key;
    (function (Key) {
        Key[Key["End"] = 35] = "End";
        Key[Key["Home"] = 36] = "Home";
        Key[Key["ArrowLeft"] = 37] = "ArrowLeft";
        Key[Key["ArrowUp"] = 38] = "ArrowUp";
        Key[Key["ArrowRight"] = 39] = "ArrowRight";
        Key[Key["ArrowDown"] = 40] = "ArrowDown";
    })(Key || (Key = {}));
    var NGB_RATING_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return NgbRating; }),
        multi: true
    };
    var NgbRating = (function () {
        function NgbRating(config, _changeDetectorRef) {
            this._changeDetectorRef = _changeDetectorRef;
            this.range = [];
            this.hover = new EventEmitter();
            this.leave = new EventEmitter();
            this.rateChange = new EventEmitter(true);
            this.onChange = function (_) { };
            this.onTouched = function () { };
            this.max = config.max;
            this.readonly = config.readonly;
        }
        NgbRating.prototype.ariaValueText = function () { return this.rate + " out of " + this.max; };
        NgbRating.prototype.enter = function (value) {
            if (!this.readonly) {
                this.rate = value;
            }
            this.hover.emit(value);
        };
        NgbRating.prototype.handleKeyDown = function (event) {
            if (Key[toString(event.which)]) {
                event.preventDefault();
                switch (event.which) {
                    case Key.ArrowDown:
                    case Key.ArrowLeft:
                        this.update(this.rate - 1);
                        break;
                    case Key.ArrowUp:
                    case Key.ArrowRight:
                        this.update(this.rate + 1);
                        break;
                    case Key.Home:
                        this.update(0);
                        break;
                    case Key.End:
                        this.update(this.max);
                        break;
                }
            }
        };
        NgbRating.prototype.getFillValue = function (index) {
            var diff = this.rate - index;
            if (diff >= 1) {
                return 100;
            }
            if (diff < 1 && diff > 0) {
                return Number.parseInt((diff * 100).toFixed(2));
            }
            return 0;
        };
        NgbRating.prototype.ngOnChanges = function (changes) {
            if (changes['rate']) {
                this.update(this.rate);
                this._oldRate = this.rate;
            }
        };
        NgbRating.prototype.ngOnInit = function () { this.range = Array.from({ length: this.max }, function (v, k) { return k + 1; }); };
        NgbRating.prototype.registerOnChange = function (fn) { this.onChange = fn; };
        NgbRating.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
        NgbRating.prototype.reset = function () {
            this.leave.emit(this.rate);
            this.rate = this._oldRate;
        };
        NgbRating.prototype.update = function (value, internalChange) {
            if (internalChange === void 0) {
                internalChange = true;
            }
            if (!this.readonly) {
                var newRate = value ? getValueInRange(value, this.max, 0) : 0;
                if (this._oldRate !== newRate) {
                    this._oldRate = newRate;
                    this.rate = newRate;
                    this.rateChange.emit(newRate);
                    if (internalChange) {
                        this.onChange(this.rate);
                    }
                }
            }
        };
        NgbRating.prototype.writeValue = function (value) {
            this.update(value, false);
            this._changeDetectorRef.markForCheck();
        };
        NgbRating.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-rating',
                        changeDetection: ChangeDetectionStrategy.OnPush,
                        host: { '(keydown)': 'handleKeyDown($event)' },
                        template: "\n    <template #t let-fill=\"fill\">{{ fill === 100 ? '&#9733;' : '&#9734;' }}</template>\n    <span tabindex=\"0\" (mouseleave)=\"reset()\" role=\"slider\" aria-valuemin=\"0\"\n      [attr.aria-valuemax]=\"max\" [attr.aria-valuenow]=\"rate\" [attr.aria-valuetext]=\"ariaValueText()\">\n      <template ngFor [ngForOf]=\"range\" let-index=\"index\">\n        <span class=\"sr-only\">({{ index < rate ? '*' : ' ' }})</span>\n        <span (mouseenter)=\"enter(index + 1)\" (click)=\"update(index + 1)\" \n        [style.cursor]=\"readonly ? 'default' : 'pointer'\">\n          <template [ngTemplateOutlet]=\"starTemplate || t\" [ngOutletContext]=\"{fill: getFillValue(index)}\"></template>\n        </span>\n      </template>\n    </span>\n  ",
                        providers: [NGB_RATING_VALUE_ACCESSOR]
                    },] },
        ];
        NgbRating.ctorParameters = [
            { type: NgbRatingConfig, },
            { type: ChangeDetectorRef, },
        ];
        NgbRating.propDecorators = {
            'max': [{ type: Input },],
            'rate': [{ type: Input },],
            'readonly': [{ type: Input },],
            'starTemplate': [{ type: Input }, { type: ContentChild, args: [TemplateRef,] },],
            'hover': [{ type: Output },],
            'leave': [{ type: Output },],
            'rateChange': [{ type: Output },],
        };
        return NgbRating;
    }());
    var NgbRatingModule = (function () {
        function NgbRatingModule() {
        }
        NgbRatingModule.forRoot = function () { return { ngModule: NgbRatingModule, providers: [NgbRatingConfig] }; };
        NgbRatingModule.decorators = [
            { type: NgModule, args: [{ declarations: [NgbRating], exports: [NgbRating], imports: [CommonModule] },] },
        ];
        NgbRatingModule.ctorParameters = [];
        return NgbRatingModule;
    }());
    var NgbTabsetConfig = (function () {
        function NgbTabsetConfig() {
            this.type = 'tabs';
        }
        NgbTabsetConfig.decorators = [
            { type: Injectable },
        ];
        NgbTabsetConfig.ctorParameters = [];
        return NgbTabsetConfig;
    }());
    var nextId$2 = 0;
    var NgbTabTitle = (function () {
        function NgbTabTitle(templateRef) {
            this.templateRef = templateRef;
        }
        NgbTabTitle.decorators = [
            { type: Directive, args: [{ selector: 'template[ngbTabTitle]' },] },
        ];
        NgbTabTitle.ctorParameters = [
            { type: TemplateRef, },
        ];
        return NgbTabTitle;
    }());
    var NgbTabContent = (function () {
        function NgbTabContent(templateRef) {
            this.templateRef = templateRef;
        }
        NgbTabContent.decorators = [
            { type: Directive, args: [{ selector: 'template[ngbTabContent]' },] },
        ];
        NgbTabContent.ctorParameters = [
            { type: TemplateRef, },
        ];
        return NgbTabContent;
    }());
    var NgbTab = (function () {
        function NgbTab() {
            this.id = "ngb-tab-" + nextId$2++;
            this.disabled = false;
        }
        NgbTab.decorators = [
            { type: Directive, args: [{ selector: 'ngb-tab' },] },
        ];
        NgbTab.ctorParameters = [];
        NgbTab.propDecorators = {
            'id': [{ type: Input },],
            'title': [{ type: Input },],
            'disabled': [{ type: Input },],
            'contentTpl': [{ type: ContentChild, args: [NgbTabContent,] },],
            'titleTpl': [{ type: ContentChild, args: [NgbTabTitle,] },],
        };
        return NgbTab;
    }());
    var NgbTabset = (function () {
        function NgbTabset(config) {
            this.tabChange = new EventEmitter();
            this.type = config.type;
        }
        NgbTabset.prototype.select = function (tabId) {
            var selectedTab = this._getTabById(tabId);
            if (selectedTab && !selectedTab.disabled && this.activeId !== selectedTab.id) {
                var defaultPrevented_1 = false;
                this.tabChange.emit({ activeId: this.activeId, nextId: selectedTab.id, preventDefault: function () { defaultPrevented_1 = true; } });
                if (!defaultPrevented_1) {
                    this.activeId = selectedTab.id;
                }
            }
        };
        NgbTabset.prototype.ngAfterContentChecked = function () {
            var activeTab = this._getTabById(this.activeId);
            this.activeId = activeTab ? activeTab.id : (this.tabs.length ? this.tabs.first.id : null);
        };
        NgbTabset.prototype._getTabById = function (id) {
            var tabsWithId = this.tabs.filter(function (tab) { return tab.id === id; });
            return tabsWithId.length ? tabsWithId[0] : null;
        };
        NgbTabset.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-tabset',
                        exportAs: 'ngbTabset',
                        template: "\n    <ul [class]=\"'nav nav-' + type\" role=\"tablist\">\n      <li class=\"nav-item\" *ngFor=\"let tab of tabs\">\n        <a [id]=\"tab.id\" class=\"nav-link\" [class.active]=\"tab.id === activeId\" [class.disabled]=\"tab.disabled\"\n          href (click)=\"!!select(tab.id)\" role=\"tab\" [attr.aria-controls]=\"tab.id + '-panel'\" [attr.aria-expanded]=\"tab.id === activeId\">\n          {{tab.title}}<template [ngTemplateOutlet]=\"tab.titleTpl?.templateRef\"></template>\n        </a>\n      </li>\n    </ul>\n    <div class=\"tab-content\">\n      <template ngFor let-tab [ngForOf]=\"tabs\">\n        <div class=\"tab-pane active\" *ngIf=\"tab.id === activeId\" role=\"tabpanel\" [attr.aria-labelledby]=\"tab.id\" id=\"{{tab.id}}-panel\">\n          <template [ngTemplateOutlet]=\"tab.contentTpl.templateRef\"></template>\n        </div>\n      </template>\n    </div>\n  "
                    },] },
        ];
        NgbTabset.ctorParameters = [
            { type: NgbTabsetConfig, },
        ];
        NgbTabset.propDecorators = {
            'tabs': [{ type: ContentChildren, args: [NgbTab,] },],
            'activeId': [{ type: Input },],
            'type': [{ type: Input },],
            'tabChange': [{ type: Output },],
        };
        return NgbTabset;
    }());
    var NGB_TABSET_DIRECTIVES = [NgbTabset, NgbTab, NgbTabContent, NgbTabTitle];
    var NgbTabsetModule = (function () {
        function NgbTabsetModule() {
        }
        NgbTabsetModule.forRoot = function () { return { ngModule: NgbTabsetModule, providers: [NgbTabsetConfig] }; };
        NgbTabsetModule.decorators = [
            { type: NgModule, args: [{ declarations: NGB_TABSET_DIRECTIVES, exports: NGB_TABSET_DIRECTIVES, imports: [CommonModule] },] },
        ];
        NgbTabsetModule.ctorParameters = [];
        return NgbTabsetModule;
    }());
    var NgbTime = (function () {
        function NgbTime(hour, minute, second) {
            this.hour = toInteger(hour);
            this.minute = toInteger(minute);
            this.second = toInteger(second);
        }
        NgbTime.prototype.changeHour = function (step) {
            if (step === void 0) {
                step = 1;
            }
            this.updateHour((isNaN(this.hour) ? 0 : this.hour) + step);
        };
        NgbTime.prototype.updateHour = function (hour) {
            if (isNumber(hour)) {
                this.hour = (hour < 0 ? 24 + hour : hour) % 24;
            }
            else {
                this.hour = NaN;
            }
        };
        NgbTime.prototype.changeMinute = function (step) {
            if (step === void 0) {
                step = 1;
            }
            this.updateMinute((isNaN(this.minute) ? 0 : this.minute) + step);
        };
        NgbTime.prototype.updateMinute = function (minute) {
            if (isNumber(minute)) {
                this.minute = minute % 60 < 0 ? 60 + minute % 60 : minute % 60;
                this.changeHour(Math.floor(minute / 60));
            }
            else {
                this.minute = NaN;
            }
        };
        NgbTime.prototype.changeSecond = function (step) {
            if (step === void 0) {
                step = 1;
            }
            this.updateSecond((isNaN(this.second) ? 0 : this.second) + step);
        };
        NgbTime.prototype.updateSecond = function (second) {
            if (isNumber(second)) {
                this.second = second < 0 ? 60 + second % 60 : second % 60;
                this.changeMinute(Math.floor(second / 60));
            }
            else {
                this.second = NaN;
            }
        };
        NgbTime.prototype.isValid = function (checkSecs) {
            if (checkSecs === void 0) {
                checkSecs = true;
            }
            return isNumber(this.hour) && isNumber(this.minute) && (checkSecs ? isNumber(this.second) : true);
        };
        NgbTime.prototype.toString = function () { return (this.hour || 0) + ":" + (this.minute || 0) + ":" + (this.second || 0); };
        return NgbTime;
    }());
    var NgbTimepickerConfig = (function () {
        function NgbTimepickerConfig() {
            this.meridian = false;
            this.spinners = true;
            this.seconds = false;
            this.hourStep = 1;
            this.minuteStep = 1;
            this.secondStep = 1;
            this.disabled = false;
            this.readonlyInputs = false;
        }
        NgbTimepickerConfig.decorators = [
            { type: Injectable },
        ];
        NgbTimepickerConfig.ctorParameters = [];
        return NgbTimepickerConfig;
    }());
    var NGB_TIMEPICKER_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return NgbTimepicker; }),
        multi: true
    };
    var NgbTimepicker = (function () {
        function NgbTimepicker(config) {
            this.onChange = function (_) { };
            this.onTouched = function () { };
            this.meridian = config.meridian;
            this.spinners = config.spinners;
            this.seconds = config.seconds;
            this.hourStep = config.hourStep;
            this.minuteStep = config.minuteStep;
            this.secondStep = config.secondStep;
            this.disabled = config.disabled;
            this.readonlyInputs = config.readonlyInputs;
        }
        NgbTimepicker.prototype.writeValue = function (value) {
            this.model = value ? new NgbTime(value.hour, value.minute, value.second) : new NgbTime();
            if (!this.seconds && (!value || !isNumber(value.second))) {
                this.model.second = 0;
            }
        };
        NgbTimepicker.prototype.registerOnChange = function (fn) { this.onChange = fn; };
        NgbTimepicker.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
        NgbTimepicker.prototype.setDisabledState = function (isDisabled) { this.disabled = isDisabled; };
        NgbTimepicker.prototype.changeHour = function (step) {
            this.model.changeHour(step);
            this.propagateModelChange();
        };
        NgbTimepicker.prototype.changeMinute = function (step) {
            this.model.changeMinute(step);
            this.propagateModelChange();
        };
        NgbTimepicker.prototype.changeSecond = function (step) {
            this.model.changeSecond(step);
            this.propagateModelChange();
        };
        NgbTimepicker.prototype.updateHour = function (newVal) {
            this.model.updateHour(toInteger(newVal));
            this.propagateModelChange();
        };
        NgbTimepicker.prototype.updateMinute = function (newVal) {
            this.model.updateMinute(toInteger(newVal));
            this.propagateModelChange();
        };
        NgbTimepicker.prototype.updateSecond = function (newVal) {
            this.model.updateSecond(toInteger(newVal));
            this.propagateModelChange();
        };
        NgbTimepicker.prototype.toggleMeridian = function () {
            if (this.meridian) {
                this.changeHour(12);
            }
        };
        NgbTimepicker.prototype.formatHour = function (value) {
            if (isNumber(value)) {
                if (this.meridian) {
                    return padNumber(value % 12 === 0 ? 12 : value % 12);
                }
                else {
                    return padNumber(value % 24);
                }
            }
            else {
                return padNumber(NaN);
            }
        };
        NgbTimepicker.prototype.formatMinSec = function (value) { return padNumber(value); };
        NgbTimepicker.prototype.ngOnChanges = function (changes) {
            if (changes['seconds'] && !this.seconds && this.model && !isNumber(this.model.second)) {
                this.model.second = 0;
                this.propagateModelChange(false);
            }
        };
        NgbTimepicker.prototype.propagateModelChange = function (touched) {
            if (touched === void 0) {
                touched = true;
            }
            if (touched) {
                this.onTouched();
            }
            if (this.model.isValid(this.seconds)) {
                this.onChange({ hour: this.model.hour, minute: this.model.minute, second: this.model.second });
            }
            else {
                this.onChange(null);
            }
        };
        NgbTimepicker.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-timepicker',
                        styles: ["\n    .chevron::before {\n      border-style: solid;\n      border-width: 0.29em 0.29em 0 0;\n      content: '';\n      display: inline-block;\n      height: 0.69em;\n      left: 0.05em;\n      position: relative;\n      top: 0.15em;\n      transform: rotate(-45deg);\n      -webkit-transform: rotate(-45deg);\n      -ms-transform: rotate(-45deg);\n      vertical-align: middle;\n      width: 0.71em;\n    }\n    \n    .chevron.bottom:before {\n      top: -.3em;\n      -webkit-transform: rotate(135deg);\n      -ms-transform: rotate(135deg);\n      transform: rotate(135deg);\n    }\n    \n    .btn-link {\n      outline: 0;\n    }\n\n    .btn-link.disabled {\n      cursor: not-allowed;\n      opacity: .65;\n    }\n  "],
                        template: "\n     <fieldset [disabled]=\"disabled\" [class.disabled]=\"disabled\">\n      <table>\n        <tr *ngIf=\"spinners\">\n          <td class=\"text-xs-center\">\n            <button type=\"button\" class=\"btn-link\" (click)=\"changeHour(hourStep)\"\n              [disabled]=\"disabled\" [class.disabled]=\"disabled\">\n              <span class=\"chevron\"></span>\n            </button>\n          </td>\n          <td>&nbsp;</td>\n          <td class=\"text-xs-center\">\n            <button type=\"button\" class=\"btn-link\" (click)=\"changeMinute(minuteStep)\"\n              [disabled]=\"disabled\" [class.disabled]=\"disabled\">\n                <span class=\"chevron\"></span>\n            </button>\n          </td>\n          <template [ngIf]=\"seconds\">\n            <td>&nbsp;</td>\n            <td class=\"text-xs-center\">\n              <button type=\"button\" class=\"btn-link\" (click)=\"changeSecond(secondStep)\"\n                [disabled]=\"disabled\" [class.disabled]=\"disabled\">\n                <span class=\"chevron\"></span>\n              </button>\n            </td>\n          </template>\n          <template [ngIf]=\"meridian\">\n            <td>&nbsp;</td>\n            <td>&nbsp;</td>\n          </template>\n        </tr>\n        <tr>\n          <td>\n            <input type=\"text\" class=\"form-control\" maxlength=\"2\" size=\"2\" placeholder=\"HH\"\n              [value]=\"formatHour(model?.hour)\" (change)=\"updateHour($event.target.value)\" \n              [readonly]=\"readonlyInputs\" [disabled]=\"disabled\">\n          </td>\n          <td>&nbsp;:&nbsp;</td>\n          <td>\n            <input type=\"text\" class=\"form-control\" maxlength=\"2\" size=\"2\" placeholder=\"MM\"\n              [value]=\"formatMinSec(model?.minute)\" (change)=\"updateMinute($event.target.value)\" \n              [readonly]=\"readonlyInputs\" [disabled]=\"disabled\">\n          </td>\n          <template [ngIf]=\"seconds\">\n            <td>&nbsp;:&nbsp;</td>\n            <input type=\"text\" class=\"form-control\" maxlength=\"2\" size=\"2\" placeholder=\"SS\"\n              [value]=\"formatMinSec(model?.second)\" (change)=\"updateSecond($event.target.value)\" \n              [readonly]=\"readonlyInputs\" [disabled]=\"disabled\">\n          </template>\n          <template [ngIf]=\"meridian\">\n            <td>&nbsp;&nbsp;</td>\n            <td>\n              <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"toggleMeridian()\">{{model.hour >= 12 ? 'PM' : 'AM'}}</button>\n            </td>\n          </template>\n        </tr>\n        <tr *ngIf=\"spinners\">\n          <td class=\"text-xs-center\">\n            <button type=\"button\" class=\"btn-link\" (click)=\"changeHour(-hourStep)\" \n              [disabled]=\"disabled\" [class.disabled]=\"disabled\">\n              <span class=\"chevron bottom\"></span>\n            </button>\n          </td>\n          <td>&nbsp;</td>\n          <td class=\"text-xs-center\">\n            <button type=\"button\" class=\"btn-link\" (click)=\"changeMinute(-minuteStep)\"\n              [disabled]=\"disabled\" [class.disabled]=\"disabled\">\n              <span class=\"chevron bottom\"></span>\n            </button>\n          </td>\n          <template [ngIf]=\"seconds\">\n            <td>&nbsp;</td>\n            <td class=\"text-xs-center\">\n              <button type=\"button\" class=\"btn-link\" (click)=\"changeSecond(-secondStep)\"\n                [disabled]=\"disabled\" [class.disabled]=\"disabled\">\n                <span class=\"chevron bottom\"></span>\n              </button>\n            </td>\n          </template>\n          <template [ngIf]=\"meridian\">\n            <td>&nbsp;</td>\n            <td>&nbsp;</td>\n          </template>\n        </tr>\n      </table>\n    </fieldset>\n  ",
                        providers: [NGB_TIMEPICKER_VALUE_ACCESSOR]
                    },] },
        ];
        NgbTimepicker.ctorParameters = [
            { type: NgbTimepickerConfig, },
        ];
        NgbTimepicker.propDecorators = {
            'meridian': [{ type: Input },],
            'spinners': [{ type: Input },],
            'seconds': [{ type: Input },],
            'hourStep': [{ type: Input },],
            'minuteStep': [{ type: Input },],
            'secondStep': [{ type: Input },],
            'readonlyInputs': [{ type: Input },],
        };
        return NgbTimepicker;
    }());
    var NgbTimepickerModule = (function () {
        function NgbTimepickerModule() {
        }
        NgbTimepickerModule.forRoot = function () { return { ngModule: NgbTimepickerModule, providers: [NgbTimepickerConfig] }; };
        NgbTimepickerModule.decorators = [
            { type: NgModule, args: [{ declarations: [NgbTimepicker], exports: [NgbTimepicker], imports: [CommonModule] },] },
        ];
        NgbTimepickerModule.ctorParameters = [];
        return NgbTimepickerModule;
    }());
    var NgbTooltipConfig = (function () {
        function NgbTooltipConfig() {
            this.placement = 'top';
            this.triggers = 'hover';
        }
        NgbTooltipConfig.decorators = [
            { type: Injectable },
        ];
        NgbTooltipConfig.ctorParameters = [];
        return NgbTooltipConfig;
    }());
    var NgbTooltipWindow = (function () {
        function NgbTooltipWindow() {
            this.placement = 'top';
        }
        NgbTooltipWindow.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-tooltip-window',
                        changeDetection: ChangeDetectionStrategy.OnPush,
                        host: { '[class]': '"tooltip in tooltip-" + placement', 'role': 'tooltip' },
                        template: "\n    <div class=\"tooltip-arrow\"></div>\n    <div class=\"tooltip-inner\"><ng-content></ng-content></div>\n    "
                    },] },
        ];
        NgbTooltipWindow.ctorParameters = [];
        NgbTooltipWindow.propDecorators = {
            'placement': [{ type: Input },],
        };
        return NgbTooltipWindow;
    }());
    var NgbTooltip = (function () {
        function NgbTooltip(_elementRef, _renderer, injector, componentFactoryResolver, viewContainerRef, config, ngZone) {
            var _this = this;
            this._elementRef = _elementRef;
            this._renderer = _renderer;
            this.shown = new EventEmitter();
            this.hidden = new EventEmitter();
            this.placement = config.placement;
            this.triggers = config.triggers;
            this.container = config.container;
            this._popupService = new PopupService(NgbTooltipWindow, injector, viewContainerRef, _renderer, componentFactoryResolver);
            this._zoneSubscription = ngZone.onStable.subscribe(function () {
                if (_this._windowRef) {
                    positionElements(_this._elementRef.nativeElement, _this._windowRef.location.nativeElement, _this.placement, _this.container === 'body');
                }
            });
        }
        Object.defineProperty(NgbTooltip.prototype, "ngbTooltip", {
            get: function () { return this._ngbTooltip; },
            set: function (value) {
                this._ngbTooltip = value;
                if (!value && this._windowRef) {
                    this.close();
                }
            },
            enumerable: true,
            configurable: true
        });
        NgbTooltip.prototype.open = function () {
            if (!this._windowRef && this._ngbTooltip) {
                this._windowRef = this._popupService.open(this._ngbTooltip);
                this._windowRef.instance.placement = this.placement;
                if (this.container === 'body') {
                    window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement);
                }
                this._windowRef.changeDetectorRef.markForCheck();
                this.shown.emit();
            }
        };
        NgbTooltip.prototype.close = function () {
            if (this._windowRef != null) {
                this._popupService.close();
                this._windowRef = null;
                this.hidden.emit();
            }
        };
        NgbTooltip.prototype.toggle = function () {
            if (this._windowRef) {
                this.close();
            }
            else {
                this.open();
            }
        };
        NgbTooltip.prototype.isOpen = function () { return this._windowRef != null; };
        NgbTooltip.prototype.ngOnInit = function () {
            this._unregisterListenersFn = listenToTriggers(this._renderer, this._elementRef.nativeElement, this.triggers, this.open.bind(this), this.close.bind(this), this.toggle.bind(this));
        };
        NgbTooltip.prototype.ngOnDestroy = function () {
            this.close();
            this._unregisterListenersFn();
            this._zoneSubscription.unsubscribe();
        };
        NgbTooltip.decorators = [
            { type: Directive, args: [{ selector: '[ngbTooltip]', exportAs: 'ngbTooltip' },] },
        ];
        NgbTooltip.ctorParameters = [
            { type: ElementRef, },
            { type: Renderer, },
            { type: Injector, },
            { type: ComponentFactoryResolver, },
            { type: ViewContainerRef, },
            { type: NgbTooltipConfig, },
            { type: NgZone, },
        ];
        NgbTooltip.propDecorators = {
            'placement': [{ type: Input },],
            'triggers': [{ type: Input },],
            'container': [{ type: Input },],
            'shown': [{ type: Output },],
            'hidden': [{ type: Output },],
            'ngbTooltip': [{ type: Input },],
        };
        return NgbTooltip;
    }());
    var NgbTooltipModule = (function () {
        function NgbTooltipModule() {
        }
        NgbTooltipModule.forRoot = function () { return { ngModule: NgbTooltipModule, providers: [NgbTooltipConfig] }; };
        NgbTooltipModule.decorators = [
            { type: NgModule, args: [{ declarations: [NgbTooltip, NgbTooltipWindow], exports: [NgbTooltip], entryComponents: [NgbTooltipWindow] },] },
        ];
        NgbTooltipModule.ctorParameters = [];
        return NgbTooltipModule;
    }());
    var NgbHighlight = (function () {
        function NgbHighlight() {
            this.highlightClass = 'ngb-highlight';
        }
        NgbHighlight.prototype.ngOnChanges = function (changes) {
            var resultStr = toString(this.result);
            var resultLC = resultStr.toLowerCase();
            var termLC = toString(this.term).toLowerCase();
            var currentIdx = 0;
            if (termLC.length > 0) {
                this.parts = resultLC.split(new RegExp("(" + regExpEscape(termLC) + ")")).map(function (part) {
                    var originalPart = resultStr.substr(currentIdx, part.length);
                    currentIdx += part.length;
                    return originalPart;
                });
            }
            else {
                this.parts = [resultStr];
            }
        };
        NgbHighlight.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-highlight',
                        changeDetection: ChangeDetectionStrategy.OnPush,
                        template: "<template ngFor [ngForOf]=\"parts\" let-part let-isOdd=\"odd\">" +
                            "<span *ngIf=\"isOdd\" class=\"{{highlightClass}}\">{{part}}</span><template [ngIf]=\"!isOdd\">{{part}}</template>" +
                            "</template>",
                        styles: ["\n    .ngb-highlight {\n      font-weight: bold;\n    }\n  "]
                    },] },
        ];
        NgbHighlight.ctorParameters = [];
        NgbHighlight.propDecorators = {
            'highlightClass': [{ type: Input },],
            'result': [{ type: Input },],
            'term': [{ type: Input },],
        };
        return NgbHighlight;
    }());
    var NgbTypeaheadWindow = (function () {
        function NgbTypeaheadWindow() {
            this.activeIdx = 0;
            this.focusFirst = true;
            this.formatter = toString;
            this.selectEvent = new EventEmitter();
        }
        NgbTypeaheadWindow.prototype.getActive = function () { return this.results[this.activeIdx]; };
        NgbTypeaheadWindow.prototype.markActive = function (activeIdx) { this.activeIdx = activeIdx; };
        NgbTypeaheadWindow.prototype.next = function () {
            if (this.activeIdx === this.results.length - 1) {
                this.activeIdx = this.focusFirst ? (this.activeIdx + 1) % this.results.length : -1;
            }
            else {
                this.activeIdx++;
            }
        };
        NgbTypeaheadWindow.prototype.prev = function () {
            if (this.activeIdx < 0) {
                this.activeIdx = this.results.length - 1;
            }
            else if (this.activeIdx === 0) {
                this.activeIdx = this.focusFirst ? this.results.length - 1 : -1;
            }
            else {
                this.activeIdx--;
            }
        };
        NgbTypeaheadWindow.prototype.select = function (item) { this.selectEvent.emit(item); };
        NgbTypeaheadWindow.prototype.ngOnInit = function () { this.activeIdx = this.focusFirst ? 0 : -1; };
        NgbTypeaheadWindow.decorators = [
            { type: Component, args: [{
                        selector: 'ngb-typeahead-window',
                        exportAs: 'ngbTypeaheadWindow',
                        host: { 'class': 'dropdown-menu', 'style': 'display: block' },
                        template: "\n    <template #rt let-result=\"result\" let-term=\"term\" let-formatter=\"formatter\">\n      <ngb-highlight [result]=\"formatter(result)\" [term]=\"term\"></ngb-highlight>\n    </template>\n    <template ngFor [ngForOf]=\"results\" let-result let-idx=\"index\">\n      <button type=\"button\" class=\"dropdown-item\" [class.active]=\"idx === activeIdx\" \n        (mouseenter)=\"markActive(idx)\" \n        (click)=\"select(result)\">\n          <template [ngTemplateOutlet]=\"resultTemplate || rt\" \n          [ngOutletContext]=\"{result: result, term: term, formatter: formatter}\"></template>\n      </button>\n    </template>\n  "
                    },] },
        ];
        NgbTypeaheadWindow.ctorParameters = [];
        NgbTypeaheadWindow.propDecorators = {
            'focusFirst': [{ type: Input },],
            'results': [{ type: Input },],
            'term': [{ type: Input },],
            'formatter': [{ type: Input },],
            'resultTemplate': [{ type: Input },],
            'selectEvent': [{ type: Output, args: ['select',] },],
        };
        return NgbTypeaheadWindow;
    }());
    var __extends$60 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Observable_1$5 = Observable_1$1;
    var tryCatch_1$3 = tryCatch_1$1;
    var isFunction_1$4 = isFunction_1$1;
    var errorObject_1$3 = errorObject;
    var Subscription_1$5 = Subscription_1$2;
    var toString$1 = Object.prototype.toString;
    function isNodeStyleEventEmmitter(sourceObj) {
        return !!sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';
    }
    function isJQueryStyleEventEmitter(sourceObj) {
        return !!sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';
    }
    function isNodeList(sourceObj) {
        return !!sourceObj && toString$1.call(sourceObj) === '[object NodeList]';
    }
    function isHTMLCollection(sourceObj) {
        return !!sourceObj && toString$1.call(sourceObj) === '[object HTMLCollection]';
    }
    function isEventTarget(sourceObj) {
        return !!sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';
    }
    var FromEventObservable = (function (_super) {
        __extends$60(FromEventObservable, _super);
        function FromEventObservable(sourceObj, eventName, selector, options) {
            _super.call(this);
            this.sourceObj = sourceObj;
            this.eventName = eventName;
            this.selector = selector;
            this.options = options;
        }
        FromEventObservable.create = function (target, eventName, options, selector) {
            if (isFunction_1$4.isFunction(options)) {
                selector = options;
                options = undefined;
            }
            return new FromEventObservable(target, eventName, selector, options);
        };
        FromEventObservable.setupSubscription = function (sourceObj, eventName, handler, subscriber, options) {
            var unsubscribe;
            if (isNodeList(sourceObj) || isHTMLCollection(sourceObj)) {
                for (var i = 0, len = sourceObj.length; i < len; i++) {
                    FromEventObservable.setupSubscription(sourceObj[i], eventName, handler, subscriber, options);
                }
            }
            else if (isEventTarget(sourceObj)) {
                var source_1 = sourceObj;
                sourceObj.addEventListener(eventName, handler, options);
                unsubscribe = function () { return source_1.removeEventListener(eventName, handler); };
            }
            else if (isJQueryStyleEventEmitter(sourceObj)) {
                var source_2 = sourceObj;
                sourceObj.on(eventName, handler);
                unsubscribe = function () { return source_2.off(eventName, handler); };
            }
            else if (isNodeStyleEventEmmitter(sourceObj)) {
                var source_3 = sourceObj;
                sourceObj.addListener(eventName, handler);
                unsubscribe = function () { return source_3.removeListener(eventName, handler); };
            }
            else {
                throw new TypeError('Invalid event target');
            }
            subscriber.add(new Subscription_1$5.Subscription(unsubscribe));
        };
        FromEventObservable.prototype._subscribe = function (subscriber) {
            var sourceObj = this.sourceObj;
            var eventName = this.eventName;
            var options = this.options;
            var selector = this.selector;
            var handler = selector ? function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i - 0] = arguments[_i];
                }
                var result = tryCatch_1$3.tryCatch(selector).apply(void 0, args);
                if (result === errorObject_1$3.errorObject) {
                    subscriber.error(errorObject_1$3.errorObject.e);
                }
                else {
                    subscriber.next(result);
                }
            } : function (e) { return subscriber.next(e); };
            FromEventObservable.setupSubscription(sourceObj, eventName, handler, subscriber, options);
        };
        return FromEventObservable;
    }(Observable_1$5.Observable));
    var FromEventObservable_2 = FromEventObservable;
    var FromEventObservable_1$1 = {
        FromEventObservable: FromEventObservable_2
    };
    var FromEventObservable_1 = FromEventObservable_1$1;
    var fromEvent_1$1 = FromEventObservable_1.FromEventObservable.create;
    var fromEvent$2 = {
        fromEvent: fromEvent_1$1
    };
    var Observable_1$4 = Observable_1$1;
    var fromEvent_1 = fromEvent$2;
    Observable_1$4.Observable.fromEvent = fromEvent_1.fromEvent;
    var __extends$61 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subscriber_1$4 = Subscriber_1$2;
    function _do$2(nextOrObserver, error, complete) {
        return this.lift(new DoOperator(nextOrObserver, error, complete));
    }
    var _do_2 = _do$2;
    var DoOperator = (function () {
        function DoOperator(nextOrObserver, error, complete) {
            this.nextOrObserver = nextOrObserver;
            this.error = error;
            this.complete = complete;
        }
        DoOperator.prototype.call = function (subscriber, source) {
            return source.subscribe(new DoSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));
        };
        return DoOperator;
    }());
    var DoSubscriber = (function (_super) {
        __extends$61(DoSubscriber, _super);
        function DoSubscriber(destination, nextOrObserver, error, complete) {
            _super.call(this, destination);
            var safeSubscriber = new Subscriber_1$4.Subscriber(nextOrObserver, error, complete);
            safeSubscriber.syncErrorThrowable = true;
            this.add(safeSubscriber);
            this.safeSubscriber = safeSubscriber;
        }
        DoSubscriber.prototype._next = function (value) {
            var safeSubscriber = this.safeSubscriber;
            safeSubscriber.next(value);
            if (safeSubscriber.syncErrorThrown) {
                this.destination.error(safeSubscriber.syncErrorValue);
            }
            else {
                this.destination.next(value);
            }
        };
        DoSubscriber.prototype._error = function (err) {
            var safeSubscriber = this.safeSubscriber;
            safeSubscriber.error(err);
            if (safeSubscriber.syncErrorThrown) {
                this.destination.error(safeSubscriber.syncErrorValue);
            }
            else {
                this.destination.error(err);
            }
        };
        DoSubscriber.prototype._complete = function () {
            var safeSubscriber = this.safeSubscriber;
            safeSubscriber.complete();
            if (safeSubscriber.syncErrorThrown) {
                this.destination.error(safeSubscriber.syncErrorValue);
            }
            else {
                this.destination.complete();
            }
        };
        return DoSubscriber;
    }(Subscriber_1$4.Subscriber));
    var _do_1 = {
        _do: _do_2
    };
    var Observable_1$6 = Observable_1$1;
    var do_1 = _do_1;
    Observable_1$6.Observable.prototype.do = do_1._do;
    Observable_1$6.Observable.prototype._do = do_1._do;
    function letProto(func) {
        return func(this);
    }
    var letProto_1 = letProto;
    var _let$2 = {
        letProto: letProto_1
    };
    var Observable_1$7 = Observable_1$1;
    var let_1 = _let$2;
    Observable_1$7.Observable.prototype.let = let_1.letProto;
    Observable_1$7.Observable.prototype.letBind = let_1.letProto;
    var NgbTypeaheadConfig = (function () {
        function NgbTypeaheadConfig() {
            this.editable = true;
            this.focusFirst = true;
            this.showHint = false;
        }
        NgbTypeaheadConfig.decorators = [
            { type: Injectable },
        ];
        NgbTypeaheadConfig.ctorParameters = [];
        return NgbTypeaheadConfig;
    }());
    var Key$1;
    (function (Key) {
        Key[Key["Tab"] = 9] = "Tab";
        Key[Key["Enter"] = 13] = "Enter";
        Key[Key["Escape"] = 27] = "Escape";
        Key[Key["ArrowUp"] = 38] = "ArrowUp";
        Key[Key["ArrowDown"] = 40] = "ArrowDown";
    })(Key$1 || (Key$1 = {}));
    var NGB_TYPEAHEAD_VALUE_ACCESSOR = {
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(function () { return NgbTypeahead; }),
        multi: true
    };
    var NgbTypeahead = (function () {
        function NgbTypeahead(_elementRef, _viewContainerRef, _renderer, _injector, componentFactoryResolver, config, ngZone) {
            var _this = this;
            this._elementRef = _elementRef;
            this._viewContainerRef = _viewContainerRef;
            this._renderer = _renderer;
            this._injector = _injector;
            this.selectItem = new EventEmitter();
            this._onTouched = function () { };
            this._onChange = function (_) { };
            this.editable = config.editable;
            this.focusFirst = config.focusFirst;
            this.showHint = config.showHint;
            this._valueChanges = Observable_2.fromEvent(_elementRef.nativeElement, 'input', function ($event) { return $event.target.value; });
            this._popupService = new PopupService(NgbTypeaheadWindow, _injector, _viewContainerRef, _renderer, componentFactoryResolver);
            this._zoneSubscription = ngZone.onStable.subscribe(function () {
                if (_this._windowRef) {
                    positionElements(_this._elementRef.nativeElement, _this._windowRef.location.nativeElement, 'bottom-left');
                }
            });
        }
        NgbTypeahead.prototype.ngOnInit = function () {
            var _this = this;
            this._subscription = this._subscribeToUserInput(this._valueChanges
                .do(function (value) {
                _this._userInput = value;
                if (_this.editable) {
                    _this._onChange(value);
                }
            })
                .let(this.ngbTypeahead)
                .do(function (_) {
                if (!_this.editable) {
                    _this._onChange(undefined);
                }
            }));
        };
        NgbTypeahead.prototype.ngOnDestroy = function () {
            this._unsubscribeFromUserInput();
            this._zoneSubscription.unsubscribe();
        };
        NgbTypeahead.prototype.registerOnChange = function (fn) { this._onChange = fn; };
        NgbTypeahead.prototype.registerOnTouched = function (fn) { this._onTouched = fn; };
        NgbTypeahead.prototype.writeValue = function (value) { this._writeInputValue(this._formatItemForInput(value)); };
        NgbTypeahead.prototype.setDisabledState = function (isDisabled) {
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'disabled', isDisabled);
        };
        NgbTypeahead.prototype.dismissPopup = function () {
            if (this.isPopupOpen()) {
                this._closePopup();
                this._writeInputValue(this._userInput);
            }
        };
        NgbTypeahead.prototype.isPopupOpen = function () { return this._windowRef != null; };
        NgbTypeahead.prototype.handleBlur = function () { this._onTouched(); };
        NgbTypeahead.prototype.handleKeyDown = function (event) {
            if (!this._windowRef) {
                return;
            }
            if (Key$1[toString(event.which)]) {
                switch (event.which) {
                    case Key$1.ArrowDown:
                        event.preventDefault();
                        this._windowRef.instance.next();
                        this._showHint();
                        break;
                    case Key$1.ArrowUp:
                        event.preventDefault();
                        this._windowRef.instance.prev();
                        this._showHint();
                        break;
                    case Key$1.Enter:
                    case Key$1.Tab:
                        var result = this._windowRef.instance.getActive();
                        if (isDefined(result)) {
                            event.preventDefault();
                            event.stopPropagation();
                            this._selectResult(result);
                        }
                        this._closePopup();
                        break;
                    case Key$1.Escape:
                        event.preventDefault();
                        this.dismissPopup();
                        break;
                }
            }
        };
        NgbTypeahead.prototype._openPopup = function () {
            var _this = this;
            if (!this._windowRef) {
                this._windowRef = this._popupService.open();
                this._windowRef.instance.selectEvent.subscribe(function (result) { return _this._selectResultClosePopup(result); });
            }
        };
        NgbTypeahead.prototype._closePopup = function () {
            this._popupService.close();
            this._windowRef = null;
        };
        NgbTypeahead.prototype._selectResult = function (result) {
            var defaultPrevented = false;
            this.selectItem.emit({ item: result, preventDefault: function () { defaultPrevented = true; } });
            if (!defaultPrevented) {
                this.writeValue(result);
                this._onChange(result);
            }
        };
        NgbTypeahead.prototype._selectResultClosePopup = function (result) {
            this._selectResult(result);
            this._closePopup();
        };
        NgbTypeahead.prototype._showHint = function () {
            if (this.showHint) {
                var userInputLowerCase = this._userInput.toLowerCase();
                var formattedVal = this._formatItemForInput(this._windowRef.instance.getActive());
                if (userInputLowerCase === formattedVal.substr(0, this._userInput.length).toLowerCase()) {
                    this._writeInputValue(this._userInput + formattedVal.substr(this._userInput.length));
                    this._renderer.invokeElementMethod(this._elementRef.nativeElement, 'setSelectionRange', [this._userInput.length, formattedVal.length]);
                }
                else {
                    this.writeValue(this._windowRef.instance.getActive());
                }
            }
        };
        NgbTypeahead.prototype._formatItemForInput = function (item) {
            return item && this.inputFormatter ? this.inputFormatter(item) : toString(item);
        };
        NgbTypeahead.prototype._writeInputValue = function (value) {
            this._renderer.setElementProperty(this._elementRef.nativeElement, 'value', value);
        };
        NgbTypeahead.prototype._subscribeToUserInput = function (userInput$) {
            var _this = this;
            return userInput$.subscribe(function (results) {
                if (!results || results.length === 0) {
                    _this._closePopup();
                }
                else {
                    _this._openPopup();
                    _this._windowRef.instance.focusFirst = _this.focusFirst;
                    _this._windowRef.instance.results = results;
                    _this._windowRef.instance.term = _this._elementRef.nativeElement.value;
                    if (_this.resultFormatter) {
                        _this._windowRef.instance.formatter = _this.resultFormatter;
                    }
                    if (_this.resultTemplate) {
                        _this._windowRef.instance.resultTemplate = _this.resultTemplate;
                    }
                    _this._showHint();
                    _this._windowRef.changeDetectorRef.detectChanges();
                }
            });
        };
        NgbTypeahead.prototype._unsubscribeFromUserInput = function () {
            if (this._subscription) {
                this._subscription.unsubscribe();
            }
            this._subscription = null;
        };
        NgbTypeahead.decorators = [
            { type: Directive, args: [{
                        selector: 'input[ngbTypeahead]',
                        host: {
                            '(blur)': 'handleBlur()',
                            '[class.open]': 'isPopupOpen()',
                            '(document:click)': 'dismissPopup()',
                            '(keydown)': 'handleKeyDown($event)',
                            'autocomplete': 'off',
                            'autocapitalize': 'off',
                            'autocorrect': 'off'
                        },
                        providers: [NGB_TYPEAHEAD_VALUE_ACCESSOR]
                    },] },
        ];
        NgbTypeahead.ctorParameters = [
            { type: ElementRef, },
            { type: ViewContainerRef, },
            { type: Renderer, },
            { type: Injector, },
            { type: ComponentFactoryResolver, },
            { type: NgbTypeaheadConfig, },
            { type: NgZone, },
        ];
        NgbTypeahead.propDecorators = {
            'editable': [{ type: Input },],
            'focusFirst': [{ type: Input },],
            'inputFormatter': [{ type: Input },],
            'ngbTypeahead': [{ type: Input },],
            'resultFormatter': [{ type: Input },],
            'resultTemplate': [{ type: Input },],
            'showHint': [{ type: Input },],
            'selectItem': [{ type: Output },],
        };
        return NgbTypeahead;
    }());
    var NgbTypeaheadModule = (function () {
        function NgbTypeaheadModule() {
        }
        NgbTypeaheadModule.forRoot = function () { return { ngModule: NgbTypeaheadModule, providers: [NgbTypeaheadConfig] }; };
        NgbTypeaheadModule.decorators = [
            { type: NgModule, args: [{
                        declarations: [NgbTypeahead, NgbHighlight, NgbTypeaheadWindow],
                        exports: [NgbTypeahead],
                        imports: [CommonModule],
                        entryComponents: [NgbTypeaheadWindow]
                    },] },
        ];
        NgbTypeaheadModule.ctorParameters = [];
        return NgbTypeaheadModule;
    }());
    var NGB_MODULES = [
        NgbAccordionModule, NgbAlertModule, NgbButtonsModule, NgbCarouselModule, NgbCollapseModule, NgbDatepickerModule,
        NgbDropdownModule, NgbModalModule, NgbPaginationModule, NgbPopoverModule, NgbProgressbarModule, NgbRatingModule,
        NgbTabsetModule, NgbTimepickerModule, NgbTooltipModule, NgbTypeaheadModule
    ];
    var NgbRootModule = (function () {
        function NgbRootModule() {
        }
        NgbRootModule.decorators = [
            { type: NgModule, args: [{
                        imports: [
                            NgbAlertModule.forRoot(), NgbButtonsModule.forRoot(), NgbCollapseModule.forRoot(), NgbProgressbarModule.forRoot(),
                            NgbTooltipModule.forRoot(), NgbTypeaheadModule.forRoot(), NgbAccordionModule.forRoot(), NgbCarouselModule.forRoot(),
                            NgbDatepickerModule.forRoot(), NgbDropdownModule.forRoot(), NgbModalModule.forRoot(), NgbPaginationModule.forRoot(),
                            NgbPopoverModule.forRoot(), NgbProgressbarModule.forRoot(), NgbRatingModule.forRoot(), NgbTabsetModule.forRoot(),
                            NgbTimepickerModule.forRoot(), NgbTooltipModule.forRoot()
                        ],
                        exports: NGB_MODULES
                    },] },
        ];
        NgbRootModule.ctorParameters = [];
        return NgbRootModule;
    }());
    var NgbModule = (function () {
        function NgbModule() {
        }
        NgbModule.forRoot = function () { return { ngModule: NgbRootModule }; };
        NgbModule.decorators = [
            { type: NgModule, args: [{ imports: NGB_MODULES, exports: NGB_MODULES },] },
        ];
        NgbModule.ctorParameters = [];
        return NgbModule;
    }());
    var __extends$62 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subject_1$2 = Subject_1;
    var ObjectUnsubscribedError_1$3 = ObjectUnsubscribedError_1$1;
    var BehaviorSubject = (function (_super) {
        __extends$62(BehaviorSubject, _super);
        function BehaviorSubject(_value) {
            _super.call(this);
            this._value = _value;
        }
        Object.defineProperty(BehaviorSubject.prototype, "value", {
            get: function () {
                return this.getValue();
            },
            enumerable: true,
            configurable: true
        });
        BehaviorSubject.prototype._subscribe = function (subscriber) {
            var subscription = _super.prototype._subscribe.call(this, subscriber);
            if (subscription && !subscription.closed) {
                subscriber.next(this._value);
            }
            return subscription;
        };
        BehaviorSubject.prototype.getValue = function () {
            if (this.hasError) {
                throw this.thrownError;
            }
            else if (this.closed) {
                throw new ObjectUnsubscribedError_1$3.ObjectUnsubscribedError();
            }
            else {
                return this._value;
            }
        };
        BehaviorSubject.prototype.next = function (value) {
            _super.prototype.next.call(this, this._value = value);
        };
        return BehaviorSubject;
    }(Subject_1$2.Subject));
    var BehaviorSubject_2 = BehaviorSubject;
    function isPromise$3(value) {
        return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';
    }
    var isPromise_2 = isPromise$3;
    var isPromise_1$1 = {
        isPromise: isPromise_2
    };
    var root_1$7 = root;
    function symbolIteratorPonyfill(root$$1) {
        var Symbol = root$$1.Symbol;
        if (typeof Symbol === 'function') {
            if (!Symbol.iterator) {
                Symbol.iterator = Symbol('iterator polyfill');
            }
            return Symbol.iterator;
        }
        else {
            var Set_1 = root$$1.Set;
            if (Set_1 && typeof new Set_1()['@@iterator'] === 'function') {
                return '@@iterator';
            }
            var Map_1 = root$$1.Map;
            if (Map_1) {
                var keys = Object.getOwnPropertyNames(Map_1.prototype);
                for (var i = 0; i < keys.length; ++i) {
                    var key = keys[i];
                    if (key !== 'entries' && key !== 'size' && Map_1.prototype[key] === Map_1.prototype['entries']) {
                        return key;
                    }
                }
            }
            return '@@iterator';
        }
    }
    var symbolIteratorPonyfill_1 = symbolIteratorPonyfill;
    var $$iterator = symbolIteratorPonyfill(root_1$7.root);
    var iterator = {
        symbolIteratorPonyfill: symbolIteratorPonyfill_1,
        $$iterator: $$iterator
    };
    var __extends$64 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var root_1$6 = root;
    var Observable_1$9 = Observable_1$1;
    var iterator_1$1 = iterator;
    var IteratorObservable = (function (_super) {
        __extends$64(IteratorObservable, _super);
        function IteratorObservable(iterator$$1, scheduler) {
            _super.call(this);
            this.scheduler = scheduler;
            if (iterator$$1 == null) {
                throw new Error('iterator cannot be null.');
            }
            this.iterator = getIterator(iterator$$1);
        }
        IteratorObservable.create = function (iterator$$1, scheduler) {
            return new IteratorObservable(iterator$$1, scheduler);
        };
        IteratorObservable.dispatch = function (state) {
            var index = state.index, hasError = state.hasError, iterator$$1 = state.iterator, subscriber = state.subscriber;
            if (hasError) {
                subscriber.error(state.error);
                return;
            }
            var result = iterator$$1.next();
            if (result.done) {
                subscriber.complete();
                return;
            }
            subscriber.next(result.value);
            state.index = index + 1;
            if (subscriber.closed) {
                if (typeof iterator$$1.return === 'function') {
                    iterator$$1.return();
                }
                return;
            }
            this.schedule(state);
        };
        IteratorObservable.prototype._subscribe = function (subscriber) {
            var index = 0;
            var _a = this, iterator$$1 = _a.iterator, scheduler = _a.scheduler;
            if (scheduler) {
                return scheduler.schedule(IteratorObservable.dispatch, 0, {
                    index: index, iterator: iterator$$1, subscriber: subscriber
                });
            }
            else {
                do {
                    var result = iterator$$1.next();
                    if (result.done) {
                        subscriber.complete();
                        break;
                    }
                    else {
                        subscriber.next(result.value);
                    }
                    if (subscriber.closed) {
                        if (typeof iterator$$1.return === 'function') {
                            iterator$$1.return();
                        }
                        break;
                    }
                } while (true);
            }
        };
        return IteratorObservable;
    }(Observable_1$9.Observable));
    var IteratorObservable_2 = IteratorObservable;
    var StringIterator = (function () {
        function StringIterator(str, idx, len) {
            if (idx === void 0) {
                idx = 0;
            }
            if (len === void 0) {
                len = str.length;
            }
            this.str = str;
            this.idx = idx;
            this.len = len;
        }
        StringIterator.prototype[iterator_1$1.$$iterator] = function () { return (this); };
        StringIterator.prototype.next = function () {
            return this.idx < this.len ? {
                done: false,
                value: this.str.charAt(this.idx++)
            } : {
                done: true,
                value: undefined
            };
        };
        return StringIterator;
    }());
    var ArrayIterator = (function () {
        function ArrayIterator(arr, idx, len) {
            if (idx === void 0) {
                idx = 0;
            }
            if (len === void 0) {
                len = toLength(arr);
            }
            this.arr = arr;
            this.idx = idx;
            this.len = len;
        }
        ArrayIterator.prototype[iterator_1$1.$$iterator] = function () { return this; };
        ArrayIterator.prototype.next = function () {
            return this.idx < this.len ? {
                done: false,
                value: this.arr[this.idx++]
            } : {
                done: true,
                value: undefined
            };
        };
        return ArrayIterator;
    }());
    function getIterator(obj) {
        var i = obj[iterator_1$1.$$iterator];
        if (!i && typeof obj === 'string') {
            return new StringIterator(obj);
        }
        if (!i && obj.length !== undefined) {
            return new ArrayIterator(obj);
        }
        if (!i) {
            throw new TypeError('object is not iterable');
        }
        return obj[iterator_1$1.$$iterator]();
    }
    var maxSafeInteger = Math.pow(2, 53) - 1;
    function toLength(o) {
        var len = +o.length;
        if (isNaN(len)) {
            return 0;
        }
        if (len === 0 || !numberIsFinite(len)) {
            return len;
        }
        len = sign(len) * Math.floor(Math.abs(len));
        if (len <= 0) {
            return 0;
        }
        if (len > maxSafeInteger) {
            return maxSafeInteger;
        }
        return len;
    }
    function numberIsFinite(value) {
        return typeof value === 'number' && root_1$6.root.isFinite(value);
    }
    function sign(value) {
        var valueAsNumber = +value;
        if (valueAsNumber === 0) {
            return valueAsNumber;
        }
        if (isNaN(valueAsNumber)) {
            return valueAsNumber;
        }
        return valueAsNumber < 0 ? -1 : 1;
    }
    var IteratorObservable_1$1 = {
        IteratorObservable: IteratorObservable_2
    };
    var __extends$66 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Observable_1$11 = Observable_1$1;
    var ScalarObservable = (function (_super) {
        __extends$66(ScalarObservable, _super);
        function ScalarObservable(value, scheduler) {
            _super.call(this);
            this.value = value;
            this.scheduler = scheduler;
            this._isScalar = true;
            if (scheduler) {
                this._isScalar = false;
            }
        }
        ScalarObservable.create = function (value, scheduler) {
            return new ScalarObservable(value, scheduler);
        };
        ScalarObservable.dispatch = function (state) {
            var done = state.done, value = state.value, subscriber = state.subscriber;
            if (done) {
                subscriber.complete();
                return;
            }
            subscriber.next(value);
            if (subscriber.closed) {
                return;
            }
            state.done = true;
            this.schedule(state);
        };
        ScalarObservable.prototype._subscribe = function (subscriber) {
            var value = this.value;
            var scheduler = this.scheduler;
            if (scheduler) {
                return scheduler.schedule(ScalarObservable.dispatch, 0, {
                    done: false, value: value, subscriber: subscriber
                });
            }
            else {
                subscriber.next(value);
                if (!subscriber.closed) {
                    subscriber.complete();
                }
            }
        };
        return ScalarObservable;
    }(Observable_1$11.Observable));
    var ScalarObservable_2 = ScalarObservable;
    var ScalarObservable_1$1 = {
        ScalarObservable: ScalarObservable_2
    };
    var __extends$67 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Observable_1$12 = Observable_1$1;
    var EmptyObservable = (function (_super) {
        __extends$67(EmptyObservable, _super);
        function EmptyObservable(scheduler) {
            _super.call(this);
            this.scheduler = scheduler;
        }
        EmptyObservable.create = function (scheduler) {
            return new EmptyObservable(scheduler);
        };
        EmptyObservable.dispatch = function (arg) {
            var subscriber = arg.subscriber;
            subscriber.complete();
        };
        EmptyObservable.prototype._subscribe = function (subscriber) {
            var scheduler = this.scheduler;
            if (scheduler) {
                return scheduler.schedule(EmptyObservable.dispatch, 0, { subscriber: subscriber });
            }
            else {
                subscriber.complete();
            }
        };
        return EmptyObservable;
    }(Observable_1$12.Observable));
    var EmptyObservable_2 = EmptyObservable;
    var EmptyObservable_1$1 = {
        EmptyObservable: EmptyObservable_2
    };
    function isScheduler(value) {
        return value && typeof value.schedule === 'function';
    }
    var isScheduler_2 = isScheduler;
    var isScheduler_1$1 = {
        isScheduler: isScheduler_2
    };
    var __extends$65 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Observable_1$10 = Observable_1$1;
    var ScalarObservable_1 = ScalarObservable_1$1;
    var EmptyObservable_1 = EmptyObservable_1$1;
    var isScheduler_1 = isScheduler_1$1;
    var ArrayObservable = (function (_super) {
        __extends$65(ArrayObservable, _super);
        function ArrayObservable(array, scheduler) {
            _super.call(this);
            this.array = array;
            this.scheduler = scheduler;
            if (!scheduler && array.length === 1) {
                this._isScalar = true;
                this.value = array[0];
            }
        }
        ArrayObservable.create = function (array, scheduler) {
            return new ArrayObservable(array, scheduler);
        };
        ArrayObservable.of = function () {
            var array = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                array[_i - 0] = arguments[_i];
            }
            var scheduler = array[array.length - 1];
            if (isScheduler_1.isScheduler(scheduler)) {
                array.pop();
            }
            else {
                scheduler = null;
            }
            var len = array.length;
            if (len > 1) {
                return new ArrayObservable(array, scheduler);
            }
            else if (len === 1) {
                return new ScalarObservable_1.ScalarObservable(array[0], scheduler);
            }
            else {
                return new EmptyObservable_1.EmptyObservable(scheduler);
            }
        };
        ArrayObservable.dispatch = function (state) {
            var array = state.array, index = state.index, count = state.count, subscriber = state.subscriber;
            if (index >= count) {
                subscriber.complete();
                return;
            }
            subscriber.next(array[index]);
            if (subscriber.closed) {
                return;
            }
            state.index = index + 1;
            this.schedule(state);
        };
        ArrayObservable.prototype._subscribe = function (subscriber) {
            var index = 0;
            var array = this.array;
            var count = array.length;
            var scheduler = this.scheduler;
            if (scheduler) {
                return scheduler.schedule(ArrayObservable.dispatch, 0, {
                    array: array, index: index, count: count, subscriber: subscriber
                });
            }
            else {
                for (var i = 0; i < count && !subscriber.closed; i++) {
                    subscriber.next(array[i]);
                }
                subscriber.complete();
            }
        };
        return ArrayObservable;
    }(Observable_1$10.Observable));
    var ArrayObservable_2 = ArrayObservable;
    var ArrayObservable_1$1 = {
        ArrayObservable: ArrayObservable_2
    };
    var __extends$68 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Observable_1$13 = Observable_1$1;
    var ScalarObservable_1$3 = ScalarObservable_1$1;
    var EmptyObservable_1$3 = EmptyObservable_1$1;
    var ArrayLikeObservable = (function (_super) {
        __extends$68(ArrayLikeObservable, _super);
        function ArrayLikeObservable(arrayLike, scheduler) {
            _super.call(this);
            this.arrayLike = arrayLike;
            this.scheduler = scheduler;
            if (!scheduler && arrayLike.length === 1) {
                this._isScalar = true;
                this.value = arrayLike[0];
            }
        }
        ArrayLikeObservable.create = function (arrayLike, scheduler) {
            var length = arrayLike.length;
            if (length === 0) {
                return new EmptyObservable_1$3.EmptyObservable();
            }
            else if (length === 1) {
                return new ScalarObservable_1$3.ScalarObservable(arrayLike[0], scheduler);
            }
            else {
                return new ArrayLikeObservable(arrayLike, scheduler);
            }
        };
        ArrayLikeObservable.dispatch = function (state) {
            var arrayLike = state.arrayLike, index = state.index, length = state.length, subscriber = state.subscriber;
            if (subscriber.closed) {
                return;
            }
            if (index >= length) {
                subscriber.complete();
                return;
            }
            subscriber.next(arrayLike[index]);
            state.index = index + 1;
            this.schedule(state);
        };
        ArrayLikeObservable.prototype._subscribe = function (subscriber) {
            var index = 0;
            var _a = this, arrayLike = _a.arrayLike, scheduler = _a.scheduler;
            var length = arrayLike.length;
            if (scheduler) {
                return scheduler.schedule(ArrayLikeObservable.dispatch, 0, {
                    arrayLike: arrayLike, index: index, length: length, subscriber: subscriber
                });
            }
            else {
                for (var i = 0; i < length && !subscriber.closed; i++) {
                    subscriber.next(arrayLike[i]);
                }
                subscriber.complete();
            }
        };
        return ArrayLikeObservable;
    }(Observable_1$13.Observable));
    var ArrayLikeObservable_2 = ArrayLikeObservable;
    var ArrayLikeObservable_1$1 = {
        ArrayLikeObservable: ArrayLikeObservable_2
    };
    var Observable_1$14 = Observable_1$1;
    var Notification = (function () {
        function Notification(kind, value, error) {
            this.kind = kind;
            this.value = value;
            this.error = error;
            this.hasValue = kind === 'N';
        }
        Notification.prototype.observe = function (observer) {
            switch (this.kind) {
                case 'N':
                    return observer.next && observer.next(this.value);
                case 'E':
                    return observer.error && observer.error(this.error);
                case 'C':
                    return observer.complete && observer.complete();
            }
        };
        Notification.prototype.do = function (next, error, complete) {
            var kind = this.kind;
            switch (kind) {
                case 'N':
                    return next && next(this.value);
                case 'E':
                    return error && error(this.error);
                case 'C':
                    return complete && complete();
            }
        };
        Notification.prototype.accept = function (nextOrObserver, error, complete) {
            if (nextOrObserver && typeof nextOrObserver.next === 'function') {
                return this.observe(nextOrObserver);
            }
            else {
                return this.do(nextOrObserver, error, complete);
            }
        };
        Notification.prototype.toObservable = function () {
            var kind = this.kind;
            switch (kind) {
                case 'N':
                    return Observable_1$14.Observable.of(this.value);
                case 'E':
                    return Observable_1$14.Observable.throw(this.error);
                case 'C':
                    return Observable_1$14.Observable.empty();
            }
            throw new Error('unexpected notification kind value');
        };
        Notification.createNext = function (value) {
            if (typeof value !== 'undefined') {
                return new Notification('N', value);
            }
            return this.undefinedValueNotification;
        };
        Notification.createError = function (err) {
            return new Notification('E', undefined, err);
        };
        Notification.createComplete = function () {
            return this.completeNotification;
        };
        Notification.completeNotification = new Notification('C');
        Notification.undefinedValueNotification = new Notification('N', undefined);
        return Notification;
    }());
    var Notification_2 = Notification;
    var Notification_1$1 = {
        Notification: Notification_2
    };
    var __extends$69 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subscriber_1$5 = Subscriber_1$2;
    var Notification_1 = Notification_1$1;
    function observeOn(scheduler, delay) {
        if (delay === void 0) {
            delay = 0;
        }
        return this.lift(new ObserveOnOperator(scheduler, delay));
    }
    var observeOn_2 = observeOn;
    var ObserveOnOperator = (function () {
        function ObserveOnOperator(scheduler, delay) {
            if (delay === void 0) {
                delay = 0;
            }
            this.scheduler = scheduler;
            this.delay = delay;
        }
        ObserveOnOperator.prototype.call = function (subscriber, source) {
            return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));
        };
        return ObserveOnOperator;
    }());
    var ObserveOnOperator_1 = ObserveOnOperator;
    var ObserveOnSubscriber = (function (_super) {
        __extends$69(ObserveOnSubscriber, _super);
        function ObserveOnSubscriber(destination, scheduler, delay) {
            if (delay === void 0) {
                delay = 0;
            }
            _super.call(this, destination);
            this.scheduler = scheduler;
            this.delay = delay;
        }
        ObserveOnSubscriber.dispatch = function (arg) {
            var notification = arg.notification, destination = arg.destination;
            notification.observe(destination);
        };
        ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {
            this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));
        };
        ObserveOnSubscriber.prototype._next = function (value) {
            this.scheduleMessage(Notification_1.Notification.createNext(value));
        };
        ObserveOnSubscriber.prototype._error = function (err) {
            this.scheduleMessage(Notification_1.Notification.createError(err));
        };
        ObserveOnSubscriber.prototype._complete = function () {
            this.scheduleMessage(Notification_1.Notification.createComplete());
        };
        return ObserveOnSubscriber;
    }(Subscriber_1$5.Subscriber));
    var ObserveOnSubscriber_1 = ObserveOnSubscriber;
    var ObserveOnMessage = (function () {
        function ObserveOnMessage(notification, destination) {
            this.notification = notification;
            this.destination = destination;
        }
        return ObserveOnMessage;
    }());
    var ObserveOnMessage_1 = ObserveOnMessage;
    var observeOn_1$1 = {
        observeOn: observeOn_2,
        ObserveOnOperator: ObserveOnOperator_1,
        ObserveOnSubscriber: ObserveOnSubscriber_1,
        ObserveOnMessage: ObserveOnMessage_1
    };
    var __extends$63 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var isArray_1$2 = isArray;
    var isPromise_1 = isPromise_1$1;
    var PromiseObservable_1$3 = PromiseObservable_1$1;
    var IteratorObservable_1 = IteratorObservable_1$1;
    var ArrayObservable_1 = ArrayObservable_1$1;
    var ArrayLikeObservable_1 = ArrayLikeObservable_1$1;
    var iterator_1 = iterator;
    var Observable_1$8 = Observable_1$1;
    var observeOn_1 = observeOn_1$1;
    var observable_1$1 = observable;
    var isArrayLike = (function (x) { return x && typeof x.length === 'number'; });
    var FromObservable = (function (_super) {
        __extends$63(FromObservable, _super);
        function FromObservable(ish, scheduler) {
            _super.call(this, null);
            this.ish = ish;
            this.scheduler = scheduler;
        }
        FromObservable.create = function (ish, scheduler) {
            if (ish != null) {
                if (typeof ish[observable_1$1.$$observable] === 'function') {
                    if (ish instanceof Observable_1$8.Observable && !scheduler) {
                        return ish;
                    }
                    return new FromObservable(ish, scheduler);
                }
                else if (isArray_1$2.isArray(ish)) {
                    return new ArrayObservable_1.ArrayObservable(ish, scheduler);
                }
                else if (isPromise_1.isPromise(ish)) {
                    return new PromiseObservable_1$3.PromiseObservable(ish, scheduler);
                }
                else if (typeof ish[iterator_1.$$iterator] === 'function' || typeof ish === 'string') {
                    return new IteratorObservable_1.IteratorObservable(ish, scheduler);
                }
                else if (isArrayLike(ish)) {
                    return new ArrayLikeObservable_1.ArrayLikeObservable(ish, scheduler);
                }
            }
            throw new TypeError((ish !== null && typeof ish || ish) + ' is not observable');
        };
        FromObservable.prototype._subscribe = function (subscriber) {
            var ish = this.ish;
            var scheduler = this.scheduler;
            if (scheduler == null) {
                return ish[observable_1$1.$$observable]().subscribe(subscriber);
            }
            else {
                return ish[observable_1$1.$$observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber, scheduler, 0));
            }
        };
        return FromObservable;
    }(Observable_1$8.Observable));
    var FromObservable_2 = FromObservable;
    var FromObservable_1$1 = {
        FromObservable: FromObservable_2
    };
    var FromObservable_1 = FromObservable_1$1;
    var from_1 = FromObservable_1.FromObservable.create;
    var ArrayObservable_1$3 = ArrayObservable_1$1;
    var of_1 = ArrayObservable_1$3.ArrayObservable.of;
    var __extends$71 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subscriber_1$6 = Subscriber_1$2;
    var InnerSubscriber = (function (_super) {
        __extends$71(InnerSubscriber, _super);
        function InnerSubscriber(parent, outerValue, outerIndex) {
            _super.call(this);
            this.parent = parent;
            this.outerValue = outerValue;
            this.outerIndex = outerIndex;
            this.index = 0;
        }
        InnerSubscriber.prototype._next = function (value) {
            this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);
        };
        InnerSubscriber.prototype._error = function (error) {
            this.parent.notifyError(error, this);
            this.unsubscribe();
        };
        InnerSubscriber.prototype._complete = function () {
            this.parent.notifyComplete(this);
            this.unsubscribe();
        };
        return InnerSubscriber;
    }(Subscriber_1$6.Subscriber));
    var InnerSubscriber_2 = InnerSubscriber;
    var InnerSubscriber_1$1 = {
        InnerSubscriber: InnerSubscriber_2
    };
    var root_1$8 = root;
    var isArray_1$3 = isArray;
    var isPromise_1$3 = isPromise_1$1;
    var isObject_1$3 = isObject_1$1;
    var Observable_1$15 = Observable_1$1;
    var iterator_1$2 = iterator;
    var InnerSubscriber_1 = InnerSubscriber_1$1;
    var observable_1$2 = observable;
    function subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {
        var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);
        if (destination.closed) {
            return null;
        }
        if (result instanceof Observable_1$15.Observable) {
            if (result._isScalar) {
                destination.next(result.value);
                destination.complete();
                return null;
            }
            else {
                return result.subscribe(destination);
            }
        }
        else if (isArray_1$3.isArray(result)) {
            for (var i = 0, len = result.length; i < len && !destination.closed; i++) {
                destination.next(result[i]);
            }
            if (!destination.closed) {
                destination.complete();
            }
        }
        else if (isPromise_1$3.isPromise(result)) {
            result.then(function (value) {
                if (!destination.closed) {
                    destination.next(value);
                    destination.complete();
                }
            }, function (err) { return destination.error(err); })
                .then(null, function (err) {
                root_1$8.root.setTimeout(function () { throw err; });
            });
            return destination;
        }
        else if (result && typeof result[iterator_1$2.$$iterator] === 'function') {
            var iterator$$1 = result[iterator_1$2.$$iterator]();
            do {
                var item = iterator$$1.next();
                if (item.done) {
                    destination.complete();
                    break;
                }
                destination.next(item.value);
                if (destination.closed) {
                    break;
                }
            } while (true);
        }
        else if (result && typeof result[observable_1$2.$$observable] === 'function') {
            var obs = result[observable_1$2.$$observable]();
            if (typeof obs.subscribe !== 'function') {
                destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));
            }
            else {
                return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));
            }
        }
        else {
            var value = isObject_1$3.isObject(result) ? 'an invalid object' : "'" + result + "'";
            var msg = ("You provided " + value + " where a stream was expected.")
                + ' You can provide an Observable, Promise, Array, or Iterable.';
            destination.error(new TypeError(msg));
        }
        return null;
    }
    var subscribeToResult_2 = subscribeToResult;
    var subscribeToResult_1$1 = {
        subscribeToResult: subscribeToResult_2
    };
    var __extends$72 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subscriber_1$7 = Subscriber_1$2;
    var OuterSubscriber = (function (_super) {
        __extends$72(OuterSubscriber, _super);
        function OuterSubscriber() {
            _super.apply(this, arguments);
        }
        OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            this.destination.next(innerValue);
        };
        OuterSubscriber.prototype.notifyError = function (error, innerSub) {
            this.destination.error(error);
        };
        OuterSubscriber.prototype.notifyComplete = function (innerSub) {
            this.destination.complete();
        };
        return OuterSubscriber;
    }(Subscriber_1$7.Subscriber));
    var OuterSubscriber_2 = OuterSubscriber;
    var OuterSubscriber_1$1 = {
        OuterSubscriber: OuterSubscriber_2
    };
    var __extends$70 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var subscribeToResult_1 = subscribeToResult_1$1;
    var OuterSubscriber_1 = OuterSubscriber_1$1;
    function mergeMap(project, resultSelector, concurrent) {
        if (concurrent === void 0) {
            concurrent = Number.POSITIVE_INFINITY;
        }
        if (typeof resultSelector === 'number') {
            concurrent = resultSelector;
            resultSelector = null;
        }
        return this.lift(new MergeMapOperator(project, resultSelector, concurrent));
    }
    var mergeMap_2 = mergeMap;
    var MergeMapOperator = (function () {
        function MergeMapOperator(project, resultSelector, concurrent) {
            if (concurrent === void 0) {
                concurrent = Number.POSITIVE_INFINITY;
            }
            this.project = project;
            this.resultSelector = resultSelector;
            this.concurrent = concurrent;
        }
        MergeMapOperator.prototype.call = function (observer, source) {
            return source.subscribe(new MergeMapSubscriber(observer, this.project, this.resultSelector, this.concurrent));
        };
        return MergeMapOperator;
    }());
    var MergeMapOperator_1 = MergeMapOperator;
    var MergeMapSubscriber = (function (_super) {
        __extends$70(MergeMapSubscriber, _super);
        function MergeMapSubscriber(destination, project, resultSelector, concurrent) {
            if (concurrent === void 0) {
                concurrent = Number.POSITIVE_INFINITY;
            }
            _super.call(this, destination);
            this.project = project;
            this.resultSelector = resultSelector;
            this.concurrent = concurrent;
            this.hasCompleted = false;
            this.buffer = [];
            this.active = 0;
            this.index = 0;
        }
        MergeMapSubscriber.prototype._next = function (value) {
            if (this.active < this.concurrent) {
                this._tryNext(value);
            }
            else {
                this.buffer.push(value);
            }
        };
        MergeMapSubscriber.prototype._tryNext = function (value) {
            var result;
            var index = this.index++;
            try {
                result = this.project(value, index);
            }
            catch (err) {
                this.destination.error(err);
                return;
            }
            this.active++;
            this._innerSub(result, value, index);
        };
        MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {
            this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));
        };
        MergeMapSubscriber.prototype._complete = function () {
            this.hasCompleted = true;
            if (this.active === 0 && this.buffer.length === 0) {
                this.destination.complete();
            }
        };
        MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {
            if (this.resultSelector) {
                this._notifyResultSelector(outerValue, innerValue, outerIndex, innerIndex);
            }
            else {
                this.destination.next(innerValue);
            }
        };
        MergeMapSubscriber.prototype._notifyResultSelector = function (outerValue, innerValue, outerIndex, innerIndex) {
            var result;
            try {
                result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);
            }
            catch (err) {
                this.destination.error(err);
                return;
            }
            this.destination.next(result);
        };
        MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {
            var buffer = this.buffer;
            this.remove(innerSub);
            this.active--;
            if (buffer.length > 0) {
                this._next(buffer.shift());
            }
            else if (this.active === 0 && this.hasCompleted) {
                this.destination.complete();
            }
        };
        return MergeMapSubscriber;
    }(OuterSubscriber_1.OuterSubscriber));
    var MergeMapSubscriber_1 = MergeMapSubscriber;
    var mergeMap_1$1 = {
        mergeMap: mergeMap_2,
        MergeMapOperator: MergeMapOperator_1,
        MergeMapSubscriber: MergeMapSubscriber_1
    };
    var mergeMap_1 = mergeMap_1$1;
    function concatMap(project, resultSelector) {
        return this.lift(new mergeMap_1.MergeMapOperator(project, resultSelector, 1));
    }
    var concatMap_2 = concatMap;
    var __extends$73 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subscriber_1$8 = Subscriber_1$2;
    function every(predicate, thisArg) {
        return this.lift(new EveryOperator(predicate, thisArg, this));
    }
    var every_2 = every;
    var EveryOperator = (function () {
        function EveryOperator(predicate, thisArg, source) {
            this.predicate = predicate;
            this.thisArg = thisArg;
            this.source = source;
        }
        EveryOperator.prototype.call = function (observer, source) {
            return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));
        };
        return EveryOperator;
    }());
    var EverySubscriber = (function (_super) {
        __extends$73(EverySubscriber, _super);
        function EverySubscriber(destination, predicate, thisArg, source) {
            _super.call(this, destination);
            this.predicate = predicate;
            this.thisArg = thisArg;
            this.source = source;
            this.index = 0;
            this.thisArg = thisArg || this;
        }
        EverySubscriber.prototype.notifyComplete = function (everyValueMatch) {
            this.destination.next(everyValueMatch);
            this.destination.complete();
        };
        EverySubscriber.prototype._next = function (value) {
            var result = false;
            try {
                result = this.predicate.call(this.thisArg, value, this.index++, this.source);
            }
            catch (err) {
                this.destination.error(err);
                return;
            }
            if (!result) {
                this.notifyComplete(false);
            }
        };
        EverySubscriber.prototype._complete = function () {
            this.notifyComplete(true);
        };
        return EverySubscriber;
    }(Subscriber_1$8.Subscriber));
    var __extends$75 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var EmptyError = (function (_super) {
        __extends$75(EmptyError, _super);
        function EmptyError() {
            var err = _super.call(this, 'no elements in sequence');
            this.name = err.name = 'EmptyError';
            this.stack = err.stack;
            this.message = err.message;
        }
        return EmptyError;
    }(Error));
    var EmptyError_2 = EmptyError;
    var EmptyError_1$1 = {
        EmptyError: EmptyError_2
    };
    var __extends$74 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subscriber_1$9 = Subscriber_1$2;
    var EmptyError_1 = EmptyError_1$1;
    function first(predicate, resultSelector, defaultValue) {
        return this.lift(new FirstOperator(predicate, resultSelector, defaultValue, this));
    }
    var first_2 = first;
    var FirstOperator = (function () {
        function FirstOperator(predicate, resultSelector, defaultValue, source) {
            this.predicate = predicate;
            this.resultSelector = resultSelector;
            this.defaultValue = defaultValue;
            this.source = source;
        }
        FirstOperator.prototype.call = function (observer, source) {
            return source.subscribe(new FirstSubscriber(observer, this.predicate, this.resultSelector, this.defaultValue, this.source));
        };
        return FirstOperator;
    }());
    var FirstSubscriber = (function (_super) {
        __extends$74(FirstSubscriber, _super);
        function FirstSubscriber(destination, predicate, resultSelector, defaultValue, source) {
            _super.call(this, destination);
            this.predicate = predicate;
            this.resultSelector = resultSelector;
            this.defaultValue = defaultValue;
            this.source = source;
            this.index = 0;
            this.hasCompleted = false;
            this._emitted = false;
        }
        FirstSubscriber.prototype._next = function (value) {
            var index = this.index++;
            if (this.predicate) {
                this._tryPredicate(value, index);
            }
            else {
                this._emit(value, index);
            }
        };
        FirstSubscriber.prototype._tryPredicate = function (value, index) {
            var result;
            try {
                result = this.predicate(value, index, this.source);
            }
            catch (err) {
                this.destination.error(err);
                return;
            }
            if (result) {
                this._emit(value, index);
            }
        };
        FirstSubscriber.prototype._emit = function (value, index) {
            if (this.resultSelector) {
                this._tryResultSelector(value, index);
                return;
            }
            this._emitFinal(value);
        };
        FirstSubscriber.prototype._tryResultSelector = function (value, index) {
            var result;
            try {
                result = this.resultSelector(value, index);
            }
            catch (err) {
                this.destination.error(err);
                return;
            }
            this._emitFinal(result);
        };
        FirstSubscriber.prototype._emitFinal = function (value) {
            var destination = this.destination;
            if (!this._emitted) {
                this._emitted = true;
                destination.next(value);
                destination.complete();
                this.hasCompleted = true;
            }
        };
        FirstSubscriber.prototype._complete = function () {
            var destination = this.destination;
            if (!this.hasCompleted && typeof this.defaultValue !== 'undefined') {
                destination.next(this.defaultValue);
                destination.complete();
            }
            else if (!this.hasCompleted) {
                destination.error(new EmptyError_1.EmptyError);
            }
        };
        return FirstSubscriber;
    }(Subscriber_1$9.Subscriber));
    var __extends$76 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subscriber_1$10 = Subscriber_1$2;
    function map(project, thisArg) {
        if (typeof project !== 'function') {
            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');
        }
        return this.lift(new MapOperator(project, thisArg));
    }
    var map_2 = map;
    var MapOperator = (function () {
        function MapOperator(project, thisArg) {
            this.project = project;
            this.thisArg = thisArg;
        }
        MapOperator.prototype.call = function (subscriber, source) {
            return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));
        };
        return MapOperator;
    }());
    var MapSubscriber = (function (_super) {
        __extends$76(MapSubscriber, _super);
        function MapSubscriber(destination, project, thisArg) {
            _super.call(this, destination);
            this.project = project;
            this.count = 0;
            this.thisArg = thisArg || this;
        }
        MapSubscriber.prototype._next = function (value) {
            var result;
            try {
                result = this.project.call(this.thisArg, value, this.count++);
            }
            catch (err) {
                this.destination.error(err);
                return;
            }
            this.destination.next(result);
        };
        return MapSubscriber;
    }(Subscriber_1$10.Subscriber));
    var __extends$77 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subscriber_1$11 = Subscriber_1$2;
    function reduce(accumulator, seed) {
        var hasSeed = false;
        if (arguments.length >= 2) {
            hasSeed = true;
        }
        return this.lift(new ReduceOperator(accumulator, seed, hasSeed));
    }
    var reduce_2 = reduce;
    var ReduceOperator = (function () {
        function ReduceOperator(accumulator, seed, hasSeed) {
            if (hasSeed === void 0) {
                hasSeed = false;
            }
            this.accumulator = accumulator;
            this.seed = seed;
            this.hasSeed = hasSeed;
        }
        ReduceOperator.prototype.call = function (subscriber, source) {
            return source.subscribe(new ReduceSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));
        };
        return ReduceOperator;
    }());
    var ReduceSubscriber = (function (_super) {
        __extends$77(ReduceSubscriber, _super);
        function ReduceSubscriber(destination, accumulator, seed, hasSeed) {
            _super.call(this, destination);
            this.accumulator = accumulator;
            this.hasSeed = hasSeed;
            this.hasValue = false;
            this.acc = seed;
        }
        ReduceSubscriber.prototype._next = function (value) {
            if (this.hasValue || (this.hasValue = this.hasSeed)) {
                this._tryReduce(value);
            }
            else {
                this.acc = value;
                this.hasValue = true;
            }
        };
        ReduceSubscriber.prototype._tryReduce = function (value) {
            var result;
            try {
                result = this.accumulator(this.acc, value);
            }
            catch (err) {
                this.destination.error(err);
                return;
            }
            this.acc = result;
        };
        ReduceSubscriber.prototype._complete = function () {
            if (this.hasValue || this.hasSeed) {
                this.destination.next(this.acc);
            }
            this.destination.complete();
        };
        return ReduceSubscriber;
    }(Subscriber_1$11.Subscriber));
    var __extends$78 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var OuterSubscriber_1$3 = OuterSubscriber_1$1;
    var subscribeToResult_1$3 = subscribeToResult_1$1;
    function _catch(selector) {
        var operator = new CatchOperator(selector);
        var caught = this.lift(operator);
        return (operator.caught = caught);
    }
    var _catch_2 = _catch;
    var CatchOperator = (function () {
        function CatchOperator(selector) {
            this.selector = selector;
        }
        CatchOperator.prototype.call = function (subscriber, source) {
            return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));
        };
        return CatchOperator;
    }());
    var CatchSubscriber = (function (_super) {
        __extends$78(CatchSubscriber, _super);
        function CatchSubscriber(destination, selector, caught) {
            _super.call(this, destination);
            this.selector = selector;
            this.caught = caught;
        }
        CatchSubscriber.prototype.error = function (err) {
            if (!this.isStopped) {
                var result = void 0;
                try {
                    result = this.selector(err, this.caught);
                }
                catch (err) {
                    this.destination.error(err);
                    return;
                }
                this.unsubscribe();
                this.destination.remove(this);
                subscribeToResult_1$3.subscribeToResult(this, result);
            }
        };
        return CatchSubscriber;
    }(OuterSubscriber_1$3.OuterSubscriber));
    var __extends$79 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var OuterSubscriber_1$4 = OuterSubscriber_1$1;
    var subscribeToResult_1$4 = subscribeToResult_1$1;
    function mergeAll(concurrent) {
        if (concurrent === void 0) {
            concurrent = Number.POSITIVE_INFINITY;
        }
        return this.lift(new MergeAllOperator(concurrent));
    }
    var mergeAll_2 = mergeAll;
    var MergeAllOperator = (function () {
        function MergeAllOperator(concurrent) {
            this.concurrent = concurrent;
        }
        MergeAllOperator.prototype.call = function (observer, source) {
            return source.subscribe(new MergeAllSubscriber(observer, this.concurrent));
        };
        return MergeAllOperator;
    }());
    var MergeAllOperator_1 = MergeAllOperator;
    var MergeAllSubscriber = (function (_super) {
        __extends$79(MergeAllSubscriber, _super);
        function MergeAllSubscriber(destination, concurrent) {
            _super.call(this, destination);
            this.concurrent = concurrent;
            this.hasCompleted = false;
            this.buffer = [];
            this.active = 0;
        }
        MergeAllSubscriber.prototype._next = function (observable) {
            if (this.active < this.concurrent) {
                this.active++;
                this.add(subscribeToResult_1$4.subscribeToResult(this, observable));
            }
            else {
                this.buffer.push(observable);
            }
        };
        MergeAllSubscriber.prototype._complete = function () {
            this.hasCompleted = true;
            if (this.active === 0 && this.buffer.length === 0) {
                this.destination.complete();
            }
        };
        MergeAllSubscriber.prototype.notifyComplete = function (innerSub) {
            var buffer = this.buffer;
            this.remove(innerSub);
            this.active--;
            if (buffer.length > 0) {
                this._next(buffer.shift());
            }
            else if (this.active === 0 && this.hasCompleted) {
                this.destination.complete();
            }
        };
        return MergeAllSubscriber;
    }(OuterSubscriber_1$4.OuterSubscriber));
    var MergeAllSubscriber_1 = MergeAllSubscriber;
    var mergeAll_1$1 = {
        mergeAll: mergeAll_2,
        MergeAllOperator: MergeAllOperator_1,
        MergeAllSubscriber: MergeAllSubscriber_1
    };
    var mergeAll_1 = mergeAll_1$1;
    function concatAll() {
        return this.lift(new mergeAll_1.MergeAllOperator(1));
    }
    var concatAll_2 = concatAll;
    var __extends$80 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subscriber_1$12 = Subscriber_1$2;
    var EmptyError_1$3 = EmptyError_1$1;
    function last$1(predicate, resultSelector, defaultValue) {
        return this.lift(new LastOperator(predicate, resultSelector, defaultValue, this));
    }
    var last_2 = last$1;
    var LastOperator = (function () {
        function LastOperator(predicate, resultSelector, defaultValue, source) {
            this.predicate = predicate;
            this.resultSelector = resultSelector;
            this.defaultValue = defaultValue;
            this.source = source;
        }
        LastOperator.prototype.call = function (observer, source) {
            return source.subscribe(new LastSubscriber(observer, this.predicate, this.resultSelector, this.defaultValue, this.source));
        };
        return LastOperator;
    }());
    var LastSubscriber = (function (_super) {
        __extends$80(LastSubscriber, _super);
        function LastSubscriber(destination, predicate, resultSelector, defaultValue, source) {
            _super.call(this, destination);
            this.predicate = predicate;
            this.resultSelector = resultSelector;
            this.defaultValue = defaultValue;
            this.source = source;
            this.hasValue = false;
            this.index = 0;
            if (typeof defaultValue !== 'undefined') {
                this.lastValue = defaultValue;
                this.hasValue = true;
            }
        }
        LastSubscriber.prototype._next = function (value) {
            var index = this.index++;
            if (this.predicate) {
                this._tryPredicate(value, index);
            }
            else {
                if (this.resultSelector) {
                    this._tryResultSelector(value, index);
                    return;
                }
                this.lastValue = value;
                this.hasValue = true;
            }
        };
        LastSubscriber.prototype._tryPredicate = function (value, index) {
            var result;
            try {
                result = this.predicate(value, index, this.source);
            }
            catch (err) {
                this.destination.error(err);
                return;
            }
            if (result) {
                if (this.resultSelector) {
                    this._tryResultSelector(value, index);
                    return;
                }
                this.lastValue = value;
                this.hasValue = true;
            }
        };
        LastSubscriber.prototype._tryResultSelector = function (value, index) {
            var result;
            try {
                result = this.resultSelector(value, index);
            }
            catch (err) {
                this.destination.error(err);
                return;
            }
            this.lastValue = result;
            this.hasValue = true;
        };
        LastSubscriber.prototype._complete = function () {
            var destination = this.destination;
            if (this.hasValue) {
                destination.next(this.lastValue);
                destination.complete();
            }
            else {
                destination.error(new EmptyError_1$3.EmptyError);
            }
        };
        return LastSubscriber;
    }(Subscriber_1$12.Subscriber));
    var __extends$81 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var PRIMARY_OUTLET = 'primary';
    var NavigationCancelingError = (function (_super) {
        __extends$81(NavigationCancelingError, _super);
        function NavigationCancelingError(message) {
            _super.call(this, message);
            this.message = message;
            this.stack = (new Error(message)).stack;
        }
        NavigationCancelingError.prototype.toString = function () { return this.message; };
        return NavigationCancelingError;
    }(Error));
    function defaultUrlMatcher(segments, segmentGroup, route) {
        var path = route.path;
        var parts = path.split('/');
        var posParams = {};
        var consumed = [];
        var currentIndex = 0;
        for (var i = 0; i < parts.length; ++i) {
            if (currentIndex >= segments.length)
                return null;
            var current = segments[currentIndex];
            var p = parts[i];
            var isPosParam = p.startsWith(':');
            if (!isPosParam && p !== current.path)
                return null;
            if (isPosParam) {
                posParams[p.substring(1)] = current;
            }
            consumed.push(current);
            currentIndex++;
        }
        if (route.pathMatch === 'full' &&
            (segmentGroup.hasChildren() || currentIndex < segments.length)) {
            return null;
        }
        else {
            return { consumed: consumed, posParams: posParams };
        }
    }
    function shallowEqualArrays(a, b) {
        if (a.length !== b.length)
            return false;
        for (var i = 0; i < a.length; ++i) {
            if (!shallowEqual(a[i], b[i]))
                return false;
        }
        return true;
    }
    function shallowEqual(a, b) {
        var k1 = Object.keys(a);
        var k2 = Object.keys(b);
        if (k1.length != k2.length) {
            return false;
        }
        var key;
        for (var i = 0; i < k1.length; i++) {
            key = k1[i];
            if (a[key] !== b[key]) {
                return false;
            }
        }
        return true;
    }
    function flatten(a) {
        var target = [];
        for (var i = 0; i < a.length; ++i) {
            for (var j = 0; j < a[i].length; ++j) {
                target.push(a[i][j]);
            }
        }
        return target;
    }
    function last$$1(a) {
        return a.length > 0 ? a[a.length - 1] : null;
    }
    function merge$1(m1, m2) {
        var m = {};
        for (var attr in m1) {
            if (m1.hasOwnProperty(attr)) {
                m[attr] = m1[attr];
            }
        }
        for (var attr in m2) {
            if (m2.hasOwnProperty(attr)) {
                m[attr] = m2[attr];
            }
        }
        return m;
    }
    function forEach(map$$1, callback) {
        for (var prop in map$$1) {
            if (map$$1.hasOwnProperty(prop)) {
                callback(map$$1[prop], prop);
            }
        }
    }
    function waitForMap(obj, fn) {
        var waitFor = [];
        var res = {};
        forEach(obj, function (a, k) {
            if (k === PRIMARY_OUTLET) {
                waitFor.push(map_2.call(fn(k, a), function (_) {
                    res[k] = _;
                    return _;
                }));
            }
        });
        forEach(obj, function (a, k) {
            if (k !== PRIMARY_OUTLET) {
                waitFor.push(map_2.call(fn(k, a), function (_) {
                    res[k] = _;
                    return _;
                }));
            }
        });
        if (waitFor.length > 0) {
            var concatted$ = concatAll_2.call(of_1.apply(void 0, waitFor));
            var last$ = last_2.call(concatted$);
            return map_2.call(last$, function () { return res; });
        }
        return of_1(res);
    }
    function andObservables(observables) {
        var merged$ = mergeAll_2.call(observables);
        return every_2.call(merged$, function (result) { return result === true; });
    }
    function wrapIntoObservable(value) {
        if (value instanceof Observable_2) {
            return value;
        }
        if (value instanceof Promise) {
            return fromPromise_1(value);
        }
        return of_1(value);
    }
    var ROUTES = new OpaqueToken('ROUTES');
    var LoadedRouterConfig = (function () {
        function LoadedRouterConfig(routes, injector, factoryResolver, injectorFactory) {
            this.routes = routes;
            this.injector = injector;
            this.factoryResolver = factoryResolver;
            this.injectorFactory = injectorFactory;
        }
        return LoadedRouterConfig;
    }());
    var RouterConfigLoader = (function () {
        function RouterConfigLoader(loader, compiler) {
            this.loader = loader;
            this.compiler = compiler;
        }
        RouterConfigLoader.prototype.load = function (parentInjector, loadChildren) {
            return map_2.call(this.loadModuleFactory(loadChildren), function (r) {
                var ref = r.create(parentInjector);
                var injectorFactory = function (parent) { return r.create(parent).injector; };
                return new LoadedRouterConfig(flatten(ref.injector.get(ROUTES)), ref.injector, ref.componentFactoryResolver, injectorFactory);
            });
        };
        RouterConfigLoader.prototype.loadModuleFactory = function (loadChildren) {
            var _this = this;
            if (typeof loadChildren === 'string') {
                return fromPromise_1(this.loader.load(loadChildren));
            }
            else {
                var offlineMode_1 = this.compiler instanceof Compiler;
                return mergeMap_2.call(wrapIntoObservable(loadChildren()), function (t) { return offlineMode_1 ? of_1((t)) : fromPromise_1(_this.compiler.compileModuleAsync(t)); });
            }
        };
        return RouterConfigLoader;
    }());
    function createEmptyUrlTree() {
        return new UrlTree(new UrlSegmentGroup([], {}), {}, null);
    }
    function containsTree(container, containee, exact) {
        if (exact) {
            return equalQueryParams(container.queryParams, containee.queryParams) &&
                equalSegmentGroups(container.root, containee.root);
        }
        return containsQueryParams(container.queryParams, containee.queryParams) &&
            containsSegmentGroup(container.root, containee.root);
    }
    function equalQueryParams(container, containee) {
        return shallowEqual(container, containee);
    }
    function equalSegmentGroups(container, containee) {
        if (!equalPath(container.segments, containee.segments))
            return false;
        if (container.numberOfChildren !== containee.numberOfChildren)
            return false;
        for (var c in containee.children) {
            if (!container.children[c])
                return false;
            if (!equalSegmentGroups(container.children[c], containee.children[c]))
                return false;
        }
        return true;
    }
    function containsQueryParams(container, containee) {
        return Object.keys(containee).length <= Object.keys(container).length &&
            Object.keys(containee).every(function (key) { return containee[key] === container[key]; });
    }
    function containsSegmentGroup(container, containee) {
        return containsSegmentGroupHelper(container, containee, containee.segments);
    }
    function containsSegmentGroupHelper(container, containee, containeePaths) {
        if (container.segments.length > containeePaths.length) {
            var current = container.segments.slice(0, containeePaths.length);
            if (!equalPath(current, containeePaths))
                return false;
            if (containee.hasChildren())
                return false;
            return true;
        }
        else if (container.segments.length === containeePaths.length) {
            if (!equalPath(container.segments, containeePaths))
                return false;
            for (var c in containee.children) {
                if (!container.children[c])
                    return false;
                if (!containsSegmentGroup(container.children[c], containee.children[c]))
                    return false;
            }
            return true;
        }
        else {
            var current = containeePaths.slice(0, container.segments.length);
            var next = containeePaths.slice(container.segments.length);
            if (!equalPath(container.segments, current))
                return false;
            if (!container.children[PRIMARY_OUTLET])
                return false;
            return containsSegmentGroupHelper(container.children[PRIMARY_OUTLET], containee, next);
        }
    }
    var UrlTree = (function () {
        function UrlTree(root, queryParams, fragment) {
            this.root = root;
            this.queryParams = queryParams;
            this.fragment = fragment;
        }
        UrlTree.prototype.toString = function () { return new DefaultUrlSerializer().serialize(this); };
        return UrlTree;
    }());
    var UrlSegmentGroup = (function () {
        function UrlSegmentGroup(segments, children) {
            var _this = this;
            this.segments = segments;
            this.children = children;
            this.parent = null;
            forEach(children, function (v, k) { return v.parent = _this; });
        }
        UrlSegmentGroup.prototype.hasChildren = function () { return this.numberOfChildren > 0; };
        Object.defineProperty(UrlSegmentGroup.prototype, "numberOfChildren", {
            get: function () { return Object.keys(this.children).length; },
            enumerable: true,
            configurable: true
        });
        UrlSegmentGroup.prototype.toString = function () { return serializePaths(this); };
        return UrlSegmentGroup;
    }());
    var UrlSegment = (function () {
        function UrlSegment(path, parameters) {
            this.path = path;
            this.parameters = parameters;
        }
        UrlSegment.prototype.toString = function () { return serializePath(this); };
        return UrlSegment;
    }());
    function equalSegments(a, b) {
        if (a.length !== b.length)
            return false;
        for (var i = 0; i < a.length; ++i) {
            if (a[i].path !== b[i].path)
                return false;
            if (!shallowEqual(a[i].parameters, b[i].parameters))
                return false;
        }
        return true;
    }
    function equalPath(a, b) {
        if (a.length !== b.length)
            return false;
        for (var i = 0; i < a.length; ++i) {
            if (a[i].path !== b[i].path)
                return false;
        }
        return true;
    }
    function mapChildrenIntoArray(segment, fn) {
        var res = [];
        forEach(segment.children, function (child, childOutlet) {
            if (childOutlet === PRIMARY_OUTLET) {
                res = res.concat(fn(child, childOutlet));
            }
        });
        forEach(segment.children, function (child, childOutlet) {
            if (childOutlet !== PRIMARY_OUTLET) {
                res = res.concat(fn(child, childOutlet));
            }
        });
        return res;
    }
    var UrlSerializer = (function () {
        function UrlSerializer() {
        }
        UrlSerializer.prototype.parse = function (url) { };
        UrlSerializer.prototype.serialize = function (tree) { };
        return UrlSerializer;
    }());
    var DefaultUrlSerializer = (function () {
        function DefaultUrlSerializer() {
        }
        DefaultUrlSerializer.prototype.parse = function (url) {
            var p = new UrlParser(url);
            return new UrlTree(p.parseRootSegment(), p.parseQueryParams(), p.parseFragment());
        };
        DefaultUrlSerializer.prototype.serialize = function (tree) {
            var segment = "/" + serializeSegment(tree.root, true);
            var query = serializeQueryParams(tree.queryParams);
            var fragment = tree.fragment !== null && tree.fragment !== undefined ? "#" + encodeURI(tree.fragment) : '';
            return "" + segment + query + fragment;
        };
        return DefaultUrlSerializer;
    }());
    function serializePaths(segment) {
        return segment.segments.map(function (p) { return serializePath(p); }).join('/');
    }
    function serializeSegment(segment, root) {
        if (segment.hasChildren() && root) {
            var primary = segment.children[PRIMARY_OUTLET] ?
                serializeSegment(segment.children[PRIMARY_OUTLET], false) :
                '';
            var children_1 = [];
            forEach(segment.children, function (v, k) {
                if (k !== PRIMARY_OUTLET) {
                    children_1.push(k + ":" + serializeSegment(v, false));
                }
            });
            if (children_1.length > 0) {
                return primary + "(" + children_1.join('//') + ")";
            }
            else {
                return "" + primary;
            }
        }
        else if (segment.hasChildren() && !root) {
            var children = mapChildrenIntoArray(segment, function (v, k) {
                if (k === PRIMARY_OUTLET) {
                    return [serializeSegment(segment.children[PRIMARY_OUTLET], false)];
                }
                else {
                    return [(k + ":" + serializeSegment(v, false))];
                }
            });
            return serializePaths(segment) + "/(" + children.join('//') + ")";
        }
        else {
            return serializePaths(segment);
        }
    }
    function encode(s) {
        return encodeURIComponent(s);
    }
    function decode(s) {
        return decodeURIComponent(s);
    }
    function serializePath(path) {
        return "" + encode(path.path) + serializeParams(path.parameters);
    }
    function serializeParams(params) {
        return pairs(params).map(function (p) { return (";" + encode(p.first) + "=" + encode(p.second)); }).join('');
    }
    function serializeQueryParams(params) {
        var strParams = Object.keys(params).map(function (name) {
            var value = params[name];
            return Array.isArray(value) ? value.map(function (v) { return (encode(name) + "=" + encode(v)); }).join('&') :
                encode(name) + "=" + encode(value);
        });
        return strParams.length ? "?" + strParams.join("&") : '';
    }
    var Pair = (function () {
        function Pair(first$$1, second) {
            this.first = first$$1;
            this.second = second;
        }
        return Pair;
    }());
    function pairs(obj) {
        var res = [];
        for (var prop in obj) {
            if (obj.hasOwnProperty(prop)) {
                res.push(new Pair(prop, obj[prop]));
            }
        }
        return res;
    }
    var SEGMENT_RE = /^[^\/()?;=&#]+/;
    function matchSegments(str) {
        SEGMENT_RE.lastIndex = 0;
        var match = str.match(SEGMENT_RE);
        return match ? match[0] : '';
    }
    var QUERY_PARAM_RE = /^[^=?&#]+/;
    function matchQueryParams(str) {
        QUERY_PARAM_RE.lastIndex = 0;
        var match = str.match(SEGMENT_RE);
        return match ? match[0] : '';
    }
    var QUERY_PARAM_VALUE_RE = /^[^?&#]+/;
    function matchUrlQueryParamValue(str) {
        QUERY_PARAM_VALUE_RE.lastIndex = 0;
        var match = str.match(QUERY_PARAM_VALUE_RE);
        return match ? match[0] : '';
    }
    var UrlParser = (function () {
        function UrlParser(url) {
            this.url = url;
            this.remaining = url;
        }
        UrlParser.prototype.peekStartsWith = function (str) { return this.remaining.startsWith(str); };
        UrlParser.prototype.capture = function (str) {
            if (!this.remaining.startsWith(str)) {
                throw new Error("Expected \"" + str + "\".");
            }
            this.remaining = this.remaining.substring(str.length);
        };
        UrlParser.prototype.parseRootSegment = function () {
            if (this.remaining.startsWith('/')) {
                this.capture('/');
            }
            if (this.remaining === '' || this.remaining.startsWith('?') || this.remaining.startsWith('#')) {
                return new UrlSegmentGroup([], {});
            }
            return new UrlSegmentGroup([], this.parseChildren());
        };
        UrlParser.prototype.parseChildren = function () {
            if (this.remaining.length == 0) {
                return {};
            }
            if (this.peekStartsWith('/')) {
                this.capture('/');
            }
            var paths = [];
            if (!this.peekStartsWith('(')) {
                paths.push(this.parseSegments());
            }
            while (this.peekStartsWith('/') && !this.peekStartsWith('//') && !this.peekStartsWith('/(')) {
                this.capture('/');
                paths.push(this.parseSegments());
            }
            var children = {};
            if (this.peekStartsWith('/(')) {
                this.capture('/');
                children = this.parseParens(true);
            }
            var res = {};
            if (this.peekStartsWith('(')) {
                res = this.parseParens(false);
            }
            if (paths.length > 0 || Object.keys(children).length > 0) {
                res[PRIMARY_OUTLET] = new UrlSegmentGroup(paths, children);
            }
            return res;
        };
        UrlParser.prototype.parseSegments = function () {
            var path = matchSegments(this.remaining);
            if (path === '' && this.peekStartsWith(';')) {
                throw new Error("Empty path url segment cannot have parameters: '" + this.remaining + "'.");
            }
            this.capture(path);
            var matrixParams = {};
            if (this.peekStartsWith(';')) {
                matrixParams = this.parseMatrixParams();
            }
            return new UrlSegment(decode(path), matrixParams);
        };
        UrlParser.prototype.parseQueryParams = function () {
            var params = {};
            if (this.peekStartsWith('?')) {
                this.capture('?');
                this.parseQueryParam(params);
                while (this.remaining.length > 0 && this.peekStartsWith('&')) {
                    this.capture('&');
                    this.parseQueryParam(params);
                }
            }
            return params;
        };
        UrlParser.prototype.parseFragment = function () {
            if (this.peekStartsWith('#')) {
                return decodeURI(this.remaining.substring(1));
            }
            return null;
        };
        UrlParser.prototype.parseMatrixParams = function () {
            var params = {};
            while (this.remaining.length > 0 && this.peekStartsWith(';')) {
                this.capture(';');
                this.parseParam(params);
            }
            return params;
        };
        UrlParser.prototype.parseParam = function (params) {
            var key = matchSegments(this.remaining);
            if (!key) {
                return;
            }
            this.capture(key);
            var value = '';
            if (this.peekStartsWith('=')) {
                this.capture('=');
                var valueMatch = matchSegments(this.remaining);
                if (valueMatch) {
                    value = valueMatch;
                    this.capture(value);
                }
            }
            params[decode(key)] = decode(value);
        };
        UrlParser.prototype.parseQueryParam = function (params) {
            var key = matchQueryParams(this.remaining);
            if (!key) {
                return;
            }
            this.capture(key);
            var value = '';
            if (this.peekStartsWith('=')) {
                this.capture('=');
                var valueMatch = matchUrlQueryParamValue(this.remaining);
                if (valueMatch) {
                    value = valueMatch;
                    this.capture(value);
                }
            }
            var decodedKey = decode(key);
            var decodedVal = decode(value);
            if (params.hasOwnProperty(decodedKey)) {
                var currentVal = params[decodedKey];
                if (!Array.isArray(currentVal)) {
                    currentVal = [currentVal];
                    params[decodedKey] = currentVal;
                }
                currentVal.push(decodedVal);
            }
            else {
                params[decodedKey] = decodedVal;
            }
        };
        UrlParser.prototype.parseParens = function (allowPrimary) {
            var segments = {};
            this.capture('(');
            while (!this.peekStartsWith(')') && this.remaining.length > 0) {
                var path = matchSegments(this.remaining);
                var next = this.remaining[path.length];
                if (next !== '/' && next !== ')' && next !== ';') {
                    throw new Error("Cannot parse url '" + this.url + "'");
                }
                var outletName = void 0;
                if (path.indexOf(':') > -1) {
                    outletName = path.substr(0, path.indexOf(':'));
                    this.capture(outletName);
                    this.capture(':');
                }
                else if (allowPrimary) {
                    outletName = PRIMARY_OUTLET;
                }
                var children = this.parseChildren();
                segments[outletName] = Object.keys(children).length === 1 ? children[PRIMARY_OUTLET] :
                    new UrlSegmentGroup([], children);
                if (this.peekStartsWith('//')) {
                    this.capture('//');
                }
            }
            this.capture(')');
            return segments;
        };
        return UrlParser;
    }());
    var NoMatch = (function () {
        function NoMatch(segmentGroup) {
            if (segmentGroup === void 0) {
                segmentGroup = null;
            }
            this.segmentGroup = segmentGroup;
        }
        return NoMatch;
    }());
    var AbsoluteRedirect = (function () {
        function AbsoluteRedirect(urlTree) {
            this.urlTree = urlTree;
        }
        return AbsoluteRedirect;
    }());
    function noMatch(segmentGroup) {
        return new Observable_2(function (obs) { return obs.error(new NoMatch(segmentGroup)); });
    }
    function absoluteRedirect(newTree) {
        return new Observable_2(function (obs) { return obs.error(new AbsoluteRedirect(newTree)); });
    }
    function namedOutletsRedirect(redirectTo) {
        return new Observable_2(function (obs) { return obs.error(new Error("Only absolute redirects can have named outlets. redirectTo: '" + redirectTo + "'")); });
    }
    function canLoadFails(route) {
        return new Observable_2(function (obs) { return obs.error(new NavigationCancelingError("Cannot load children because the guard of the route \"path: '" + route.path + "'\" returned false")); });
    }
    function applyRedirects(injector, configLoader, urlSerializer, urlTree, config) {
        return new ApplyRedirects(injector, configLoader, urlSerializer, urlTree, config).apply();
    }
    var ApplyRedirects = (function () {
        function ApplyRedirects(injector, configLoader, urlSerializer, urlTree, config) {
            this.injector = injector;
            this.configLoader = configLoader;
            this.urlSerializer = urlSerializer;
            this.urlTree = urlTree;
            this.config = config;
            this.allowRedirects = true;
        }
        ApplyRedirects.prototype.apply = function () {
            var _this = this;
            var expanded$ = this.expandSegmentGroup(this.injector, this.config, this.urlTree.root, PRIMARY_OUTLET);
            var urlTrees$ = map_2.call(expanded$, function (rootSegmentGroup) { return _this.createUrlTree(rootSegmentGroup, _this.urlTree.queryParams, _this.urlTree.fragment); });
            return _catch_2.call(urlTrees$, function (e) {
                if (e instanceof AbsoluteRedirect) {
                    _this.allowRedirects = false;
                    return _this.match(e.urlTree);
                }
                else if (e instanceof NoMatch) {
                    throw _this.noMatchError(e);
                }
                else {
                    throw e;
                }
            });
        };
        ApplyRedirects.prototype.match = function (tree) {
            var _this = this;
            var expanded$ = this.expandSegmentGroup(this.injector, this.config, tree.root, PRIMARY_OUTLET);
            var mapped$ = map_2.call(expanded$, function (rootSegmentGroup) {
                return _this.createUrlTree(rootSegmentGroup, tree.queryParams, tree.fragment);
            });
            return _catch_2.call(mapped$, function (e) {
                if (e instanceof NoMatch) {
                    throw _this.noMatchError(e);
                }
                else {
                    throw e;
                }
            });
        };
        ApplyRedirects.prototype.noMatchError = function (e) {
            return new Error("Cannot match any routes. URL Segment: '" + e.segmentGroup + "'");
        };
        ApplyRedirects.prototype.createUrlTree = function (rootCandidate, queryParams, fragment) {
            var root = rootCandidate.segments.length > 0 ?
                new UrlSegmentGroup([], (_a = {}, _a[PRIMARY_OUTLET] = rootCandidate, _a)) :
                rootCandidate;
            return new UrlTree(root, queryParams, fragment);
            var _a;
        };
        ApplyRedirects.prototype.expandSegmentGroup = function (injector, routes, segmentGroup, outlet) {
            if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {
                return map_2.call(this.expandChildren(injector, routes, segmentGroup), function (children) { return new UrlSegmentGroup([], children); });
            }
            else {
                return this.expandSegment(injector, segmentGroup, routes, segmentGroup.segments, outlet, true);
            }
        };
        ApplyRedirects.prototype.expandChildren = function (injector, routes, segmentGroup) {
            var _this = this;
            return waitForMap(segmentGroup.children, function (childOutlet, child) { return _this.expandSegmentGroup(injector, routes, child, childOutlet); });
        };
        ApplyRedirects.prototype.expandSegment = function (injector, segmentGroup, routes, segments, outlet, allowRedirects) {
            var _this = this;
            var routes$ = of_1.apply(void 0, routes);
            var processedRoutes$ = map_2.call(routes$, function (r) {
                var expanded$ = _this.expandSegmentAgainstRoute(injector, segmentGroup, routes, r, segments, outlet, allowRedirects);
                return _catch_2.call(expanded$, function (e) {
                    if (e instanceof NoMatch)
                        return of_1(null);
                    else
                        throw e;
                });
            });
            var concattedProcessedRoutes$ = concatAll_2.call(processedRoutes$);
            var first$ = first_2.call(concattedProcessedRoutes$, function (s) { return !!s; });
            return _catch_2.call(first$, function (e, _) {
                if (e instanceof EmptyError_2) {
                    if (_this.noLeftoversInUrl(segmentGroup, segments, outlet)) {
                        return of_1(new UrlSegmentGroup([], {}));
                    }
                    else {
                        throw new NoMatch(segmentGroup);
                    }
                }
                else {
                    throw e;
                }
            });
        };
        ApplyRedirects.prototype.noLeftoversInUrl = function (segmentGroup, segments, outlet) {
            return segments.length === 0 && !segmentGroup.children[outlet];
        };
        ApplyRedirects.prototype.expandSegmentAgainstRoute = function (injector, segmentGroup, routes, route, paths, outlet, allowRedirects) {
            if (getOutlet$1(route) !== outlet)
                return noMatch(segmentGroup);
            if (route.redirectTo !== undefined && !(allowRedirects && this.allowRedirects))
                return noMatch(segmentGroup);
            if (route.redirectTo === undefined) {
                return this.matchSegmentAgainstRoute(injector, segmentGroup, route, paths);
            }
            else {
                return this.expandSegmentAgainstRouteUsingRedirect(injector, segmentGroup, routes, route, paths, outlet);
            }
        };
        ApplyRedirects.prototype.expandSegmentAgainstRouteUsingRedirect = function (injector, segmentGroup, routes, route, segments, outlet) {
            if (route.path === '**') {
                return this.expandWildCardWithParamsAgainstRouteUsingRedirect(injector, routes, route, outlet);
            }
            else {
                return this.expandRegularSegmentAgainstRouteUsingRedirect(injector, segmentGroup, routes, route, segments, outlet);
            }
        };
        ApplyRedirects.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect = function (injector, routes, route, outlet) {
            var _this = this;
            var newTree = this.applyRedirectCommands([], route.redirectTo, {});
            if (route.redirectTo.startsWith('/')) {
                return absoluteRedirect(newTree);
            }
            else {
                return mergeMap_2.call(this.lineralizeSegments(route, newTree), function (newSegments) {
                    var group = new UrlSegmentGroup(newSegments, {});
                    return _this.expandSegment(injector, group, routes, newSegments, outlet, false);
                });
            }
        };
        ApplyRedirects.prototype.expandRegularSegmentAgainstRouteUsingRedirect = function (injector, segmentGroup, routes, route, segments, outlet) {
            var _this = this;
            var _a = match(segmentGroup, route, segments), matched = _a.matched, consumedSegments = _a.consumedSegments, lastChild = _a.lastChild, positionalParamSegments = _a.positionalParamSegments;
            if (!matched)
                return noMatch(segmentGroup);
            var newTree = this.applyRedirectCommands(consumedSegments, route.redirectTo, (positionalParamSegments));
            if (route.redirectTo.startsWith('/')) {
                return absoluteRedirect(newTree);
            }
            else {
                return mergeMap_2.call(this.lineralizeSegments(route, newTree), function (newSegments) {
                    return _this.expandSegment(injector, segmentGroup, routes, newSegments.concat(segments.slice(lastChild)), outlet, false);
                });
            }
        };
        ApplyRedirects.prototype.matchSegmentAgainstRoute = function (injector, rawSegmentGroup, route, segments) {
            var _this = this;
            if (route.path === '**') {
                if (route.loadChildren) {
                    return map_2.call(this.configLoader.load(injector, route.loadChildren), function (r) {
                        ((route))._loadedConfig = r;
                        return new UrlSegmentGroup(segments, {});
                    });
                }
                else {
                    return of_1(new UrlSegmentGroup(segments, {}));
                }
            }
            else {
                var _a = match(rawSegmentGroup, route, segments), matched = _a.matched, consumedSegments_1 = _a.consumedSegments, lastChild = _a.lastChild;
                if (!matched)
                    return noMatch(rawSegmentGroup);
                var rawSlicedSegments_1 = segments.slice(lastChild);
                var childConfig$ = this.getChildConfig(injector, route);
                return mergeMap_2.call(childConfig$, function (routerConfig) {
                    var childInjector = routerConfig.injector;
                    var childConfig = routerConfig.routes;
                    var _a = split(rawSegmentGroup, consumedSegments_1, rawSlicedSegments_1, childConfig), segmentGroup = _a.segmentGroup, slicedSegments = _a.slicedSegments;
                    if (slicedSegments.length === 0 && segmentGroup.hasChildren()) {
                        var expanded$ = _this.expandChildren(childInjector, childConfig, segmentGroup);
                        return map_2.call(expanded$, function (children) { return new UrlSegmentGroup(consumedSegments_1, children); });
                    }
                    else if (childConfig.length === 0 && slicedSegments.length === 0) {
                        return of_1(new UrlSegmentGroup(consumedSegments_1, {}));
                    }
                    else {
                        var expanded$ = _this.expandSegment(childInjector, segmentGroup, childConfig, slicedSegments, PRIMARY_OUTLET, true);
                        return map_2.call(expanded$, function (cs) { return new UrlSegmentGroup(consumedSegments_1.concat(cs.segments), cs.children); });
                    }
                });
            }
        };
        ApplyRedirects.prototype.getChildConfig = function (injector, route) {
            var _this = this;
            if (route.children) {
                return of_1(new LoadedRouterConfig(route.children, injector, null, null));
            }
            else if (route.loadChildren) {
                return mergeMap_2.call(runGuards(injector, route), function (shouldLoad) {
                    if (shouldLoad) {
                        if (((route))._loadedConfig) {
                            return of_1(((route))._loadedConfig);
                        }
                        else {
                            return map_2.call(_this.configLoader.load(injector, route.loadChildren), function (r) {
                                ((route))._loadedConfig = r;
                                return r;
                            });
                        }
                    }
                    else {
                        return canLoadFails(route);
                    }
                });
            }
            else {
                return of_1(new LoadedRouterConfig([], injector, null, null));
            }
        };
        ApplyRedirects.prototype.lineralizeSegments = function (route, urlTree) {
            var res = [];
            var c = urlTree.root;
            while (true) {
                res = res.concat(c.segments);
                if (c.numberOfChildren === 0) {
                    return of_1(res);
                }
                else if (c.numberOfChildren > 1 || !c.children[PRIMARY_OUTLET]) {
                    return namedOutletsRedirect(route.redirectTo);
                }
                else {
                    c = c.children[PRIMARY_OUTLET];
                }
            }
        };
        ApplyRedirects.prototype.applyRedirectCommands = function (segments, redirectTo, posParams) {
            var t = this.urlSerializer.parse(redirectTo);
            return this.applyRedirectCreatreUrlTree(redirectTo, this.urlSerializer.parse(redirectTo), segments, posParams);
        };
        ApplyRedirects.prototype.applyRedirectCreatreUrlTree = function (redirectTo, urlTree, segments, posParams) {
            var newRoot = this.createSegmentGroup(redirectTo, urlTree.root, segments, posParams);
            return new UrlTree(newRoot, this.createQueryParams(urlTree.queryParams, this.urlTree.queryParams), urlTree.fragment);
        };
        ApplyRedirects.prototype.createQueryParams = function (redirectToParams, actualParams) {
            var res = {};
            forEach(redirectToParams, function (v, k) {
                if (v.startsWith(':')) {
                    res[k] = actualParams[v.substring(1)];
                }
                else {
                    res[k] = v;
                }
            });
            return res;
        };
        ApplyRedirects.prototype.createSegmentGroup = function (redirectTo, group, segments, posParams) {
            var _this = this;
            var updatedSegments = this.createSegments(redirectTo, group.segments, segments, posParams);
            var children = {};
            forEach(group.children, function (child, name) {
                children[name] = _this.createSegmentGroup(redirectTo, child, segments, posParams);
            });
            return new UrlSegmentGroup(updatedSegments, children);
        };
        ApplyRedirects.prototype.createSegments = function (redirectTo, redirectToSegments, actualSegments, posParams) {
            var _this = this;
            return redirectToSegments.map(function (s) {
                return s.path.startsWith(':') ? _this.findPosParam(redirectTo, s, posParams) :
                    _this.findOrReturn(s, actualSegments);
            });
        };
        ApplyRedirects.prototype.findPosParam = function (redirectTo, redirectToUrlSegment, posParams) {
            var pos = posParams[redirectToUrlSegment.path.substring(1)];
            if (!pos)
                throw new Error("Cannot redirect to '" + redirectTo + "'. Cannot find '" + redirectToUrlSegment.path + "'.");
            return pos;
        };
        ApplyRedirects.prototype.findOrReturn = function (redirectToUrlSegment, actualSegments) {
            var idx = 0;
            for (var _i = 0, actualSegments_1 = actualSegments; _i < actualSegments_1.length; _i++) {
                var s = actualSegments_1[_i];
                if (s.path === redirectToUrlSegment.path) {
                    actualSegments.splice(idx);
                    return s;
                }
                idx++;
            }
            return redirectToUrlSegment;
        };
        return ApplyRedirects;
    }());
    function runGuards(injector, route) {
        var canLoad = route.canLoad;
        if (!canLoad || canLoad.length === 0)
            return of_1(true);
        var obs = map_2.call(from_1(canLoad), function (c) {
            var guard = injector.get(c);
            if (guard.canLoad) {
                return wrapIntoObservable(guard.canLoad(route));
            }
            else {
                return wrapIntoObservable(guard(route));
            }
        });
        return andObservables(obs);
    }
    function match(segmentGroup, route, segments) {
        var noMatch = { matched: false, consumedSegments: ([]), lastChild: 0, positionalParamSegments: {} };
        if (route.path === '') {
            if ((route.pathMatch === 'full') && (segmentGroup.hasChildren() || segments.length > 0)) {
                return { matched: false, consumedSegments: [], lastChild: 0, positionalParamSegments: {} };
            }
            else {
                return { matched: true, consumedSegments: [], lastChild: 0, positionalParamSegments: {} };
            }
        }
        var matcher = route.matcher || defaultUrlMatcher;
        var res = matcher(segments, segmentGroup, route);
        if (!res)
            return noMatch;
        return {
            matched: true,
            consumedSegments: res.consumed,
            lastChild: res.consumed.length,
            positionalParamSegments: res.posParams
        };
    }
    function split(segmentGroup, consumedSegments, slicedSegments, config) {
        if (slicedSegments.length > 0 &&
            containsEmptyPathRedirectsWithNamedOutlets(segmentGroup, slicedSegments, config)) {
            var s = new UrlSegmentGroup(consumedSegments, createChildrenForEmptySegments(config, new UrlSegmentGroup(slicedSegments, segmentGroup.children)));
            return { segmentGroup: mergeTrivialChildren(s), slicedSegments: [] };
        }
        else if (slicedSegments.length === 0 &&
            containsEmptyPathRedirects(segmentGroup, slicedSegments, config)) {
            var s = new UrlSegmentGroup(segmentGroup.segments, addEmptySegmentsToChildrenIfNeeded(segmentGroup, slicedSegments, config, segmentGroup.children));
            return { segmentGroup: mergeTrivialChildren(s), slicedSegments: slicedSegments };
        }
        else {
            return { segmentGroup: segmentGroup, slicedSegments: slicedSegments };
        }
    }
    function mergeTrivialChildren(s) {
        if (s.numberOfChildren === 1 && s.children[PRIMARY_OUTLET]) {
            var c = s.children[PRIMARY_OUTLET];
            return new UrlSegmentGroup(s.segments.concat(c.segments), c.children);
        }
        else {
            return s;
        }
    }
    function addEmptySegmentsToChildrenIfNeeded(segmentGroup, slicedSegments, routes, children) {
        var res = {};
        for (var _i = 0, routes_1 = routes; _i < routes_1.length; _i++) {
            var r = routes_1[_i];
            if (emptyPathRedirect(segmentGroup, slicedSegments, r) && !children[getOutlet$1(r)]) {
                res[getOutlet$1(r)] = new UrlSegmentGroup([], {});
            }
        }
        return merge$1(children, res);
    }
    function createChildrenForEmptySegments(routes, primarySegmentGroup) {
        var res = {};
        res[PRIMARY_OUTLET] = primarySegmentGroup;
        for (var _i = 0, routes_2 = routes; _i < routes_2.length; _i++) {
            var r = routes_2[_i];
            if (r.path === '' && getOutlet$1(r) !== PRIMARY_OUTLET) {
                res[getOutlet$1(r)] = new UrlSegmentGroup([], {});
            }
        }
        return res;
    }
    function containsEmptyPathRedirectsWithNamedOutlets(segmentGroup, slicedSegments, routes) {
        return routes
            .filter(function (r) {
            return emptyPathRedirect(segmentGroup, slicedSegments, r) &&
                getOutlet$1(r) !== PRIMARY_OUTLET;
        })
            .length > 0;
    }
    function containsEmptyPathRedirects(segmentGroup, slicedSegments, routes) {
        return routes.filter(function (r) { return emptyPathRedirect(segmentGroup, slicedSegments, r); }).length > 0;
    }
    function emptyPathRedirect(segmentGroup, slicedSegments, r) {
        if ((segmentGroup.hasChildren() || slicedSegments.length > 0) && r.pathMatch === 'full')
            return false;
        return r.path === '' && r.redirectTo !== undefined;
    }
    function getOutlet$1(route) {
        return route.outlet ? route.outlet : PRIMARY_OUTLET;
    }
    function validateConfig(config, parentPath) {
        if (parentPath === void 0) {
            parentPath = '';
        }
        for (var i = 0; i < config.length; i++) {
            var route = config[i];
            var fullPath = getFullPath(parentPath, route);
            validateNode(route, fullPath);
        }
    }
    function validateNode(route, fullPath) {
        if (!route) {
            throw new Error("\n      Invalid configuration of route '" + fullPath + "': Encountered undefined route.\n      The reason might be an extra comma.\n       \n      Example: \n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");
        }
        if (Array.isArray(route)) {
            throw new Error("Invalid configuration of route '" + fullPath + "': Array cannot be specified");
        }
        if (!route.component && (route.outlet && route.outlet !== PRIMARY_OUTLET)) {
            throw new Error("Invalid configuration of route '" + fullPath + "': a componentless route cannot have a named outlet set");
        }
        if (route.redirectTo && route.children) {
            throw new Error("Invalid configuration of route '" + fullPath + "': redirectTo and children cannot be used together");
        }
        if (route.redirectTo && route.loadChildren) {
            throw new Error("Invalid configuration of route '" + fullPath + "': redirectTo and loadChildren cannot be used together");
        }
        if (route.children && route.loadChildren) {
            throw new Error("Invalid configuration of route '" + fullPath + "': children and loadChildren cannot be used together");
        }
        if (route.redirectTo && route.component) {
            throw new Error("Invalid configuration of route '" + fullPath + "': redirectTo and component cannot be used together");
        }
        if (route.path && route.matcher) {
            throw new Error("Invalid configuration of route '" + fullPath + "': path and matcher cannot be used together");
        }
        if (route.redirectTo === void 0 && !route.component && !route.children && !route.loadChildren) {
            throw new Error("Invalid configuration of route '" + fullPath + "'. One of the following must be provided: component, redirectTo, children or loadChildren");
        }
        if (route.path === void 0 && route.matcher === void 0) {
            throw new Error("Invalid configuration of route '" + fullPath + "': routes must have either a path or a matcher specified");
        }
        if (typeof route.path === 'string' && route.path.charAt(0) === '/') {
            throw new Error("Invalid configuration of route '" + fullPath + "': path cannot start with a slash");
        }
        if (route.path === '' && route.redirectTo !== void 0 && route.pathMatch === void 0) {
            var exp = "The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";
            throw new Error("Invalid configuration of route '{path: \"" + fullPath + "\", redirectTo: \"" + route.redirectTo + "\"}': please provide 'pathMatch'. " + exp);
        }
        if (route.pathMatch !== void 0 && route.pathMatch !== 'full' && route.pathMatch !== 'prefix') {
            throw new Error("Invalid configuration of route '" + fullPath + "': pathMatch can only be set to 'prefix' or 'full'");
        }
        if (route.children) {
            validateConfig(route.children, fullPath);
        }
    }
    function getFullPath(parentPath, currentRoute) {
        if (!currentRoute) {
            return parentPath;
        }
        if (!parentPath && !currentRoute.path) {
            return '';
        }
        else if (parentPath && !currentRoute.path) {
            return parentPath + "/";
        }
        else if (!parentPath && currentRoute.path) {
            return currentRoute.path;
        }
        else {
            return parentPath + "/" + currentRoute.path;
        }
    }
    var Tree = (function () {
        function Tree(root) {
            this._root = root;
        }
        Object.defineProperty(Tree.prototype, "root", {
            get: function () { return this._root.value; },
            enumerable: true,
            configurable: true
        });
        Tree.prototype.parent = function (t) {
            var p = this.pathFromRoot(t);
            return p.length > 1 ? p[p.length - 2] : null;
        };
        Tree.prototype.children = function (t) {
            var n = findNode(t, this._root);
            return n ? n.children.map(function (t) { return t.value; }) : [];
        };
        Tree.prototype.firstChild = function (t) {
            var n = findNode(t, this._root);
            return n && n.children.length > 0 ? n.children[0].value : null;
        };
        Tree.prototype.siblings = function (t) {
            var p = findPath(t, this._root, []);
            if (p.length < 2)
                return [];
            var c = p[p.length - 2].children.map(function (c) { return c.value; });
            return c.filter(function (cc) { return cc !== t; });
        };
        Tree.prototype.pathFromRoot = function (t) { return findPath(t, this._root, []).map(function (s) { return s.value; }); };
        return Tree;
    }());
    function findNode(expected, c) {
        if (expected === c.value)
            return c;
        for (var _i = 0, _a = c.children; _i < _a.length; _i++) {
            var cc = _a[_i];
            var r = findNode(expected, cc);
            if (r)
                return r;
        }
        return null;
    }
    function findPath(expected, c, collected) {
        collected.push(c);
        if (expected === c.value)
            return collected;
        for (var _i = 0, _a = c.children; _i < _a.length; _i++) {
            var cc = _a[_i];
            var cloned = collected.slice(0);
            var r = findPath(expected, cc, cloned);
            if (r.length > 0)
                return r;
        }
        return [];
    }
    var TreeNode = (function () {
        function TreeNode(value, children) {
            this.value = value;
            this.children = children;
        }
        TreeNode.prototype.toString = function () { return "TreeNode(" + this.value + ")"; };
        return TreeNode;
    }());
    var __extends$82 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var RouterState = (function (_super) {
        __extends$82(RouterState, _super);
        function RouterState(root, snapshot) {
            _super.call(this, root);
            this.snapshot = snapshot;
            setRouterStateSnapshot(this, root);
        }
        RouterState.prototype.toString = function () { return this.snapshot.toString(); };
        return RouterState;
    }(Tree));
    function createEmptyState(urlTree, rootComponent) {
        var snapshot = createEmptyStateSnapshot(urlTree, rootComponent);
        var emptyUrl = new BehaviorSubject_2([new UrlSegment('', {})]);
        var emptyParams = new BehaviorSubject_2({});
        var emptyData = new BehaviorSubject_2({});
        var emptyQueryParams = new BehaviorSubject_2({});
        var fragment = new BehaviorSubject_2('');
        var activated = new ActivatedRoute(emptyUrl, emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, snapshot.root);
        activated.snapshot = snapshot.root;
        return new RouterState(new TreeNode(activated, []), snapshot);
    }
    function createEmptyStateSnapshot(urlTree, rootComponent) {
        var emptyParams = {};
        var emptyData = {};
        var emptyQueryParams = {};
        var fragment = '';
        var activated = new ActivatedRouteSnapshot([], emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, null, urlTree.root, -1, {});
        return new RouterStateSnapshot('', new TreeNode(activated, []));
    }
    var ActivatedRoute = (function () {
        function ActivatedRoute(url, params, queryParams, fragment, data, outlet, component, futureSnapshot) {
            this.url = url;
            this.params = params;
            this.queryParams = queryParams;
            this.fragment = fragment;
            this.data = data;
            this.outlet = outlet;
            this.component = component;
            this._futureSnapshot = futureSnapshot;
        }
        Object.defineProperty(ActivatedRoute.prototype, "routeConfig", {
            get: function () { return this._futureSnapshot.routeConfig; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActivatedRoute.prototype, "root", {
            get: function () { return this._routerState.root; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActivatedRoute.prototype, "parent", {
            get: function () { return this._routerState.parent(this); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActivatedRoute.prototype, "firstChild", {
            get: function () { return this._routerState.firstChild(this); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActivatedRoute.prototype, "children", {
            get: function () { return this._routerState.children(this); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActivatedRoute.prototype, "pathFromRoot", {
            get: function () { return this._routerState.pathFromRoot(this); },
            enumerable: true,
            configurable: true
        });
        ActivatedRoute.prototype.toString = function () {
            return this.snapshot ? this.snapshot.toString() : "Future(" + this._futureSnapshot + ")";
        };
        return ActivatedRoute;
    }());
    function inheritedParamsDataResolve(route) {
        var pathToRoot = route.pathFromRoot;
        var inhertingStartingFrom = pathToRoot.length - 1;
        while (inhertingStartingFrom >= 1) {
            var current = pathToRoot[inhertingStartingFrom];
            var parent_1 = pathToRoot[inhertingStartingFrom - 1];
            if (current.routeConfig && current.routeConfig.path === '') {
                inhertingStartingFrom--;
            }
            else if (!parent_1.component) {
                inhertingStartingFrom--;
            }
            else {
                break;
            }
        }
        return pathToRoot.slice(inhertingStartingFrom).reduce(function (res, curr) {
            var params = merge$1(res.params, curr.params);
            var data = merge$1(res.data, curr.data);
            var resolve = merge$1(res.resolve, curr._resolvedData);
            return { params: params, data: data, resolve: resolve };
        }, ({ params: {}, data: {}, resolve: {} }));
    }
    var ActivatedRouteSnapshot = (function () {
        function ActivatedRouteSnapshot(url, params, queryParams, fragment, data, outlet, component, routeConfig, urlSegment, lastPathIndex, resolve) {
            this.url = url;
            this.params = params;
            this.queryParams = queryParams;
            this.fragment = fragment;
            this.data = data;
            this.outlet = outlet;
            this.component = component;
            this._routeConfig = routeConfig;
            this._urlSegment = urlSegment;
            this._lastPathIndex = lastPathIndex;
            this._resolve = resolve;
        }
        Object.defineProperty(ActivatedRouteSnapshot.prototype, "routeConfig", {
            get: function () { return this._routeConfig; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActivatedRouteSnapshot.prototype, "root", {
            get: function () { return this._routerState.root; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActivatedRouteSnapshot.prototype, "parent", {
            get: function () { return this._routerState.parent(this); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActivatedRouteSnapshot.prototype, "firstChild", {
            get: function () { return this._routerState.firstChild(this); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActivatedRouteSnapshot.prototype, "children", {
            get: function () { return this._routerState.children(this); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ActivatedRouteSnapshot.prototype, "pathFromRoot", {
            get: function () { return this._routerState.pathFromRoot(this); },
            enumerable: true,
            configurable: true
        });
        ActivatedRouteSnapshot.prototype.toString = function () {
            var url = this.url.map(function (segment) { return segment.toString(); }).join('/');
            var matched = this._routeConfig ? this._routeConfig.path : '';
            return "Route(url:'" + url + "', path:'" + matched + "')";
        };
        return ActivatedRouteSnapshot;
    }());
    var RouterStateSnapshot = (function (_super) {
        __extends$82(RouterStateSnapshot, _super);
        function RouterStateSnapshot(url, root) {
            _super.call(this, root);
            this.url = url;
            setRouterStateSnapshot(this, root);
        }
        RouterStateSnapshot.prototype.toString = function () { return serializeNode(this._root); };
        return RouterStateSnapshot;
    }(Tree));
    function setRouterStateSnapshot(state, node) {
        node.value._routerState = state;
        node.children.forEach(function (c) { return setRouterStateSnapshot(state, c); });
    }
    function serializeNode(node) {
        var c = node.children.length > 0 ? " { " + node.children.map(serializeNode).join(", ") + " } " : '';
        return "" + node.value + c;
    }
    function advanceActivatedRoute(route) {
        if (route.snapshot) {
            var currentSnapshot = route.snapshot;
            route.snapshot = route._futureSnapshot;
            if (!shallowEqual(currentSnapshot.queryParams, route._futureSnapshot.queryParams)) {
                ((route.queryParams)).next(route._futureSnapshot.queryParams);
            }
            if (currentSnapshot.fragment !== route._futureSnapshot.fragment) {
                ((route.fragment)).next(route._futureSnapshot.fragment);
            }
            if (!shallowEqual(currentSnapshot.params, route._futureSnapshot.params)) {
                ((route.params)).next(route._futureSnapshot.params);
            }
            if (!shallowEqualArrays(currentSnapshot.url, route._futureSnapshot.url)) {
                ((route.url)).next(route._futureSnapshot.url);
            }
            if (!equalParamsAndUrlSegments(currentSnapshot, route._futureSnapshot)) {
                ((route.data)).next(route._futureSnapshot.data);
            }
        }
        else {
            route.snapshot = route._futureSnapshot;
            ((route.data)).next(route._futureSnapshot.data);
        }
    }
    function equalParamsAndUrlSegments(a, b) {
        return shallowEqual(a.params, b.params) && equalSegments(a.url, b.url);
    }
    function createRouterState(routeReuseStrategy, curr, prevState) {
        var root = createNode(routeReuseStrategy, curr._root, prevState ? prevState._root : undefined);
        return new RouterState(root, curr);
    }
    function createNode(routeReuseStrategy, curr, prevState) {
        if (prevState && routeReuseStrategy.shouldReuseRoute(curr.value, prevState.value.snapshot)) {
            var value = prevState.value;
            value._futureSnapshot = curr.value;
            var children = createOrReuseChildren(routeReuseStrategy, curr, prevState);
            return new TreeNode(value, children);
        }
        else if (routeReuseStrategy.retrieve(curr.value)) {
            var tree = ((routeReuseStrategy.retrieve(curr.value))).route;
            setFutureSnapshotsOfActivatedRoutes(curr, tree);
            return tree;
        }
        else {
            var value = createActivatedRoute(curr.value);
            var children = curr.children.map(function (c) { return createNode(routeReuseStrategy, c); });
            return new TreeNode(value, children);
        }
    }
    function setFutureSnapshotsOfActivatedRoutes(curr, result) {
        if (curr.value.routeConfig !== result.value.routeConfig) {
            throw new Error('Cannot reattach ActivatedRouteSnapshot created from a different route');
        }
        if (curr.children.length !== result.children.length) {
            throw new Error('Cannot reattach ActivatedRouteSnapshot with a different number of children');
        }
        result.value._futureSnapshot = curr.value;
        for (var i = 0; i < curr.children.length; ++i) {
            setFutureSnapshotsOfActivatedRoutes(curr.children[i], result.children[i]);
        }
    }
    function createOrReuseChildren(routeReuseStrategy, curr, prevState) {
        return curr.children.map(function (child) {
            for (var _i = 0, _a = prevState.children; _i < _a.length; _i++) {
                var p = _a[_i];
                if (routeReuseStrategy.shouldReuseRoute(p.value.snapshot, child.value)) {
                    return createNode(routeReuseStrategy, child, p);
                }
            }
            return createNode(routeReuseStrategy, child);
        });
    }
    function createActivatedRoute(c) {
        return new ActivatedRoute(new BehaviorSubject_2(c.url), new BehaviorSubject_2(c.params), new BehaviorSubject_2(c.queryParams), new BehaviorSubject_2(c.fragment), new BehaviorSubject_2(c.data), c.outlet, c.component, c);
    }
    function createUrlTree(route, urlTree, commands, queryParams, fragment) {
        if (commands.length === 0) {
            return tree(urlTree.root, urlTree.root, urlTree, queryParams, fragment);
        }
        var nav = computeNavigation(commands);
        if (nav.toRoot()) {
            return tree(urlTree.root, new UrlSegmentGroup([], {}), urlTree, queryParams, fragment);
        }
        var startingPosition = findStartingPosition(nav, urlTree, route);
        var segmentGroup = startingPosition.processChildren ?
            updateSegmentGroupChildren(startingPosition.segmentGroup, startingPosition.index, nav.commands) :
            updateSegmentGroup(startingPosition.segmentGroup, startingPosition.index, nav.commands);
        return tree(startingPosition.segmentGroup, segmentGroup, urlTree, queryParams, fragment);
    }
    function isMatrixParams(command) {
        return typeof command === 'object' && command != null && !command.outlets && !command.segmentPath;
    }
    function tree(oldSegmentGroup, newSegmentGroup, urlTree, queryParams, fragment) {
        if (urlTree.root === oldSegmentGroup) {
            return new UrlTree(newSegmentGroup, stringify$4(queryParams), fragment);
        }
        return new UrlTree(replaceSegment(urlTree.root, oldSegmentGroup, newSegmentGroup), stringify$4(queryParams), fragment);
    }
    function replaceSegment(current, oldSegment, newSegment) {
        var children = {};
        forEach(current.children, function (c, outletName) {
            if (c === oldSegment) {
                children[outletName] = newSegment;
            }
            else {
                children[outletName] = replaceSegment(c, oldSegment, newSegment);
            }
        });
        return new UrlSegmentGroup(current.segments, children);
    }
    var Navigation = (function () {
        function Navigation(isAbsolute, numberOfDoubleDots, commands) {
            this.isAbsolute = isAbsolute;
            this.numberOfDoubleDots = numberOfDoubleDots;
            this.commands = commands;
            if (isAbsolute && commands.length > 0 && isMatrixParams(commands[0])) {
                throw new Error('Root segment cannot have matrix parameters');
            }
            var cmdWithOutlet = commands.find(function (c) { return typeof c === 'object' && c != null && c.outlets; });
            if (cmdWithOutlet && cmdWithOutlet !== last$$1(commands)) {
                throw new Error('{outlets:{}} has to be the last command');
            }
        }
        Navigation.prototype.toRoot = function () {
            return this.isAbsolute && this.commands.length === 1 && this.commands[0] == '/';
        };
        return Navigation;
    }());
    function computeNavigation(commands) {
        if ((typeof commands[0] === 'string') && commands.length === 1 && commands[0] === '/') {
            return new Navigation(true, 0, commands);
        }
        var numberOfDoubleDots = 0;
        var isAbsolute = false;
        var res = commands.reduce(function (res, cmd, cmdIdx) {
            if (typeof cmd === 'object' && cmd != null) {
                if (cmd.outlets) {
                    var outlets_1 = {};
                    forEach(cmd.outlets, function (commands, name) {
                        outlets_1[name] = typeof commands === 'string' ? commands.split('/') : commands;
                    });
                    return res.concat([{ outlets: outlets_1 }]);
                }
                if (cmd.segmentPath) {
                    return res.concat([cmd.segmentPath]);
                }
            }
            if (!(typeof cmd === 'string')) {
                return res.concat([cmd]);
            }
            if (cmdIdx === 0) {
                cmd.split('/').forEach(function (urlPart, partIndex) {
                    if (partIndex == 0 && urlPart === '.') {
                    }
                    else if (partIndex == 0 && urlPart === '') {
                        isAbsolute = true;
                    }
                    else if (urlPart === '..') {
                        numberOfDoubleDots++;
                    }
                    else if (urlPart != '') {
                        res.push(urlPart);
                    }
                });
                return res;
            }
            return res.concat([cmd]);
        }, []);
        return new Navigation(isAbsolute, numberOfDoubleDots, res);
    }
    var Position = (function () {
        function Position(segmentGroup, processChildren, index) {
            this.segmentGroup = segmentGroup;
            this.processChildren = processChildren;
            this.index = index;
        }
        return Position;
    }());
    function findStartingPosition(nav, tree, route) {
        if (nav.isAbsolute) {
            return new Position(tree.root, true, 0);
        }
        if (route.snapshot._lastPathIndex === -1) {
            return new Position(route.snapshot._urlSegment, true, 0);
        }
        var modifier = isMatrixParams(nav.commands[0]) ? 0 : 1;
        var index = route.snapshot._lastPathIndex + modifier;
        return createPositionApplyingDoubleDots(route.snapshot._urlSegment, index, nav.numberOfDoubleDots);
    }
    function createPositionApplyingDoubleDots(group, index, numberOfDoubleDots) {
        var g = group;
        var ci = index;
        var dd = numberOfDoubleDots;
        while (dd > ci) {
            dd -= ci;
            g = g.parent;
            if (!g) {
                throw new Error('Invalid number of \'../\'');
            }
            ci = g.segments.length;
        }
        return new Position(g, false, ci - dd);
    }
    function getPath(command) {
        if (typeof command === 'object' && command != null && command.outlets) {
            return command.outlets[PRIMARY_OUTLET];
        }
        return "" + command;
    }
    function getOutlets(commands) {
        if (!(typeof commands[0] === 'object'))
            return (_a = {}, _a[PRIMARY_OUTLET] = commands, _a);
        if (commands[0].outlets === undefined)
            return (_b = {}, _b[PRIMARY_OUTLET] = commands, _b);
        return commands[0].outlets;
        var _a, _b;
    }
    function updateSegmentGroup(segmentGroup, startIndex, commands) {
        if (!segmentGroup) {
            segmentGroup = new UrlSegmentGroup([], {});
        }
        if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {
            return updateSegmentGroupChildren(segmentGroup, startIndex, commands);
        }
        var m = prefixedWith(segmentGroup, startIndex, commands);
        var slicedCommands = commands.slice(m.commandIndex);
        if (m.match && m.pathIndex < segmentGroup.segments.length) {
            var g = new UrlSegmentGroup(segmentGroup.segments.slice(0, m.pathIndex), {});
            g.children[PRIMARY_OUTLET] =
                new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex), segmentGroup.children);
            return updateSegmentGroupChildren(g, 0, slicedCommands);
        }
        else if (m.match && slicedCommands.length === 0) {
            return new UrlSegmentGroup(segmentGroup.segments, {});
        }
        else if (m.match && !segmentGroup.hasChildren()) {
            return createNewSegmentGroup(segmentGroup, startIndex, commands);
        }
        else if (m.match) {
            return updateSegmentGroupChildren(segmentGroup, 0, slicedCommands);
        }
        else {
            return createNewSegmentGroup(segmentGroup, startIndex, commands);
        }
    }
    function updateSegmentGroupChildren(segmentGroup, startIndex, commands) {
        if (commands.length === 0) {
            return new UrlSegmentGroup(segmentGroup.segments, {});
        }
        else {
            var outlets_2 = getOutlets(commands);
            var children_1 = {};
            forEach(outlets_2, function (commands, outlet) {
                if (commands !== null) {
                    children_1[outlet] = updateSegmentGroup(segmentGroup.children[outlet], startIndex, commands);
                }
            });
            forEach(segmentGroup.children, function (child, childOutlet) {
                if (outlets_2[childOutlet] === undefined) {
                    children_1[childOutlet] = child;
                }
            });
            return new UrlSegmentGroup(segmentGroup.segments, children_1);
        }
    }
    function prefixedWith(segmentGroup, startIndex, commands) {
        var currentCommandIndex = 0;
        var currentPathIndex = startIndex;
        var noMatch = { match: false, pathIndex: 0, commandIndex: 0 };
        while (currentPathIndex < segmentGroup.segments.length) {
            if (currentCommandIndex >= commands.length)
                return noMatch;
            var path = segmentGroup.segments[currentPathIndex];
            var curr = getPath(commands[currentCommandIndex]);
            var next = currentCommandIndex < commands.length - 1 ? commands[currentCommandIndex + 1] : null;
            if (currentPathIndex > 0 && curr === undefined)
                break;
            if (curr && next && (typeof next === 'object') && next.outlets === undefined) {
                if (!compare(curr, next, path))
                    return noMatch;
                currentCommandIndex += 2;
            }
            else {
                if (!compare(curr, {}, path))
                    return noMatch;
                currentCommandIndex++;
            }
            currentPathIndex++;
        }
        return { match: true, pathIndex: currentPathIndex, commandIndex: currentCommandIndex };
    }
    function createNewSegmentGroup(segmentGroup, startIndex, commands) {
        var paths = segmentGroup.segments.slice(0, startIndex);
        var i = 0;
        while (i < commands.length) {
            if (typeof commands[i] === 'object' && commands[i].outlets !== undefined) {
                var children = createNewSegmentChildren(commands[i].outlets);
                return new UrlSegmentGroup(paths, children);
            }
            if (i === 0 && isMatrixParams(commands[0])) {
                var p = segmentGroup.segments[startIndex];
                paths.push(new UrlSegment(p.path, commands[0]));
                i++;
                continue;
            }
            var curr = getPath(commands[i]);
            var next = (i < commands.length - 1) ? commands[i + 1] : null;
            if (curr && next && isMatrixParams(next)) {
                paths.push(new UrlSegment(curr, stringify$4(next)));
                i += 2;
            }
            else {
                paths.push(new UrlSegment(curr, {}));
                i++;
            }
        }
        return new UrlSegmentGroup(paths, {});
    }
    function createNewSegmentChildren(outlets) {
        var children = {};
        forEach(outlets, function (commands, outlet) {
            if (commands !== null) {
                children[outlet] = createNewSegmentGroup(new UrlSegmentGroup([], {}), 0, commands);
            }
        });
        return children;
    }
    function stringify$4(params) {
        var res = {};
        forEach(params, function (v, k) { return res[k] = "" + v; });
        return res;
    }
    function compare(path, params, segment) {
        return path == segment.path && shallowEqual(params, segment.parameters);
    }
    var NoMatch$1 = (function () {
        function NoMatch() {
        }
        return NoMatch;
    }());
    function recognize(rootComponentType, config, urlTree, url) {
        return new Recognizer(rootComponentType, config, urlTree, url).recognize();
    }
    var Recognizer = (function () {
        function Recognizer(rootComponentType, config, urlTree, url) {
            this.rootComponentType = rootComponentType;
            this.config = config;
            this.urlTree = urlTree;
            this.url = url;
        }
        Recognizer.prototype.recognize = function () {
            try {
                var rootSegmentGroup = split$1(this.urlTree.root, [], [], this.config).segmentGroup;
                var children = this.processSegmentGroup(this.config, rootSegmentGroup, PRIMARY_OUTLET);
                var root = new ActivatedRouteSnapshot([], Object.freeze({}), Object.freeze(this.urlTree.queryParams), this.urlTree.fragment, {}, PRIMARY_OUTLET, this.rootComponentType, null, this.urlTree.root, -1, {});
                var rootNode = new TreeNode(root, children);
                var routeState = new RouterStateSnapshot(this.url, rootNode);
                this.inheriteParamsAndData(routeState._root);
                return of_1(routeState);
            }
            catch (e) {
                return new Observable_2(function (obs) { return obs.error(e); });
            }
        };
        Recognizer.prototype.inheriteParamsAndData = function (routeNode) {
            var _this = this;
            var route = routeNode.value;
            var i = inheritedParamsDataResolve(route);
            route.params = Object.freeze(i.params);
            route.data = Object.freeze(i.data);
            routeNode.children.forEach(function (n) { return _this.inheriteParamsAndData(n); });
        };
        Recognizer.prototype.processSegmentGroup = function (config, segmentGroup, outlet) {
            if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {
                return this.processChildren(config, segmentGroup);
            }
            else {
                return this.processSegment(config, segmentGroup, segmentGroup.segments, outlet);
            }
        };
        Recognizer.prototype.processChildren = function (config, segmentGroup) {
            var _this = this;
            var children = mapChildrenIntoArray(segmentGroup, function (child, childOutlet) { return _this.processSegmentGroup(config, child, childOutlet); });
            checkOutletNameUniqueness(children);
            sortActivatedRouteSnapshots(children);
            return children;
        };
        Recognizer.prototype.processSegment = function (config, segmentGroup, segments, outlet) {
            for (var _i = 0, config_1 = config; _i < config_1.length; _i++) {
                var r = config_1[_i];
                try {
                    return this.processSegmentAgainstRoute(r, segmentGroup, segments, outlet);
                }
                catch (e) {
                    if (!(e instanceof NoMatch$1))
                        throw e;
                }
            }
            if (this.noLeftoversInUrl(segmentGroup, segments, outlet)) {
                return [];
            }
            else {
                throw new NoMatch$1();
            }
        };
        Recognizer.prototype.noLeftoversInUrl = function (segmentGroup, segments, outlet) {
            return segments.length === 0 && !segmentGroup.children[outlet];
        };
        Recognizer.prototype.processSegmentAgainstRoute = function (route, rawSegment, segments, outlet) {
            if (route.redirectTo)
                throw new NoMatch$1();
            if ((route.outlet ? route.outlet : PRIMARY_OUTLET) !== outlet)
                throw new NoMatch$1();
            if (route.path === '**') {
                var params = segments.length > 0 ? last$$1(segments).parameters : {};
                var snapshot_1 = new ActivatedRouteSnapshot(segments, params, Object.freeze(this.urlTree.queryParams), this.urlTree.fragment, getData(route), outlet, route.component, route, getSourceSegmentGroup(rawSegment), getPathIndexShift(rawSegment) + segments.length, getResolve(route));
                return [new TreeNode(snapshot_1, [])];
            }
            var _a = match$1(rawSegment, route, segments), consumedSegments = _a.consumedSegments, parameters = _a.parameters, lastChild = _a.lastChild;
            var rawSlicedSegments = segments.slice(lastChild);
            var childConfig = getChildConfig(route);
            var _b = split$1(rawSegment, consumedSegments, rawSlicedSegments, childConfig), segmentGroup = _b.segmentGroup, slicedSegments = _b.slicedSegments;
            var snapshot = new ActivatedRouteSnapshot(consumedSegments, parameters, Object.freeze(this.urlTree.queryParams), this.urlTree.fragment, getData(route), outlet, route.component, route, getSourceSegmentGroup(rawSegment), getPathIndexShift(rawSegment) + consumedSegments.length, getResolve(route));
            if (slicedSegments.length === 0 && segmentGroup.hasChildren()) {
                var children = this.processChildren(childConfig, segmentGroup);
                return [new TreeNode(snapshot, children)];
            }
            else if (childConfig.length === 0 && slicedSegments.length === 0) {
                return [new TreeNode(snapshot, [])];
            }
            else {
                var children = this.processSegment(childConfig, segmentGroup, slicedSegments, PRIMARY_OUTLET);
                return [new TreeNode(snapshot, children)];
            }
        };
        return Recognizer;
    }());
    function sortActivatedRouteSnapshots(nodes) {
        nodes.sort(function (a, b) {
            if (a.value.outlet === PRIMARY_OUTLET)
                return -1;
            if (b.value.outlet === PRIMARY_OUTLET)
                return 1;
            return a.value.outlet.localeCompare(b.value.outlet);
        });
    }
    function getChildConfig(route) {
        if (route.children) {
            return route.children;
        }
        else if (route.loadChildren) {
            return ((route))._loadedConfig.routes;
        }
        else {
            return [];
        }
    }
    function match$1(segmentGroup, route, segments) {
        if (route.path === '') {
            if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || segments.length > 0)) {
                throw new NoMatch$1();
            }
            else {
                return { consumedSegments: [], lastChild: 0, parameters: {} };
            }
        }
        var matcher = route.matcher || defaultUrlMatcher;
        var res = matcher(segments, segmentGroup, route);
        if (!res)
            throw new NoMatch$1();
        var posParams = {};
        forEach(res.posParams, function (v, k) { posParams[k] = v.path; });
        var parameters = merge$1(posParams, res.consumed[res.consumed.length - 1].parameters);
        return { consumedSegments: res.consumed, lastChild: res.consumed.length, parameters: parameters };
    }
    function checkOutletNameUniqueness(nodes) {
        var names = {};
        nodes.forEach(function (n) {
            var routeWithSameOutletName = names[n.value.outlet];
            if (routeWithSameOutletName) {
                var p = routeWithSameOutletName.url.map(function (s) { return s.toString(); }).join('/');
                var c = n.value.url.map(function (s) { return s.toString(); }).join('/');
                throw new Error("Two segments cannot have the same outlet name: '" + p + "' and '" + c + "'.");
            }
            names[n.value.outlet] = n.value;
        });
    }
    function getSourceSegmentGroup(segmentGroup) {
        var s = segmentGroup;
        while (s._sourceSegment) {
            s = s._sourceSegment;
        }
        return s;
    }
    function getPathIndexShift(segmentGroup) {
        var s = segmentGroup;
        var res = (s._segmentIndexShift ? s._segmentIndexShift : 0);
        while (s._sourceSegment) {
            s = s._sourceSegment;
            res += (s._segmentIndexShift ? s._segmentIndexShift : 0);
        }
        return res - 1;
    }
    function split$1(segmentGroup, consumedSegments, slicedSegments, config) {
        if (slicedSegments.length > 0 &&
            containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, config)) {
            var s = new UrlSegmentGroup(consumedSegments, createChildrenForEmptyPaths(segmentGroup, consumedSegments, config, new UrlSegmentGroup(slicedSegments, segmentGroup.children)));
            s._sourceSegment = segmentGroup;
            s._segmentIndexShift = consumedSegments.length;
            return { segmentGroup: s, slicedSegments: [] };
        }
        else if (slicedSegments.length === 0 &&
            containsEmptyPathMatches(segmentGroup, slicedSegments, config)) {
            var s = new UrlSegmentGroup(segmentGroup.segments, addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, config, segmentGroup.children));
            s._sourceSegment = segmentGroup;
            s._segmentIndexShift = consumedSegments.length;
            return { segmentGroup: s, slicedSegments: slicedSegments };
        }
        else {
            var s = new UrlSegmentGroup(segmentGroup.segments, segmentGroup.children);
            s._sourceSegment = segmentGroup;
            s._segmentIndexShift = consumedSegments.length;
            return { segmentGroup: s, slicedSegments: slicedSegments };
        }
    }
    function addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, routes, children) {
        var res = {};
        for (var _i = 0, routes_1 = routes; _i < routes_1.length; _i++) {
            var r = routes_1[_i];
            if (emptyPathMatch(segmentGroup, slicedSegments, r) && !children[getOutlet$2(r)]) {
                var s = new UrlSegmentGroup([], {});
                s._sourceSegment = segmentGroup;
                s._segmentIndexShift = segmentGroup.segments.length;
                res[getOutlet$2(r)] = s;
            }
        }
        return merge$1(children, res);
    }
    function createChildrenForEmptyPaths(segmentGroup, consumedSegments, routes, primarySegment) {
        var res = {};
        res[PRIMARY_OUTLET] = primarySegment;
        primarySegment._sourceSegment = segmentGroup;
        primarySegment._segmentIndexShift = consumedSegments.length;
        for (var _i = 0, routes_2 = routes; _i < routes_2.length; _i++) {
            var r = routes_2[_i];
            if (r.path === '' && getOutlet$2(r) !== PRIMARY_OUTLET) {
                var s = new UrlSegmentGroup([], {});
                s._sourceSegment = segmentGroup;
                s._segmentIndexShift = consumedSegments.length;
                res[getOutlet$2(r)] = s;
            }
        }
        return res;
    }
    function containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, routes) {
        return routes
            .filter(function (r) {
            return emptyPathMatch(segmentGroup, slicedSegments, r) &&
                getOutlet$2(r) !== PRIMARY_OUTLET;
        })
            .length > 0;
    }
    function containsEmptyPathMatches(segmentGroup, slicedSegments, routes) {
        return routes.filter(function (r) { return emptyPathMatch(segmentGroup, slicedSegments, r); }).length > 0;
    }
    function emptyPathMatch(segmentGroup, slicedSegments, r) {
        if ((segmentGroup.hasChildren() || slicedSegments.length > 0) && r.pathMatch === 'full')
            return false;
        return r.path === '' && r.redirectTo === undefined;
    }
    function getOutlet$2(route) {
        return route.outlet ? route.outlet : PRIMARY_OUTLET;
    }
    function getData(route) {
        return route.data ? route.data : {};
    }
    function getResolve(route) {
        return route.resolve ? route.resolve : {};
    }
    var RouterOutletMap = (function () {
        function RouterOutletMap() {
            this._outlets = {};
        }
        RouterOutletMap.prototype.registerOutlet = function (name, outlet) { this._outlets[name] = outlet; };
        RouterOutletMap.prototype.removeOutlet = function (name) { this._outlets[name] = undefined; };
        return RouterOutletMap;
    }());
    var UrlHandlingStrategy = (function () {
        function UrlHandlingStrategy() {
        }
        UrlHandlingStrategy.prototype.shouldProcessUrl = function (url) { };
        UrlHandlingStrategy.prototype.extract = function (url) { };
        UrlHandlingStrategy.prototype.merge = function (newUrlPart, rawUrl) { };
        return UrlHandlingStrategy;
    }());
    var DefaultUrlHandlingStrategy = (function () {
        function DefaultUrlHandlingStrategy() {
        }
        DefaultUrlHandlingStrategy.prototype.shouldProcessUrl = function (url) { return true; };
        DefaultUrlHandlingStrategy.prototype.extract = function (url) { return url; };
        DefaultUrlHandlingStrategy.prototype.merge = function (newUrlPart, wholeUrl) { return newUrlPart; };
        return DefaultUrlHandlingStrategy;
    }());
    var NavigationStart = (function () {
        function NavigationStart(id, url) {
            this.id = id;
            this.url = url;
        }
        NavigationStart.prototype.toString = function () { return "NavigationStart(id: " + this.id + ", url: '" + this.url + "')"; };
        return NavigationStart;
    }());
    var NavigationEnd = (function () {
        function NavigationEnd(id, url, urlAfterRedirects) {
            this.id = id;
            this.url = url;
            this.urlAfterRedirects = urlAfterRedirects;
        }
        NavigationEnd.prototype.toString = function () {
            return "NavigationEnd(id: " + this.id + ", url: '" + this.url + "', urlAfterRedirects: '" + this.urlAfterRedirects + "')";
        };
        return NavigationEnd;
    }());
    var NavigationCancel = (function () {
        function NavigationCancel(id, url, reason) {
            this.id = id;
            this.url = url;
            this.reason = reason;
        }
        NavigationCancel.prototype.toString = function () { return "NavigationCancel(id: " + this.id + ", url: '" + this.url + "')"; };
        return NavigationCancel;
    }());
    var NavigationError = (function () {
        function NavigationError(id, url, error) {
            this.id = id;
            this.url = url;
            this.error = error;
        }
        NavigationError.prototype.toString = function () {
            return "NavigationError(id: " + this.id + ", url: '" + this.url + "', error: " + this.error + ")";
        };
        return NavigationError;
    }());
    var RoutesRecognized = (function () {
        function RoutesRecognized(id, url, urlAfterRedirects, state$$1) {
            this.id = id;
            this.url = url;
            this.urlAfterRedirects = urlAfterRedirects;
            this.state = state$$1;
        }
        RoutesRecognized.prototype.toString = function () {
            return "RoutesRecognized(id: " + this.id + ", url: '" + this.url + "', urlAfterRedirects: '" + this.urlAfterRedirects + "', state: " + this.state + ")";
        };
        return RoutesRecognized;
    }());
    function defaultErrorHandler(error) {
        throw error;
    }
    var DefaultRouteReuseStrategy = (function () {
        function DefaultRouteReuseStrategy() {
        }
        DefaultRouteReuseStrategy.prototype.shouldDetach = function (route) { return false; };
        DefaultRouteReuseStrategy.prototype.store = function (route, detachedTree) { };
        DefaultRouteReuseStrategy.prototype.shouldAttach = function (route) { return false; };
        DefaultRouteReuseStrategy.prototype.retrieve = function (route) { return null; };
        DefaultRouteReuseStrategy.prototype.shouldReuseRoute = function (future, curr) {
            return future.routeConfig === curr.routeConfig;
        };
        return DefaultRouteReuseStrategy;
    }());
    var Router = (function () {
        function Router(rootComponentType, urlSerializer, outletMap, location, injector, loader, compiler, config) {
            this.rootComponentType = rootComponentType;
            this.urlSerializer = urlSerializer;
            this.outletMap = outletMap;
            this.location = location;
            this.injector = injector;
            this.config = config;
            this.navigations = new BehaviorSubject_2(null);
            this.routerEvents = new Subject_2();
            this.navigationId = 0;
            this.errorHandler = defaultErrorHandler;
            this.navigated = false;
            this.urlHandlingStrategy = new DefaultUrlHandlingStrategy();
            this.routeReuseStrategy = new DefaultRouteReuseStrategy();
            this.resetConfig(config);
            this.currentUrlTree = createEmptyUrlTree();
            this.rawUrlTree = this.currentUrlTree;
            this.configLoader = new RouterConfigLoader(loader, compiler);
            this.currentRouterState = createEmptyState(this.currentUrlTree, this.rootComponentType);
            this.processNavigations();
        }
        Router.prototype.resetRootComponentType = function (rootComponentType) {
            this.rootComponentType = rootComponentType;
            this.currentRouterState.root.component = this.rootComponentType;
        };
        Router.prototype.initialNavigation = function () {
            this.setUpLocationChangeListener();
            this.navigateByUrl(this.location.path(true), { replaceUrl: true });
        };
        Router.prototype.setUpLocationChangeListener = function () {
            var _this = this;
            if (!this.locationSubscription) {
                this.locationSubscription = (this.location.subscribe(Zone.current.wrap(function (change) {
                    var rawUrlTree = _this.urlSerializer.parse(change['url']);
                    var source = change['type'] === 'popstate' ? 'popstate' : 'hashchange';
                    setTimeout(function () { _this.scheduleNavigation(rawUrlTree, source, { replaceUrl: true }); }, 0);
                })));
            }
        };
        Object.defineProperty(Router.prototype, "routerState", {
            get: function () { return this.currentRouterState; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Router.prototype, "url", {
            get: function () { return this.serializeUrl(this.currentUrlTree); },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Router.prototype, "events", {
            get: function () { return this.routerEvents; },
            enumerable: true,
            configurable: true
        });
        Router.prototype.resetConfig = function (config) {
            validateConfig(config);
            this.config = config;
        };
        Router.prototype.ngOnDestroy = function () { this.dispose(); };
        Router.prototype.dispose = function () {
            if (this.locationSubscription) {
                this.locationSubscription.unsubscribe();
                this.locationSubscription = null;
            }
        };
        Router.prototype.createUrlTree = function (commands, _a) {
            var _b = _a === void 0 ? {} : _a, relativeTo = _b.relativeTo, queryParams = _b.queryParams, fragment = _b.fragment, preserveQueryParams = _b.preserveQueryParams, preserveFragment = _b.preserveFragment;
            var a = relativeTo || this.routerState.root;
            var q = preserveQueryParams ? this.currentUrlTree.queryParams : queryParams;
            var f = preserveFragment ? this.currentUrlTree.fragment : fragment;
            return createUrlTree(a, this.currentUrlTree, commands, q, f);
        };
        Router.prototype.navigateByUrl = function (url, extras) {
            if (extras === void 0) {
                extras = { skipLocationChange: false };
            }
            if (url instanceof UrlTree) {
                return this.scheduleNavigation(this.urlHandlingStrategy.merge(url, this.rawUrlTree), 'imperative', extras);
            }
            var urlTree = this.urlSerializer.parse(url);
            return this.scheduleNavigation(this.urlHandlingStrategy.merge(urlTree, this.rawUrlTree), 'imperative', extras);
        };
        Router.prototype.navigate = function (commands, extras) {
            if (extras === void 0) {
                extras = { skipLocationChange: false };
            }
            validateCommands(commands);
            if (typeof extras.queryParams === 'object' && extras.queryParams !== null) {
                extras.queryParams = this.removeEmptyProps(extras.queryParams);
            }
            return this.navigateByUrl(this.createUrlTree(commands, extras), extras);
        };
        Router.prototype.serializeUrl = function (url) { return this.urlSerializer.serialize(url); };
        Router.prototype.parseUrl = function (url) { return this.urlSerializer.parse(url); };
        Router.prototype.isActive = function (url, exact) {
            if (url instanceof UrlTree) {
                return containsTree(this.currentUrlTree, url, exact);
            }
            else {
                var urlTree = this.urlSerializer.parse(url);
                return containsTree(this.currentUrlTree, urlTree, exact);
            }
        };
        Router.prototype.removeEmptyProps = function (params) {
            return Object.keys(params).reduce(function (result, key) {
                var value = params[key];
                if (value !== null && value !== undefined) {
                    result[key] = value;
                }
                return result;
            }, {});
        };
        Router.prototype.processNavigations = function () {
            var _this = this;
            concatMap_2
                .call(this.navigations, function (nav) {
                if (nav) {
                    _this.executeScheduledNavigation(nav);
                    return nav.promise.catch(function () { });
                }
                else {
                    return (of_1(null));
                }
            })
                .subscribe(function () { });
        };
        Router.prototype.scheduleNavigation = function (rawUrl, source, extras) {
            var lastNavigation = this.navigations.value;
            if (lastNavigation && source !== 'imperative' && lastNavigation.source === 'imperative' &&
                lastNavigation.rawUrl.toString() === rawUrl.toString()) {
                return null;
            }
            if (lastNavigation && source == 'hashchange' && lastNavigation.source === 'popstate' &&
                lastNavigation.rawUrl.toString() === rawUrl.toString()) {
                return null;
            }
            var resolve = null;
            var reject = null;
            var promise = new Promise(function (res, rej) {
                resolve = res;
                reject = rej;
            });
            var id = ++this.navigationId;
            this.navigations.next({ id: id, source: source, rawUrl: rawUrl, extras: extras, resolve: resolve, reject: reject, promise: promise });
            return promise.catch(function (e) { return Promise.reject(e); });
        };
        Router.prototype.executeScheduledNavigation = function (_a) {
            var _this = this;
            var id = _a.id, rawUrl = _a.rawUrl, extras = _a.extras, resolve = _a.resolve, reject = _a.reject;
            var url = this.urlHandlingStrategy.extract(rawUrl);
            var urlTransition = !this.navigated || url.toString() !== this.currentUrlTree.toString();
            if (urlTransition && this.urlHandlingStrategy.shouldProcessUrl(rawUrl)) {
                this.routerEvents.next(new NavigationStart(id, this.serializeUrl(url)));
                Promise.resolve()
                    .then(function (_) { return _this.runNavigate(url, rawUrl, extras.skipLocationChange, extras.replaceUrl, id, null); })
                    .then(resolve, reject);
            }
            else if (urlTransition && this.rawUrlTree &&
                this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)) {
                this.routerEvents.next(new NavigationStart(id, this.serializeUrl(url)));
                Promise.resolve()
                    .then(function (_) { return _this.runNavigate(url, rawUrl, false, false, id, createEmptyState(url, _this.rootComponentType).snapshot); })
                    .then(resolve, reject);
            }
            else {
                this.rawUrlTree = rawUrl;
                resolve(null);
            }
        };
        Router.prototype.runNavigate = function (url, rawUrl, shouldPreventPushState, shouldReplaceUrl, id, precreatedState) {
            var _this = this;
            if (id !== this.navigationId) {
                this.location.go(this.urlSerializer.serialize(this.currentUrlTree));
                this.routerEvents.next(new NavigationCancel(id, this.serializeUrl(url), "Navigation ID " + id + " is not equal to the current navigation id " + this.navigationId));
                return Promise.resolve(false);
            }
            return new Promise(function (resolvePromise, rejectPromise) {
                var urlAndSnapshot$;
                if (!precreatedState) {
                    var redirectsApplied$ = applyRedirects(_this.injector, _this.configLoader, _this.urlSerializer, url, _this.config);
                    urlAndSnapshot$ = mergeMap_2.call(redirectsApplied$, function (appliedUrl) {
                        return map_2.call(recognize(_this.rootComponentType, _this.config, appliedUrl, _this.serializeUrl(appliedUrl)), function (snapshot) {
                            _this.routerEvents.next(new RoutesRecognized(id, _this.serializeUrl(url), _this.serializeUrl(appliedUrl), snapshot));
                            return { appliedUrl: appliedUrl, snapshot: snapshot };
                        });
                    });
                }
                else {
                    urlAndSnapshot$ = of_1({ appliedUrl: url, snapshot: precreatedState });
                }
                var preActivation;
                var preactivationTraverse$ = map_2.call(urlAndSnapshot$, function (_a) {
                    var appliedUrl = _a.appliedUrl, snapshot = _a.snapshot;
                    preActivation =
                        new PreActivation(snapshot, _this.currentRouterState.snapshot, _this.injector);
                    preActivation.traverse(_this.outletMap);
                    return { appliedUrl: appliedUrl, snapshot: snapshot };
                });
                var preactivationCheckGuards = mergeMap_2.call(preactivationTraverse$, function (_a) {
                    var appliedUrl = _a.appliedUrl, snapshot = _a.snapshot;
                    if (_this.navigationId !== id)
                        return of_1(false);
                    return map_2.call(preActivation.checkGuards(), function (shouldActivate) {
                        return { appliedUrl: appliedUrl, snapshot: snapshot, shouldActivate: shouldActivate };
                    });
                });
                var preactivationResolveData$ = mergeMap_2.call(preactivationCheckGuards, function (p) {
                    if (_this.navigationId !== id)
                        return of_1(false);
                    if (p.shouldActivate) {
                        return map_2.call(preActivation.resolveData(), function () { return p; });
                    }
                    else {
                        return of_1(p);
                    }
                });
                var routerState$ = map_2.call(preactivationResolveData$, function (_a) {
                    var appliedUrl = _a.appliedUrl, snapshot = _a.snapshot, shouldActivate = _a.shouldActivate;
                    if (shouldActivate) {
                        var state$$1 = createRouterState(_this.routeReuseStrategy, snapshot, _this.currentRouterState);
                        return { appliedUrl: appliedUrl, state: state$$1, shouldActivate: shouldActivate };
                    }
                    else {
                        return { appliedUrl: appliedUrl, state: null, shouldActivate: shouldActivate };
                    }
                });
                var navigationIsSuccessful;
                var storedState = _this.currentRouterState;
                var storedUrl = _this.currentUrlTree;
                routerState$
                    .forEach(function (_a) {
                    var appliedUrl = _a.appliedUrl, state$$1 = _a.state, shouldActivate = _a.shouldActivate;
                    if (!shouldActivate || id !== _this.navigationId) {
                        navigationIsSuccessful = false;
                        return;
                    }
                    _this.currentUrlTree = appliedUrl;
                    _this.rawUrlTree = _this.urlHandlingStrategy.merge(_this.currentUrlTree, rawUrl);
                    _this.currentRouterState = state$$1;
                    if (!shouldPreventPushState) {
                        var path = _this.urlSerializer.serialize(_this.rawUrlTree);
                        if (_this.location.isCurrentPathEqualTo(path) || shouldReplaceUrl) {
                            _this.location.replaceState(path);
                        }
                        else {
                            _this.location.go(path);
                        }
                    }
                    new ActivateRoutes(_this.routeReuseStrategy, state$$1, storedState)
                        .activate(_this.outletMap);
                    navigationIsSuccessful = true;
                })
                    .then(function () {
                    _this.navigated = true;
                    if (navigationIsSuccessful) {
                        _this.routerEvents.next(new NavigationEnd(id, _this.serializeUrl(url), _this.serializeUrl(_this.currentUrlTree)));
                        resolvePromise(true);
                    }
                    else {
                        _this.resetUrlToCurrentUrlTree();
                        _this.routerEvents.next(new NavigationCancel(id, _this.serializeUrl(url), ''));
                        resolvePromise(false);
                    }
                }, function (e) {
                    if (e instanceof NavigationCancelingError) {
                        _this.resetUrlToCurrentUrlTree();
                        _this.navigated = true;
                        _this.routerEvents.next(new NavigationCancel(id, _this.serializeUrl(url), e.message));
                        resolvePromise(false);
                    }
                    else {
                        _this.routerEvents.next(new NavigationError(id, _this.serializeUrl(url), e));
                        try {
                            resolvePromise(_this.errorHandler(e));
                        }
                        catch (ee) {
                            rejectPromise(ee);
                        }
                    }
                    _this.currentRouterState = storedState;
                    _this.currentUrlTree = storedUrl;
                    _this.rawUrlTree = _this.urlHandlingStrategy.merge(_this.currentUrlTree, rawUrl);
                    _this.location.replaceState(_this.serializeUrl(_this.rawUrlTree));
                });
            });
        };
        Router.prototype.resetUrlToCurrentUrlTree = function () {
            var path = this.urlSerializer.serialize(this.rawUrlTree);
            this.location.replaceState(path);
        };
        return Router;
    }());
    var CanActivate = (function () {
        function CanActivate(path) {
            this.path = path;
        }
        Object.defineProperty(CanActivate.prototype, "route", {
            get: function () { return this.path[this.path.length - 1]; },
            enumerable: true,
            configurable: true
        });
        return CanActivate;
    }());
    var CanDeactivate = (function () {
        function CanDeactivate(component, route) {
            this.component = component;
            this.route = route;
        }
        return CanDeactivate;
    }());
    var PreActivation = (function () {
        function PreActivation(future, curr, injector) {
            this.future = future;
            this.curr = curr;
            this.injector = injector;
            this.checks = [];
        }
        PreActivation.prototype.traverse = function (parentOutletMap) {
            var futureRoot = this.future._root;
            var currRoot = this.curr ? this.curr._root : null;
            this.traverseChildRoutes(futureRoot, currRoot, parentOutletMap, [futureRoot.value]);
        };
        PreActivation.prototype.checkGuards = function () {
            var _this = this;
            if (this.checks.length === 0)
                return of_1(true);
            var checks$ = from_1(this.checks);
            var runningChecks$ = mergeMap_2.call(checks$, function (s) {
                if (s instanceof CanActivate) {
                    return andObservables(from_1([_this.runCanActivateChild(s.path), _this.runCanActivate(s.route)]));
                }
                else if (s instanceof CanDeactivate) {
                    var s2 = (s);
                    return _this.runCanDeactivate(s2.component, s2.route);
                }
                else {
                    throw new Error('Cannot be reached');
                }
            });
            return every_2.call(runningChecks$, function (result) { return result === true; });
        };
        PreActivation.prototype.resolveData = function () {
            var _this = this;
            if (this.checks.length === 0)
                return of_1(null);
            var checks$ = from_1(this.checks);
            var runningChecks$ = concatMap_2.call(checks$, function (s) {
                if (s instanceof CanActivate) {
                    return _this.runResolve(s.route);
                }
                else {
                    return of_1(null);
                }
            });
            return reduce_2.call(runningChecks$, function (_, __) { return _; });
        };
        PreActivation.prototype.traverseChildRoutes = function (futureNode, currNode, outletMap, futurePath) {
            var _this = this;
            var prevChildren = nodeChildrenAsMap(currNode);
            futureNode.children.forEach(function (c) {
                _this.traverseRoutes(c, prevChildren[c.value.outlet], outletMap, futurePath.concat([c.value]));
                delete prevChildren[c.value.outlet];
            });
            forEach(prevChildren, function (v, k) { return _this.deactiveRouteAndItsChildren(v, outletMap._outlets[k]); });
        };
        PreActivation.prototype.traverseRoutes = function (futureNode, currNode, parentOutletMap, futurePath) {
            var future = futureNode.value;
            var curr = currNode ? currNode.value : null;
            var outlet = parentOutletMap ? parentOutletMap._outlets[futureNode.value.outlet] : null;
            if (curr && future._routeConfig === curr._routeConfig) {
                if (!equalParamsAndUrlSegments(future, curr)) {
                    this.checks.push(new CanDeactivate(outlet.component, curr), new CanActivate(futurePath));
                }
                else {
                    future.data = curr.data;
                    future._resolvedData = curr._resolvedData;
                }
                if (future.component) {
                    this.traverseChildRoutes(futureNode, currNode, outlet ? outlet.outletMap : null, futurePath);
                }
                else {
                    this.traverseChildRoutes(futureNode, currNode, parentOutletMap, futurePath);
                }
            }
            else {
                if (curr) {
                    this.deactiveRouteAndItsChildren(currNode, outlet);
                }
                this.checks.push(new CanActivate(futurePath));
                if (future.component) {
                    this.traverseChildRoutes(futureNode, null, outlet ? outlet.outletMap : null, futurePath);
                }
                else {
                    this.traverseChildRoutes(futureNode, null, parentOutletMap, futurePath);
                }
            }
        };
        PreActivation.prototype.deactiveRouteAndItsChildren = function (route, outlet) {
            var _this = this;
            var prevChildren = nodeChildrenAsMap(route);
            var r = route.value;
            forEach(prevChildren, function (v, k) {
                if (!r.component) {
                    _this.deactiveRouteAndItsChildren(v, outlet);
                }
                else if (!!outlet) {
                    _this.deactiveRouteAndItsChildren(v, outlet.outletMap._outlets[k]);
                }
                else {
                    _this.deactiveRouteAndItsChildren(v, null);
                }
            });
            if (!r.component) {
                this.checks.push(new CanDeactivate(null, r));
            }
            else if (outlet && outlet.isActivated) {
                this.checks.push(new CanDeactivate(outlet.component, r));
            }
            else {
                this.checks.push(new CanDeactivate(null, r));
            }
        };
        PreActivation.prototype.runCanActivate = function (future) {
            var _this = this;
            var canActivate = future._routeConfig ? future._routeConfig.canActivate : null;
            if (!canActivate || canActivate.length === 0)
                return of_1(true);
            var obs = map_2.call(from_1(canActivate), function (c) {
                var guard = _this.getToken(c, future);
                var observable;
                if (guard.canActivate) {
                    observable = wrapIntoObservable(guard.canActivate(future, _this.future));
                }
                else {
                    observable = wrapIntoObservable(guard(future, _this.future));
                }
                return first_2.call(observable);
            });
            return andObservables(obs);
        };
        PreActivation.prototype.runCanActivateChild = function (path) {
            var _this = this;
            var future = path[path.length - 1];
            var canActivateChildGuards = path.slice(0, path.length - 1)
                .reverse()
                .map(function (p) { return _this.extractCanActivateChild(p); })
                .filter(function (_) { return _ !== null; });
            return andObservables(map_2.call(from_1(canActivateChildGuards), function (d) {
                var obs = map_2.call(from_1(d.guards), function (c) {
                    var guard = _this.getToken(c, c.node);
                    var observable;
                    if (guard.canActivateChild) {
                        observable = wrapIntoObservable(guard.canActivateChild(future, _this.future));
                    }
                    else {
                        observable = wrapIntoObservable(guard(future, _this.future));
                    }
                    return first_2.call(observable);
                });
                return andObservables(obs);
            }));
        };
        PreActivation.prototype.extractCanActivateChild = function (p) {
            var canActivateChild = p._routeConfig ? p._routeConfig.canActivateChild : null;
            if (!canActivateChild || canActivateChild.length === 0)
                return null;
            return { node: p, guards: canActivateChild };
        };
        PreActivation.prototype.runCanDeactivate = function (component, curr) {
            var _this = this;
            var canDeactivate = curr && curr._routeConfig ? curr._routeConfig.canDeactivate : null;
            if (!canDeactivate || canDeactivate.length === 0)
                return of_1(true);
            var canDeactivate$ = mergeMap_2.call(from_1(canDeactivate), function (c) {
                var guard = _this.getToken(c, curr);
                var observable;
                if (guard.canDeactivate) {
                    observable = wrapIntoObservable(guard.canDeactivate(component, curr, _this.curr));
                }
                else {
                    observable = wrapIntoObservable(guard(component, curr, _this.curr));
                }
                return first_2.call(observable);
            });
            return every_2.call(canDeactivate$, function (result) { return result === true; });
        };
        PreActivation.prototype.runResolve = function (future) {
            var resolve = future._resolve;
            return map_2.call(this.resolveNode(resolve, future), function (resolvedData) {
                future._resolvedData = resolvedData;
                future.data = merge$1(future.data, inheritedParamsDataResolve(future).resolve);
                return null;
            });
        };
        PreActivation.prototype.resolveNode = function (resolve, future) {
            var _this = this;
            return waitForMap(resolve, function (k, v) {
                var resolver = _this.getToken(v, future);
                return resolver.resolve ? wrapIntoObservable(resolver.resolve(future, _this.future)) :
                    wrapIntoObservable(resolver(future, _this.future));
            });
        };
        PreActivation.prototype.getToken = function (token, snapshot) {
            var config = closestLoadedConfig(snapshot);
            var injector = config ? config.injector : this.injector;
            return injector.get(token);
        };
        return PreActivation;
    }());
    var ActivateRoutes = (function () {
        function ActivateRoutes(routeReuseStrategy, futureState, currState) {
            this.routeReuseStrategy = routeReuseStrategy;
            this.futureState = futureState;
            this.currState = currState;
        }
        ActivateRoutes.prototype.activate = function (parentOutletMap) {
            var futureRoot = this.futureState._root;
            var currRoot = this.currState ? this.currState._root : null;
            this.deactivateChildRoutes(futureRoot, currRoot, parentOutletMap);
            advanceActivatedRoute(this.futureState.root);
            this.activateChildRoutes(futureRoot, currRoot, parentOutletMap);
        };
        ActivateRoutes.prototype.deactivateChildRoutes = function (futureNode, currNode, outletMap) {
            var _this = this;
            var prevChildren = nodeChildrenAsMap(currNode);
            futureNode.children.forEach(function (c) {
                _this.deactivateRoutes(c, prevChildren[c.value.outlet], outletMap);
                delete prevChildren[c.value.outlet];
            });
            forEach(prevChildren, function (v, k) { return _this.deactiveRouteAndItsChildren(v, outletMap); });
        };
        ActivateRoutes.prototype.activateChildRoutes = function (futureNode, currNode, outletMap) {
            var _this = this;
            var prevChildren = nodeChildrenAsMap(currNode);
            futureNode.children.forEach(function (c) { _this.activateRoutes(c, prevChildren[c.value.outlet], outletMap); });
        };
        ActivateRoutes.prototype.deactivateRoutes = function (futureNode, currNode, parentOutletMap) {
            var future = futureNode.value;
            var curr = currNode ? currNode.value : null;
            if (future === curr) {
                if (future.component) {
                    var outlet = getOutlet(parentOutletMap, future);
                    this.deactivateChildRoutes(futureNode, currNode, outlet.outletMap);
                }
                else {
                    this.deactivateChildRoutes(futureNode, currNode, parentOutletMap);
                }
            }
            else {
                if (curr) {
                    this.deactiveRouteAndItsChildren(currNode, parentOutletMap);
                }
            }
        };
        ActivateRoutes.prototype.activateRoutes = function (futureNode, currNode, parentOutletMap) {
            var future = futureNode.value;
            var curr = currNode ? currNode.value : null;
            if (future === curr) {
                advanceActivatedRoute(future);
                if (future.component) {
                    var outlet = getOutlet(parentOutletMap, future);
                    this.activateChildRoutes(futureNode, currNode, outlet.outletMap);
                }
                else {
                    this.activateChildRoutes(futureNode, currNode, parentOutletMap);
                }
            }
            else {
                if (future.component) {
                    advanceActivatedRoute(future);
                    var outlet = getOutlet(parentOutletMap, futureNode.value);
                    if (this.routeReuseStrategy.shouldAttach(future.snapshot)) {
                        var stored = ((this.routeReuseStrategy.retrieve(future.snapshot)));
                        this.routeReuseStrategy.store(future.snapshot, null);
                        outlet.attach(stored.componentRef, stored.route.value);
                        advanceActivatedRouteNodeAndItsChildren(stored.route);
                    }
                    else {
                        var outletMap = new RouterOutletMap();
                        this.placeComponentIntoOutlet(outletMap, future, outlet);
                        this.activateChildRoutes(futureNode, null, outletMap);
                    }
                }
                else {
                    advanceActivatedRoute(future);
                    this.activateChildRoutes(futureNode, null, parentOutletMap);
                }
            }
        };
        ActivateRoutes.prototype.placeComponentIntoOutlet = function (outletMap, future, outlet) {
            var resolved = ([{ provide: ActivatedRoute, useValue: future }, {
                    provide: RouterOutletMap,
                    useValue: outletMap
                }]);
            var config = parentLoadedConfig(future.snapshot);
            var resolver = null;
            var injector = null;
            if (config) {
                injector = config.injectorFactory(outlet.locationInjector);
                resolver = config.factoryResolver;
                resolved.push({ provide: ComponentFactoryResolver, useValue: resolver });
            }
            else {
                injector = outlet.locationInjector;
                resolver = outlet.locationFactoryResolver;
            }
            outlet.activate(future, resolver, injector, ReflectiveInjector.resolve(resolved), outletMap);
        };
        ActivateRoutes.prototype.deactiveRouteAndItsChildren = function (route, parentOutletMap) {
            if (this.routeReuseStrategy.shouldDetach(route.value.snapshot)) {
                this.detachAndStoreRouteSubtree(route, parentOutletMap);
            }
            else {
                this.deactiveRouteAndOutlet(route, parentOutletMap);
            }
        };
        ActivateRoutes.prototype.detachAndStoreRouteSubtree = function (route, parentOutletMap) {
            var outlet = getOutlet(parentOutletMap, route.value);
            var componentRef = outlet.detach();
            this.routeReuseStrategy.store(route.value.snapshot, { componentRef: componentRef, route: route });
        };
        ActivateRoutes.prototype.deactiveRouteAndOutlet = function (route, parentOutletMap) {
            var _this = this;
            var prevChildren = nodeChildrenAsMap(route);
            var outlet = null;
            try {
                outlet = getOutlet(parentOutletMap, route.value);
            }
            catch (e) {
                return;
            }
            var childOutletMap = outlet.outletMap;
            forEach(prevChildren, function (v, k) {
                if (route.value.component) {
                    _this.deactiveRouteAndItsChildren(v, childOutletMap);
                }
                else {
                    _this.deactiveRouteAndItsChildren(v, parentOutletMap);
                }
            });
            if (outlet && outlet.isActivated) {
                outlet.deactivate();
            }
        };
        return ActivateRoutes;
    }());
    function advanceActivatedRouteNodeAndItsChildren(node) {
        advanceActivatedRoute(node.value);
        node.children.forEach(advanceActivatedRouteNodeAndItsChildren);
    }
    function parentLoadedConfig(snapshot) {
        var s = snapshot.parent;
        while (s) {
            var c = s._routeConfig;
            if (c && c._loadedConfig)
                return c._loadedConfig;
            if (c && c.component)
                return null;
            s = s.parent;
        }
        return null;
    }
    function closestLoadedConfig(snapshot) {
        if (!snapshot)
            return null;
        var s = snapshot.parent;
        while (s) {
            var c = s._routeConfig;
            if (c && c._loadedConfig)
                return c._loadedConfig;
            s = s.parent;
        }
        return null;
    }
    function nodeChildrenAsMap(node) {
        return node ? node.children.reduce(function (m, c) {
            m[c.value.outlet] = c;
            return m;
        }, {}) : {};
    }
    function getOutlet(outletMap, route) {
        var outlet = outletMap._outlets[route.outlet];
        if (!outlet) {
            var componentName = ((route.component)).name;
            if (route.outlet === PRIMARY_OUTLET) {
                throw new Error("Cannot find primary outlet to load '" + componentName + "'");
            }
            else {
                throw new Error("Cannot find the outlet " + route.outlet + " to load '" + componentName + "'");
            }
        }
        return outlet;
    }
    function validateCommands(commands) {
        for (var i = 0; i < commands.length; i++) {
            var cmd = commands[i];
            if (cmd == null) {
                throw new Error("The requested path contains " + cmd + " segment at index " + i);
            }
        }
    }
    var RouterLink = (function () {
        function RouterLink(router, route) {
            this.router = router;
            this.route = route;
            this.commands = [];
        }
        Object.defineProperty(RouterLink.prototype, "routerLink", {
            set: function (commands) {
                if (commands != null) {
                    this.commands = Array.isArray(commands) ? commands : [commands];
                }
                else {
                    this.commands = [];
                }
            },
            enumerable: true,
            configurable: true
        });
        RouterLink.prototype.onClick = function () {
            var extras = {
                skipLocationChange: attrBoolValue(this.skipLocationChange),
                replaceUrl: attrBoolValue(this.replaceUrl),
            };
            this.router.navigateByUrl(this.urlTree, extras);
            return true;
        };
        Object.defineProperty(RouterLink.prototype, "urlTree", {
            get: function () {
                return this.router.createUrlTree(this.commands, {
                    relativeTo: this.route,
                    queryParams: this.queryParams,
                    fragment: this.fragment,
                    preserveQueryParams: attrBoolValue(this.preserveQueryParams),
                    preserveFragment: attrBoolValue(this.preserveFragment),
                });
            },
            enumerable: true,
            configurable: true
        });
        RouterLink.decorators = [
            { type: Directive, args: [{ selector: ':not(a)[routerLink]' },] },
        ];
        RouterLink.ctorParameters = function () {
            return [
                { type: Router, },
                { type: ActivatedRoute, },
            ];
        };
        RouterLink.propDecorators = {
            'queryParams': [{ type: Input },],
            'fragment': [{ type: Input },],
            'preserveQueryParams': [{ type: Input },],
            'preserveFragment': [{ type: Input },],
            'skipLocationChange': [{ type: Input },],
            'replaceUrl': [{ type: Input },],
            'routerLink': [{ type: Input },],
            'onClick': [{ type: HostListener, args: ['click',] },],
        };
        return RouterLink;
    }());
    var RouterLinkWithHref = (function () {
        function RouterLinkWithHref(router, route, locationStrategy) {
            var _this = this;
            this.router = router;
            this.route = route;
            this.locationStrategy = locationStrategy;
            this.commands = [];
            this.subscription = router.events.subscribe(function (s) {
                if (s instanceof NavigationEnd) {
                    _this.updateTargetUrlAndHref();
                }
            });
        }
        Object.defineProperty(RouterLinkWithHref.prototype, "routerLink", {
            set: function (commands) {
                if (commands != null) {
                    this.commands = Array.isArray(commands) ? commands : [commands];
                }
                else {
                    this.commands = [];
                }
            },
            enumerable: true,
            configurable: true
        });
        RouterLinkWithHref.prototype.ngOnChanges = function (changes) { this.updateTargetUrlAndHref(); };
        RouterLinkWithHref.prototype.ngOnDestroy = function () { this.subscription.unsubscribe(); };
        RouterLinkWithHref.prototype.onClick = function (button, ctrlKey, metaKey) {
            if (button !== 0 || ctrlKey || metaKey) {
                return true;
            }
            if (typeof this.target === 'string' && this.target != '_self') {
                return true;
            }
            var extras = {
                skipLocationChange: attrBoolValue(this.skipLocationChange),
                replaceUrl: attrBoolValue(this.replaceUrl),
            };
            this.router.navigateByUrl(this.urlTree, extras);
            return false;
        };
        RouterLinkWithHref.prototype.updateTargetUrlAndHref = function () {
            this.href = this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree));
        };
        Object.defineProperty(RouterLinkWithHref.prototype, "urlTree", {
            get: function () {
                return this.router.createUrlTree(this.commands, {
                    relativeTo: this.route,
                    queryParams: this.queryParams,
                    fragment: this.fragment,
                    preserveQueryParams: attrBoolValue(this.preserveQueryParams),
                    preserveFragment: attrBoolValue(this.preserveFragment),
                });
            },
            enumerable: true,
            configurable: true
        });
        RouterLinkWithHref.decorators = [
            { type: Directive, args: [{ selector: 'a[routerLink]' },] },
        ];
        RouterLinkWithHref.ctorParameters = function () {
            return [
                { type: Router, },
                { type: ActivatedRoute, },
                { type: LocationStrategy, },
            ];
        };
        RouterLinkWithHref.propDecorators = {
            'target': [{ type: HostBinding, args: ['attr.target',] }, { type: Input },],
            'queryParams': [{ type: Input },],
            'fragment': [{ type: Input },],
            'preserveQueryParams': [{ type: Input },],
            'preserveFragment': [{ type: Input },],
            'skipLocationChange': [{ type: Input },],
            'replaceUrl': [{ type: Input },],
            'href': [{ type: HostBinding },],
            'routerLink': [{ type: Input },],
            'onClick': [{ type: HostListener, args: ['click', ['$event.button', '$event.ctrlKey', '$event.metaKey'],] },],
        };
        return RouterLinkWithHref;
    }());
    function attrBoolValue(s) {
        return s === '' || !!s;
    }
    var RouterLinkActive = (function () {
        function RouterLinkActive(router, element, renderer) {
            var _this = this;
            this.router = router;
            this.element = element;
            this.renderer = renderer;
            this.classes = [];
            this.routerLinkActiveOptions = { exact: false };
            this.subscription = router.events.subscribe(function (s) {
                if (s instanceof NavigationEnd) {
                    _this.update();
                }
            });
        }
        Object.defineProperty(RouterLinkActive.prototype, "isActive", {
            get: function () { return this.hasActiveLink(); },
            enumerable: true,
            configurable: true
        });
        RouterLinkActive.prototype.ngAfterContentInit = function () {
            var _this = this;
            this.links.changes.subscribe(function (s) { return _this.update(); });
            this.linksWithHrefs.changes.subscribe(function (s) { return _this.update(); });
            this.update();
        };
        Object.defineProperty(RouterLinkActive.prototype, "routerLinkActive", {
            set: function (data) {
                if (Array.isArray(data)) {
                    this.classes = (data);
                }
                else {
                    this.classes = data.split(' ');
                }
            },
            enumerable: true,
            configurable: true
        });
        RouterLinkActive.prototype.ngOnChanges = function (changes) { this.update(); };
        RouterLinkActive.prototype.ngOnDestroy = function () { this.subscription.unsubscribe(); };
        RouterLinkActive.prototype.update = function () {
            var _this = this;
            if (!this.links || !this.linksWithHrefs || !this.router.navigated)
                return;
            var isActive = this.hasActiveLink();
            this.classes.forEach(function (c) {
                if (c) {
                    _this.renderer.setElementClass(_this.element.nativeElement, c, isActive);
                }
            });
        };
        RouterLinkActive.prototype.isLinkActive = function (router) {
            var _this = this;
            return function (link) {
                return router.isActive(link.urlTree, _this.routerLinkActiveOptions.exact);
            };
        };
        RouterLinkActive.prototype.hasActiveLink = function () {
            return this.links.some(this.isLinkActive(this.router)) ||
                this.linksWithHrefs.some(this.isLinkActive(this.router));
        };
        RouterLinkActive.decorators = [
            { type: Directive, args: [{
                        selector: '[routerLinkActive]',
                        exportAs: 'routerLinkActive',
                    },] },
        ];
        RouterLinkActive.ctorParameters = function () {
            return [
                { type: Router, },
                { type: ElementRef, },
                { type: Renderer, },
            ];
        };
        RouterLinkActive.propDecorators = {
            'links': [{ type: ContentChildren, args: [RouterLink, { descendants: true },] },],
            'linksWithHrefs': [{ type: ContentChildren, args: [RouterLinkWithHref, { descendants: true },] },],
            'routerLinkActiveOptions': [{ type: Input },],
            'routerLinkActive': [{ type: Input },],
        };
        return RouterLinkActive;
    }());
    var RouterOutlet = (function () {
        function RouterOutlet(parentOutletMap, location, resolver, name) {
            this.parentOutletMap = parentOutletMap;
            this.location = location;
            this.resolver = resolver;
            this.name = name;
            this.activateEvents = new EventEmitter();
            this.deactivateEvents = new EventEmitter();
            parentOutletMap.registerOutlet(name ? name : PRIMARY_OUTLET, this);
        }
        RouterOutlet.prototype.ngOnDestroy = function () { this.parentOutletMap.removeOutlet(this.name ? this.name : PRIMARY_OUTLET); };
        Object.defineProperty(RouterOutlet.prototype, "locationInjector", {
            get: function () { return this.location.injector; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RouterOutlet.prototype, "locationFactoryResolver", {
            get: function () { return this.resolver; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RouterOutlet.prototype, "isActivated", {
            get: function () { return !!this.activated; },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RouterOutlet.prototype, "component", {
            get: function () {
                if (!this.activated)
                    throw new Error('Outlet is not activated');
                return this.activated.instance;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(RouterOutlet.prototype, "activatedRoute", {
            get: function () {
                if (!this.activated)
                    throw new Error('Outlet is not activated');
                return this._activatedRoute;
            },
            enumerable: true,
            configurable: true
        });
        RouterOutlet.prototype.detach = function () {
            if (!this.activated)
                throw new Error('Outlet is not activated');
            this.location.detach();
            var r = this.activated;
            this.activated = null;
            this._activatedRoute = null;
            return r;
        };
        RouterOutlet.prototype.attach = function (ref, activatedRoute) {
            this.activated = ref;
            this._activatedRoute = activatedRoute;
            this.location.insert(ref.hostView);
        };
        RouterOutlet.prototype.deactivate = function () {
            if (this.activated) {
                var c = this.component;
                this.activated.destroy();
                this.activated = null;
                this._activatedRoute = null;
                this.deactivateEvents.emit(c);
            }
        };
        RouterOutlet.prototype.activate = function (activatedRoute, resolver, injector, providers, outletMap) {
            if (this.isActivated) {
                throw new Error('Cannot activate an already activated outlet');
            }
            this.outletMap = outletMap;
            this._activatedRoute = activatedRoute;
            var snapshot = activatedRoute._futureSnapshot;
            var component = (snapshot._routeConfig.component);
            var factory = resolver.resolveComponentFactory(component);
            var inj = ReflectiveInjector.fromResolvedProviders(providers, injector);
            this.activated = this.location.createComponent(factory, this.location.length, inj, []);
            this.activated.changeDetectorRef.detectChanges();
            this.activateEvents.emit(this.activated.instance);
        };
        RouterOutlet.decorators = [
            { type: Directive, args: [{ selector: 'router-outlet' },] },
        ];
        RouterOutlet.ctorParameters = function () {
            return [
                { type: RouterOutletMap, },
                { type: ViewContainerRef, },
                { type: ComponentFactoryResolver, },
                { type: undefined, decorators: [{ type: Attribute, args: ['name',] },] },
            ];
        };
        RouterOutlet.propDecorators = {
            'activateEvents': [{ type: Output, args: ['activate',] },],
            'deactivateEvents': [{ type: Output, args: ['deactivate',] },],
        };
        return RouterOutlet;
    }());
    var RouteReuseStrategy = (function () {
        function RouteReuseStrategy() {
        }
        RouteReuseStrategy.prototype.shouldDetach = function (route) { };
        RouteReuseStrategy.prototype.store = function (route, handle) { };
        RouteReuseStrategy.prototype.shouldAttach = function (route) { };
        RouteReuseStrategy.prototype.retrieve = function (route) { };
        RouteReuseStrategy.prototype.shouldReuseRoute = function (future, curr) { };
        return RouteReuseStrategy;
    }());
    var getDOM$1 = __platform_browser_private__.getDOM;
    var __extends$83 = (commonjsGlobal && commonjsGlobal.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Subscriber_1$13 = Subscriber_1$2;
    function filter(predicate, thisArg) {
        return this.lift(new FilterOperator(predicate, thisArg));
    }
    var filter_2 = filter;
    var FilterOperator = (function () {
        function FilterOperator(predicate, thisArg) {
            this.predicate = predicate;
            this.thisArg = thisArg;
        }
        FilterOperator.prototype.call = function (subscriber, source) {
            return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));
        };
        return FilterOperator;
    }());
    var FilterSubscriber = (function (_super) {
        __extends$83(FilterSubscriber, _super);
        function FilterSubscriber(destination, predicate, thisArg) {
            _super.call(this, destination);
            this.predicate = predicate;
            this.thisArg = thisArg;
            this.count = 0;
            this.predicate = predicate;
        }
        FilterSubscriber.prototype._next = function (value) {
            var result;
            try {
                result = this.predicate.call(this.thisArg, value, this.count++);
            }
            catch (err) {
                this.destination.error(err);
                return;
            }
            if (result) {
                this.destination.next(value);
            }
        };
        return FilterSubscriber;
    }(Subscriber_1$13.Subscriber));
    var PreloadingStrategy = (function () {
        function PreloadingStrategy() {
        }
        PreloadingStrategy.prototype.preload = function (route, fn) { };
        return PreloadingStrategy;
    }());
    var PreloadAllModules = (function () {
        function PreloadAllModules() {
        }
        PreloadAllModules.prototype.preload = function (route, fn) {
            return _catch_2.call(fn(), function () { return of_1(null); });
        };
        return PreloadAllModules;
    }());
    var NoPreloading = (function () {
        function NoPreloading() {
        }
        NoPreloading.prototype.preload = function (route, fn) { return of_1(null); };
        return NoPreloading;
    }());
    var RouterPreloader = (function () {
        function RouterPreloader(router, moduleLoader, compiler, injector, preloadingStrategy) {
            this.router = router;
            this.injector = injector;
            this.preloadingStrategy = preloadingStrategy;
            this.loader = new RouterConfigLoader(moduleLoader, compiler);
        }
        RouterPreloader.prototype.setUpPreloading = function () {
            var _this = this;
            var navigations = filter_2.call(this.router.events, function (e) { return e instanceof NavigationEnd; });
            this.subscription = concatMap_2.call(navigations, function () { return _this.preload(); }).subscribe(function (v) { });
        };
        RouterPreloader.prototype.preload = function () { return this.processRoutes(this.injector, this.router.config); };
        RouterPreloader.prototype.ngOnDestroy = function () { this.subscription.unsubscribe(); };
        RouterPreloader.prototype.processRoutes = function (injector, routes) {
            var res = [];
            for (var _i = 0, routes_1 = routes; _i < routes_1.length; _i++) {
                var c = routes_1[_i];
                if (c.loadChildren && !c.canLoad && ((c))._loadedConfig) {
                    var childConfig = ((c))._loadedConfig;
                    res.push(this.processRoutes(childConfig.injector, childConfig.routes));
                }
                else if (c.loadChildren && !c.canLoad) {
                    res.push(this.preloadConfig(injector, c));
                }
                else if (c.children) {
                    res.push(this.processRoutes(injector, c.children));
                }
            }
            return mergeAll_2.call(from_1(res));
        };
        RouterPreloader.prototype.preloadConfig = function (injector, route) {
            var _this = this;
            return this.preloadingStrategy.preload(route, function () {
                var loaded = _this.loader.load(injector, route.loadChildren);
                return mergeMap_2.call(loaded, function (config) {
                    var c = route;
                    c._loadedConfig = config;
                    return _this.processRoutes(config.injector, config.routes);
                });
            });
        };
        RouterPreloader.decorators = [
            { type: Injectable },
        ];
        RouterPreloader.ctorParameters = function () {
            return [
                { type: Router, },
                { type: NgModuleFactoryLoader, },
                { type: Compiler, },
                { type: Injector, },
                { type: PreloadingStrategy, },
            ];
        };
        return RouterPreloader;
    }());
    var ROUTER_DIRECTIVES = [RouterOutlet, RouterLink, RouterLinkWithHref, RouterLinkActive];
    var ROUTER_CONFIGURATION = new OpaqueToken('ROUTER_CONFIGURATION');
    var ROUTER_FORROOT_GUARD = new OpaqueToken('ROUTER_FORROOT_GUARD');
    var ROUTER_PROVIDERS = [
        Location,
        { provide: UrlSerializer, useClass: DefaultUrlSerializer },
        {
            provide: Router,
            useFactory: setupRouter,
            deps: [
                ApplicationRef, UrlSerializer, RouterOutletMap, Location, Injector, NgModuleFactoryLoader,
                Compiler, ROUTES, ROUTER_CONFIGURATION, [UrlHandlingStrategy, new Optional()],
                [RouteReuseStrategy, new Optional()]
            ]
        },
        RouterOutletMap,
        { provide: ActivatedRoute, useFactory: rootRoute, deps: [Router] },
        { provide: NgModuleFactoryLoader, useClass: SystemJsNgModuleLoader },
        RouterPreloader,
        NoPreloading,
        PreloadAllModules,
        { provide: ROUTER_CONFIGURATION, useValue: { enableTracing: false } },
    ];
    function routerNgProbeToken() {
        return new NgProbeToken('Router', Router);
    }
    var RouterModule = (function () {
        function RouterModule(guard) {
        }
        RouterModule.forRoot = function (routes, config) {
            return {
                ngModule: RouterModule,
                providers: [
                    ROUTER_PROVIDERS,
                    provideRoutes(routes),
                    {
                        provide: ROUTER_FORROOT_GUARD,
                        useFactory: provideForRootGuard,
                        deps: [[Router, new Optional(), new SkipSelf()]]
                    },
                    { provide: ROUTER_CONFIGURATION, useValue: config ? config : {} },
                    {
                        provide: LocationStrategy,
                        useFactory: provideLocationStrategy,
                        deps: [
                            PlatformLocation, [new Inject(APP_BASE_HREF), new Optional()], ROUTER_CONFIGURATION
                        ]
                    },
                    {
                        provide: PreloadingStrategy,
                        useExisting: config && config.preloadingStrategy ? config.preloadingStrategy :
                            NoPreloading
                    },
                    { provide: NgProbeToken, multi: true, useFactory: routerNgProbeToken },
                    provideRouterInitializer(),
                ],
            };
        };
        RouterModule.forChild = function (routes) {
            return { ngModule: RouterModule, providers: [provideRoutes(routes)] };
        };
        RouterModule.decorators = [
            { type: NgModule, args: [{ declarations: ROUTER_DIRECTIVES, exports: ROUTER_DIRECTIVES },] },
        ];
        RouterModule.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [ROUTER_FORROOT_GUARD,] },] },
            ];
        };
        return RouterModule;
    }());
    function provideLocationStrategy(platformLocationStrategy, baseHref, options) {
        if (options === void 0) {
            options = {};
        }
        return options.useHash ? new HashLocationStrategy(platformLocationStrategy, baseHref) :
            new PathLocationStrategy(platformLocationStrategy, baseHref);
    }
    function provideForRootGuard(router) {
        if (router) {
            throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");
        }
        return 'guarded';
    }
    function provideRoutes(routes) {
        return [
            { provide: ANALYZE_FOR_ENTRY_COMPONENTS, multi: true, useValue: routes },
            { provide: ROUTES, multi: true, useValue: routes },
        ];
    }
    function setupRouter(ref, urlSerializer, outletMap, location, injector, loader, compiler, config, opts, urlHandlingStrategy, routeReuseStrategy) {
        if (opts === void 0) {
            opts = {};
        }
        var router = new Router(null, urlSerializer, outletMap, location, injector, loader, compiler, flatten(config));
        if (urlHandlingStrategy) {
            router.urlHandlingStrategy = urlHandlingStrategy;
        }
        if (routeReuseStrategy) {
            router.routeReuseStrategy = routeReuseStrategy;
        }
        if (opts.errorHandler) {
            router.errorHandler = opts.errorHandler;
        }
        if (opts.enableTracing) {
            var dom_1 = getDOM$1();
            router.events.subscribe(function (e) {
                dom_1.logGroup("Router Event: " + ((e.constructor)).name);
                dom_1.log(e.toString());
                dom_1.log(e);
                dom_1.logGroupEnd();
            });
        }
        return router;
    }
    function rootRoute(router) {
        return router.routerState.root;
    }
    function initialRouterNavigation(router, ref, preloader, opts) {
        return function (bootstrappedComponentRef) {
            if (bootstrappedComponentRef !== ref.components[0]) {
                return;
            }
            router.resetRootComponentType(ref.componentTypes[0]);
            preloader.setUpPreloading();
            if (opts.initialNavigation === false) {
                router.setUpLocationChangeListener();
            }
            else {
                router.initialNavigation();
            }
        };
    }
    var ROUTER_INITIALIZER = new OpaqueToken('Router Initializer');
    function provideRouterInitializer() {
        return [
            {
                provide: ROUTER_INITIALIZER,
                useFactory: initialRouterNavigation,
                deps: [Router, ApplicationRef, RouterPreloader, ROUTER_CONFIGURATION]
            },
            { provide: APP_BOOTSTRAP_LISTENER, multi: true, useExisting: ROUTER_INITIALIZER },
        ];
    }
    var VERSION$5 = new Version('3.4.3');
    var __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __metadata$1 = (undefined && undefined.__metadata) || function (k, v) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(k, v);
    };
    var HomeComponent = (function () {
        function HomeComponent(router) {
            this.router = router;
            this.userName = 'JohnS';
            this.password = 'password';
        }
        HomeComponent.prototype.login = function () {
            this.router.navigate(['fruit-list']);
        };
        HomeComponent = __decorate$1([
            Component({
                selector: 'home',
                templateUrl: './home.component.html'
            }),
            __metadata$1('design:paramtypes', [Router])
        ], HomeComponent);
        return HomeComponent;
    }());
    var Observable_1$16 = Observable_1$1;
    var toPromise_1$2 = toPromise_1;
    Observable_1$16.Observable.prototype.toPromise = toPromise_1$2.toPromise;
    var __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __metadata$3 = (undefined && undefined.__metadata) || function (k, v) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(k, v);
    };
    var FruitService = (function () {
        function FruitService(http) {
            this.http = http;
            this.fruitListUrl = '/src/data/fruit-data.json';
        }
        FruitService.prototype.getFruitItem = function (fruitItemID) {
            var _this = this;
            return this.getFruitList_Promise().then(function (fruitItems) { return _this.extractFruitItem(fruitItems, fruitItemID); });
        };
        FruitService.prototype.getFruitList_Promise = function () {
            return this.http.get(this.fruitListUrl)
                .toPromise()
                .then(function (response) { return response.json(); })
                .catch(this.handleError);
        };
        FruitService.prototype.getFruitList_Observable = function () {
            return this.http
                .get(this.fruitListUrl)
                .map(function (r) { return r.json().data; });
        };
        FruitService.prototype.extractFruitItem = function (fruitItems, fruitItemID) {
            var extractedFruitItem;
            fruitItems.forEach(function (item) {
                if (item.id && item.id === fruitItemID) {
                    extractedFruitItem = item;
                }
            });
            return extractedFruitItem;
        };
        FruitService.prototype.handleError = function (error) {
            console.error('An error occurred', error);
            return Promise.reject(error.message || error);
        };
        FruitService = __decorate$3([
            Injectable(),
            __metadata$3('design:paramtypes', [Http])
        ], FruitService);
        return FruitService;
    }());
    var __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __metadata$2 = (undefined && undefined.__metadata) || function (k, v) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(k, v);
    };
    var FruitListComponent = (function () {
        function FruitListComponent(fruitService, router) {
            this.fruitService = fruitService;
            this.router = router;
        }
        FruitListComponent.prototype.ngOnInit = function () {
            this.getFruitList();
        };
        FruitListComponent.prototype.getFruitList = function () {
            var _this = this;
            this.loading = true;
            this.fruitService.getFruitList_Promise().then(function (fruitItems) {
                _this.rowData = fruitItems;
                _this.loading = false;
            });
        };
        FruitListComponent.prototype.loadDetail = function (fruitItem) {
            this.router.navigate(['fruit-detail', fruitItem.id]);
        };
        FruitListComponent.prototype.loadVendor = function () {
            this.router.navigate(['fruit-vendor']);
        };
        FruitListComponent = __decorate$2([
            Component({
                selector: 'fruit-list',
                templateUrl: './fruit-list.component.html',
                providers: [FruitService]
            }),
            __metadata$2('design:paramtypes', [FruitService, Router])
        ], FruitListComponent);
        return FruitListComponent;
    }());
    var __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __metadata$4 = (undefined && undefined.__metadata) || function (k, v) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(k, v);
    };
    var FruitDetailComponent = (function () {
        function FruitDetailComponent(route) {
            this.route = route;
        }
        FruitDetailComponent.prototype.ngOnInit = function () {
            this.currentFruitItem = this.route.snapshot.data['fruitItem'];
        };
        FruitDetailComponent = __decorate$4([
            Component({
                selector: 'fruit-detail',
                templateUrl: './fruit-detail.component.html',
                providers: [FruitService]
            }),
            __metadata$4('design:paramtypes', [ActivatedRoute])
        ], FruitDetailComponent);
        return FruitDetailComponent;
    }());
    var __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __metadata$5 = (undefined && undefined.__metadata) || function (k, v) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(k, v);
    };
    var FruitDetailResolver = (function () {
        function FruitDetailResolver(fruitService) {
            this.fruitService = fruitService;
        }
        FruitDetailResolver.prototype.resolve = function (route, state$$1) {
            return this.fruitService.getFruitItem(Number(route.params['id']));
        };
        FruitDetailResolver = __decorate$5([
            Injectable(),
            __metadata$5('design:paramtypes', [FruitService])
        ], FruitDetailResolver);
        return FruitDetailResolver;
    }());
    var appRoutes = [
        { path: 'home', component: HomeComponent },
        { path: 'fruit-list', component: FruitListComponent },
        { path: 'fruit-detail/:id', component: FruitDetailComponent, resolve: { fruitItem: FruitDetailResolver } },
        { path: 'fruit-vendor', loadChildren: './fruit-vendor/fruit-vendor.module#FruitVendorModule' },
        { path: '**', component: HomeComponent }
    ];
    var appRouting = RouterModule.forRoot(appRoutes);
    var __decorate$6 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __metadata$6 = (undefined && undefined.__metadata) || function (k, v) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(k, v);
    };
    var AppComponent = (function () {
        function AppComponent() {
        }
        AppComponent = __decorate$6([
            Component({
                selector: 'my-app',
                template: "\n    <main>\n      <h1>ng-rosetta: Angular 2 Version</h1>\n\n      <!-- Routing Viewport -->\n      <router-outlet></router-outlet>\n    </main>\n    "
            }),
            __metadata$6('design:paramtypes', [])
        ], AppComponent);
        return AppComponent;
    }());
    var __decorate$7 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __metadata$7 = (undefined && undefined.__metadata) || function (k, v) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(k, v);
    };
    var FruitItemImageComponent = (function () {
        function FruitItemImageComponent() {
        }
        FruitItemImageComponent = __decorate$7([
            Component({
                selector: 'fruititem-image',
                template: "<div>\n                <a href=\"{{targetUrl}}\" target=\"new\">\n                    <img src=\"{{imageUrl}}\">\n                </a>\n            </div>",
                inputs: ['targetUrl', 'imageUrl']
            }),
            __metadata$7('design:paramtypes', [])
        ], FruitItemImageComponent);
        return FruitItemImageComponent;
    }());
    var __decorate$8 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __metadata$8 = (undefined && undefined.__metadata) || function (k, v) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(k, v);
    };
    var FruitImageCellComponent = (function () {
        function FruitImageCellComponent() {
        }
        FruitImageCellComponent.prototype.agInit = function (params) {
            this.params = params;
        };
        FruitImageCellComponent = __decorate$8([
            Component({
                selector: 'fruit-image-cell',
                template: "<img src=\"{{params.value}}\" style=\"width:90px;height:90px;\" />"
            }),
            __metadata$8('design:paramtypes', [])
        ], FruitImageCellComponent);
        return FruitImageCellComponent;
    }());
    var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __metadata = (undefined && undefined.__metadata) || function (k, v) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(k, v);
    };
    var AppModule = (function () {
        function AppModule() {
        }
        AppModule = __decorate([
            NgModule({
                imports: [
                    BrowserModule,
                    FormsModule,
                    NgbModule.forRoot(),
                    HttpModule,
                    appRouting
                ],
                declarations: [
                    AppComponent,
                    HomeComponent,
                    FruitListComponent,
                    FruitDetailComponent,
                    FruitItemImageComponent,
                    FruitImageCellComponent
                ],
                providers: [
                    FruitService,
                    FruitDetailResolver
                ],
                bootstrap: [AppComponent]
            }),
            __metadata('design:paramtypes', [])
        ], AppModule);
        return AppModule;
    }());
    var Wrapper_NgIf = (function () {
        function Wrapper_NgIf(p0, p1) {
            this._changed = false;
            this.context = new NgIf(p0, p1);
            this._expr_0 = UNINITIALIZED;
        }
        Wrapper_NgIf.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgIf.prototype.ngOnDestroy = function () {
        };
        Wrapper_NgIf.prototype.check_ngIf = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.ngIf = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgIf.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgIf.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgIf.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgIf.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgIf;
    }());
    var __extends$84 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbAlert = (function () {
        function Wrapper_NgbAlert(p0) {
            this._changed = false;
            this.context = new NgbAlert(p0);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
        }
        Wrapper_NgbAlert.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbAlert.prototype.ngOnDestroy = function () {
            (this.subscription0 && this.subscription0.unsubscribe());
        };
        Wrapper_NgbAlert.prototype.check_dismissible = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.dismissible = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgbAlert.prototype.check_type = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.type = currValue;
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgbAlert.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgbAlert.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgbAlert.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgbAlert.prototype.subscribe = function (view, _eventHandler, emit0) {
            this._eventHandler = _eventHandler;
            if (emit0) {
                (this.subscription0 = this.context.close.subscribe(_eventHandler.bind(view, 'close')));
            }
        };
        return Wrapper_NgbAlert;
    }());
    var renderType_NgbAlert_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbAlert_Host0 = (function (_super) {
        __extends$84(View_NgbAlert_Host0, _super);
        function View_NgbAlert_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbAlert_Host0, renderType_NgbAlert_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbAlert_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'ngb-alert', EMPTY_INLINE_ARRAY, rootSelector, null);
            this.compView_0 = new View_NgbAlert0(this.viewUtils, this, 0, this._el_0);
            this._NgbAlert_0_3 = new Wrapper_NgbAlert(this.injectorGet(NgbAlertConfig, this.parentIndex));
            this.compView_0.create(this._NgbAlert_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._NgbAlert_0_3.context);
        };
        View_NgbAlert_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbAlert) && (0 === requestNodeIndex))) {
                return this._NgbAlert_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbAlert_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            if (this._NgbAlert_0_3.ngDoCheck(this, this._el_0, throwOnChange)) {
                this.compView_0.markAsCheckOnce();
            }
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbAlert_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
            this._NgbAlert_0_3.ngOnDestroy();
        };
        View_NgbAlert_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbAlert_Host0.prototype.visitProjectableNodesInternal = function (nodeIndex, ngContentIndex, cb, ctx) {
            if (((nodeIndex == 0) && (ngContentIndex == 0))) { }
        };
        return View_NgbAlert_Host0;
    }(AppView));
    var NgbAlertNgFactory = new ComponentFactory('ngb-alert', View_NgbAlert_Host0, NgbAlert);
    var styles_NgbAlert = [];
    var View_NgbAlert1 = (function (_super) {
        __extends$84(View_NgbAlert1, _super);
        function View_NgbAlert1(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbAlert1, renderType_NgbAlert, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbAlert1.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'button', new InlineArray8(6, 'aria-label', 'Close', 'class', 'close', 'type', 'button'), null);
            this._text_1 = this.renderer.createText(this._el_0, '\n            ', null);
            this._el_2 = createRenderElement(this.renderer, this._el_0, 'span', new InlineArray2(2, 'aria-hidden', 'true'), null);
            this._text_3 = this.renderer.createText(this._el_2, '', null);
            this._text_4 = this.renderer.createText(this._el_0, '\n      ', null);
            var disposable_0 = subscribeToRenderElement(this, this._el_0, new InlineArray2(2, 'click', null), this.eventHandler(this.handleEvent_0));
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1,
                this._el_2,
                this._text_3,
                this._text_4
            ]), [disposable_0]);
            return null;
        };
        View_NgbAlert1.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbAlert1.prototype.handleEvent_0 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'click')) {
                var pd_sub_0 = (this.parentView.context.closeHandler() !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        return View_NgbAlert1;
    }(AppView));
    var renderType_NgbAlert = createRenderComponentType('', 1, ViewEncapsulation.None, styles_NgbAlert, {});
    var View_NgbAlert0 = (function (_super) {
        __extends$84(View_NgbAlert0, _super);
        function View_NgbAlert0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbAlert0, renderType_NgbAlert, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckOnce);
            this._expr_10 = UNINITIALIZED;
        }
        View_NgbAlert0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._el_1 = createRenderElement(this.renderer, parentRenderNode, 'div', new InlineArray2(2, 'role', 'alert'), null);
            this._text_2 = this.renderer.createText(this._el_1, '\n      ', null);
            this._anchor_3 = this.renderer.createTemplateAnchor(this._el_1, null);
            this._vc_3 = new ViewContainer(3, 1, this, this._anchor_3);
            this._TemplateRef_3_5 = new TemplateRef_(this, 3, this._anchor_3);
            this._NgIf_3_6 = new Wrapper_NgIf(this._vc_3.vcRef, this._TemplateRef_3_5);
            this._text_4 = this.renderer.createText(this._el_1, '\n      ', null);
            this.projectNodes(this._el_1, 0);
            this._text_5 = this.renderer.createText(this._el_1, '\n    ', null);
            this._text_6 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._anchor_3,
                this._text_4,
                this._text_5,
                this._text_6
            ]), null);
            return null;
        };
        View_NgbAlert0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (3 === requestNodeIndex))) {
                return this._TemplateRef_3_5;
            }
            if (((token === NgIf) && (3 === requestNodeIndex))) {
                return this._NgIf_3_6.context;
            }
            return notFoundResult;
        };
        View_NgbAlert0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_3_0_0 = this.context.dismissible;
            this._NgIf_3_6.check_ngIf(currVal_3_0_0, throwOnChange, false);
            this._NgIf_3_6.ngDoCheck(this, this._anchor_3, throwOnChange);
            this._vc_3.detectChangesInNestedViews(throwOnChange);
            var currVal_10 = ('alert alert-' + this.context.type);
            if (checkBinding(throwOnChange, this._expr_10, currVal_10)) {
                this.renderer.setElementProperty(this._el_1, 'className', currVal_10);
                this._expr_10 = currVal_10;
            }
        };
        View_NgbAlert0.prototype.destroyInternal = function () {
            this._vc_3.destroyNestedViews();
        };
        View_NgbAlert0.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 3)) {
                return new View_NgbAlert1(this.viewUtils, this, 3, this._anchor_3, this._vc_3);
            }
            return null;
        };
        return View_NgbAlert0;
    }(AppView));
    var __extends$85 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbTooltipWindow = (function () {
        function Wrapper_NgbTooltipWindow() {
            this._changed = false;
            this.context = new NgbTooltipWindow();
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
        }
        Wrapper_NgbTooltipWindow.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbTooltipWindow.prototype.ngOnDestroy = function () {
        };
        Wrapper_NgbTooltipWindow.prototype.check_placement = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.placement = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgbTooltipWindow.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgbTooltipWindow.prototype.checkHost = function (view, componentView, el, throwOnChange) {
            var currVal_1 = ('tooltip in tooltip-' + this.context.placement);
            if (checkBinding(throwOnChange, this._expr_1, currVal_1)) {
                view.renderer.setElementProperty(el, 'className', currVal_1);
                this._expr_1 = currVal_1;
            }
        };
        Wrapper_NgbTooltipWindow.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgbTooltipWindow.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgbTooltipWindow;
    }());
    var renderType_NgbTooltipWindow_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbTooltipWindow_Host0 = (function (_super) {
        __extends$85(View_NgbTooltipWindow_Host0, _super);
        function View_NgbTooltipWindow_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbTooltipWindow_Host0, renderType_NgbTooltipWindow_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbTooltipWindow_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'ngb-tooltip-window', new InlineArray2(2, 'role', 'tooltip'), rootSelector, null);
            this.compView_0 = new View_NgbTooltipWindow0(this.viewUtils, this, 0, this._el_0);
            this._NgbTooltipWindow_0_3 = new Wrapper_NgbTooltipWindow();
            this.compView_0.create(this._NgbTooltipWindow_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._NgbTooltipWindow_0_3.context);
        };
        View_NgbTooltipWindow_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbTooltipWindow) && (0 === requestNodeIndex))) {
                return this._NgbTooltipWindow_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbTooltipWindow_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            if (this._NgbTooltipWindow_0_3.ngDoCheck(this, this._el_0, throwOnChange)) {
                this.compView_0.markAsCheckOnce();
            }
            this._NgbTooltipWindow_0_3.checkHost(this, this.compView_0, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbTooltipWindow_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
        };
        View_NgbTooltipWindow_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbTooltipWindow_Host0.prototype.visitProjectableNodesInternal = function (nodeIndex, ngContentIndex, cb, ctx) {
            if (((nodeIndex == 0) && (ngContentIndex == 0))) { }
        };
        return View_NgbTooltipWindow_Host0;
    }(AppView));
    var NgbTooltipWindowNgFactory = new ComponentFactory('ngb-tooltip-window', View_NgbTooltipWindow_Host0, NgbTooltipWindow);
    var styles_NgbTooltipWindow = [];
    var renderType_NgbTooltipWindow = createRenderComponentType('', 1, ViewEncapsulation.None, styles_NgbTooltipWindow, {});
    var View_NgbTooltipWindow0 = (function (_super) {
        __extends$85(View_NgbTooltipWindow0, _super);
        function View_NgbTooltipWindow0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbTooltipWindow0, renderType_NgbTooltipWindow, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckOnce);
        }
        View_NgbTooltipWindow0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._el_1 = createRenderElement(this.renderer, parentRenderNode, 'div', new InlineArray2(2, 'class', 'tooltip-arrow'), null);
            this._text_2 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._el_3 = createRenderElement(this.renderer, parentRenderNode, 'div', new InlineArray2(2, 'class', 'tooltip-inner'), null);
            this.projectNodes(this._el_3, 0);
            this._text_4 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._el_3,
                this._text_4
            ]), null);
            return null;
        };
        return View_NgbTooltipWindow0;
    }(AppView));
    var Wrapper_NgFor = (function () {
        function Wrapper_NgFor(p0, p1, p2, p3) {
            this._changed = false;
            this._changes = {};
            this.context = new NgFor(p0, p1, p2, p3);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
        }
        Wrapper_NgFor.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgFor.prototype.ngOnDestroy = function () {
        };
        Wrapper_NgFor.prototype.check_ngForOf = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.ngForOf = currValue;
                this._changes['ngForOf'] = new SimpleChange(this._expr_0, currValue);
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgFor.prototype.check_ngForTrackBy = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.ngForTrackBy = currValue;
                this._changes['ngForTrackBy'] = new SimpleChange(this._expr_1, currValue);
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgFor.prototype.check_ngForTemplate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_2, currValue))) {
                this._changed = true;
                this.context.ngForTemplate = currValue;
                this._changes['ngForTemplate'] = new SimpleChange(this._expr_2, currValue);
                this._expr_2 = currValue;
            }
        };
        Wrapper_NgFor.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            if (!throwOnChange) {
                if (changed) {
                    this.context.ngOnChanges(this._changes);
                    this._changes = {};
                }
                this.context.ngDoCheck();
            }
            return changed;
        };
        Wrapper_NgFor.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgFor.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgFor.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgFor;
    }());
    var __extends$87 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbHighlight = (function () {
        function Wrapper_NgbHighlight() {
            this._changed = false;
            this._changes = {};
            this.context = new NgbHighlight();
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
        }
        Wrapper_NgbHighlight.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbHighlight.prototype.ngOnDestroy = function () {
        };
        Wrapper_NgbHighlight.prototype.check_highlightClass = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.highlightClass = currValue;
                this._changes['highlightClass'] = new SimpleChange(this._expr_0, currValue);
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgbHighlight.prototype.check_result = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.result = currValue;
                this._changes['result'] = new SimpleChange(this._expr_1, currValue);
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgbHighlight.prototype.check_term = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_2, currValue))) {
                this._changed = true;
                this.context.term = currValue;
                this._changes['term'] = new SimpleChange(this._expr_2, currValue);
                this._expr_2 = currValue;
            }
        };
        Wrapper_NgbHighlight.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            if (!throwOnChange) {
                if (changed) {
                    this.context.ngOnChanges(this._changes);
                    this._changes = {};
                }
            }
            return changed;
        };
        Wrapper_NgbHighlight.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgbHighlight.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgbHighlight.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgbHighlight;
    }());
    var renderType_NgbHighlight_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbHighlight_Host0 = (function (_super) {
        __extends$87(View_NgbHighlight_Host0, _super);
        function View_NgbHighlight_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbHighlight_Host0, renderType_NgbHighlight_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbHighlight_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'ngb-highlight', EMPTY_INLINE_ARRAY, rootSelector, null);
            this.compView_0 = new View_NgbHighlight0(this.viewUtils, this, 0, this._el_0);
            this._NgbHighlight_0_3 = new Wrapper_NgbHighlight();
            this.compView_0.create(this._NgbHighlight_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._NgbHighlight_0_3.context);
        };
        View_NgbHighlight_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbHighlight) && (0 === requestNodeIndex))) {
                return this._NgbHighlight_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbHighlight_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            if (this._NgbHighlight_0_3.ngDoCheck(this, this._el_0, throwOnChange)) {
                this.compView_0.markAsCheckOnce();
            }
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbHighlight_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
        };
        View_NgbHighlight_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbHighlight_Host0;
    }(AppView));
    var NgbHighlightNgFactory = new ComponentFactory('ngb-highlight', View_NgbHighlight_Host0, NgbHighlight);
    var styles_NgbHighlight = ['.ngb-highlight[_ngcontent-%COMP%] {\n      font-weight: bold;\n    }'];
    var View_NgbHighlight2 = (function (_super) {
        __extends$87(View_NgbHighlight2, _super);
        function View_NgbHighlight2(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbHighlight2, renderType_NgbHighlight, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
            this._expr_2 = UNINITIALIZED;
            this._expr_3 = UNINITIALIZED;
        }
        View_NgbHighlight2.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'span', EMPTY_INLINE_ARRAY, null);
            this._text_1 = this.renderer.createText(this._el_0, '', null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1
            ]), null);
            return null;
        };
        View_NgbHighlight2.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_2 = inlineInterpolate(1, '', this.parentView.parentView.context.highlightClass, '');
            if (checkBinding(throwOnChange, this._expr_2, currVal_2)) {
                this.renderer.setElementProperty(this._el_0, 'className', currVal_2);
                this._expr_2 = currVal_2;
            }
            var currVal_3 = inlineInterpolate(1, '', this.parentView.context.$implicit, '');
            if (checkBinding(throwOnChange, this._expr_3, currVal_3)) {
                this.renderer.setText(this._text_1, currVal_3);
                this._expr_3 = currVal_3;
            }
        };
        View_NgbHighlight2.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbHighlight2;
    }(AppView));
    var View_NgbHighlight3 = (function (_super) {
        __extends$87(View_NgbHighlight3, _super);
        function View_NgbHighlight3(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbHighlight3, renderType_NgbHighlight, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
            this._expr_1 = UNINITIALIZED;
        }
        View_NgbHighlight3.prototype.createInternal = function (rootSelector) {
            this._text_0 = this.renderer.createText(null, '', null);
            this.init(this._text_0, (this.renderer.directRenderer ? null : [this._text_0]), null);
            return null;
        };
        View_NgbHighlight3.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_1 = inlineInterpolate(1, '', this.parentView.context.$implicit, '');
            if (checkBinding(throwOnChange, this._expr_1, currVal_1)) {
                this.renderer.setText(this._text_0, currVal_1);
                this._expr_1 = currVal_1;
            }
        };
        View_NgbHighlight3.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._text_0, ctx);
        };
        return View_NgbHighlight3;
    }(AppView));
    var View_NgbHighlight1 = (function (_super) {
        __extends$87(View_NgbHighlight1, _super);
        function View_NgbHighlight1(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbHighlight1, renderType_NgbHighlight, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbHighlight1.prototype.createInternal = function (rootSelector) {
            this._anchor_0 = this.renderer.createTemplateAnchor(null, null);
            this._vc_0 = new ViewContainer(0, null, this, this._anchor_0);
            this._TemplateRef_0_5 = new TemplateRef_(this, 0, this._anchor_0);
            this._NgIf_0_6 = new Wrapper_NgIf(this._vc_0.vcRef, this._TemplateRef_0_5);
            this._anchor_1 = this.renderer.createTemplateAnchor(null, null);
            this._vc_1 = new ViewContainer(1, null, this, this._anchor_1);
            this._TemplateRef_1_5 = new TemplateRef_(this, 1, this._anchor_1);
            this._NgIf_1_6 = new Wrapper_NgIf(this._vc_1.vcRef, this._TemplateRef_1_5);
            this._el_2 = this.renderer.createTemplateAnchor(null, null);
            this.init(this._el_2, (this.renderer.directRenderer ? null : [
                this._anchor_0,
                this._anchor_1
            ]), null);
            return null;
        };
        View_NgbHighlight1.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (0 === requestNodeIndex))) {
                return this._TemplateRef_0_5;
            }
            if (((token === NgIf) && (0 === requestNodeIndex))) {
                return this._NgIf_0_6.context;
            }
            if (((token === TemplateRef) && (1 === requestNodeIndex))) {
                return this._TemplateRef_1_5;
            }
            if (((token === NgIf) && (1 === requestNodeIndex))) {
                return this._NgIf_1_6.context;
            }
            return notFoundResult;
        };
        View_NgbHighlight1.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_0_0_0 = this.context.odd;
            this._NgIf_0_6.check_ngIf(currVal_0_0_0, throwOnChange, false);
            this._NgIf_0_6.ngDoCheck(this, this._anchor_0, throwOnChange);
            var currVal_1_0_0 = !this.context.odd;
            this._NgIf_1_6.check_ngIf(currVal_1_0_0, throwOnChange, false);
            this._NgIf_1_6.ngDoCheck(this, this._anchor_1, throwOnChange);
            this._vc_0.detectChangesInNestedViews(throwOnChange);
            this._vc_1.detectChangesInNestedViews(throwOnChange);
        };
        View_NgbHighlight1.prototype.destroyInternal = function () {
            this._vc_0.destroyNestedViews();
            this._vc_1.destroyNestedViews();
        };
        View_NgbHighlight1.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._vc_0.nativeElement, ctx);
            this._vc_0.visitNestedViewRootNodes(cb, ctx);
            cb(this._vc_1.nativeElement, ctx);
            this._vc_1.visitNestedViewRootNodes(cb, ctx);
            cb(this._el_2, ctx);
        };
        View_NgbHighlight1.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 0)) {
                return new View_NgbHighlight2(this.viewUtils, this, 0, this._anchor_0, this._vc_0);
            }
            if ((nodeIndex == 1)) {
                return new View_NgbHighlight3(this.viewUtils, this, 1, this._anchor_1, this._vc_1);
            }
            return null;
        };
        return View_NgbHighlight1;
    }(AppView));
    var renderType_NgbHighlight = createRenderComponentType('', 0, ViewEncapsulation.Emulated, styles_NgbHighlight, {});
    var View_NgbHighlight0 = (function (_super) {
        __extends$87(View_NgbHighlight0, _super);
        function View_NgbHighlight0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbHighlight0, renderType_NgbHighlight, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckOnce);
        }
        View_NgbHighlight0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._anchor_0 = this.renderer.createTemplateAnchor(parentRenderNode, null);
            this._vc_0 = new ViewContainer(0, null, this, this._anchor_0);
            this._TemplateRef_0_5 = new TemplateRef_(this, 0, this._anchor_0);
            this._NgFor_0_6 = new Wrapper_NgFor(this._vc_0.vcRef, this._TemplateRef_0_5, this.parentView.injectorGet(IterableDiffers, this.parentIndex), this.ref);
            this.init(null, (this.renderer.directRenderer ? null : [this._anchor_0]), null);
            return null;
        };
        View_NgbHighlight0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (0 === requestNodeIndex))) {
                return this._TemplateRef_0_5;
            }
            if (((token === NgFor) && (0 === requestNodeIndex))) {
                return this._NgFor_0_6.context;
            }
            return notFoundResult;
        };
        View_NgbHighlight0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_0_0_0 = this.context.parts;
            this._NgFor_0_6.check_ngForOf(currVal_0_0_0, throwOnChange, false);
            this._NgFor_0_6.ngDoCheck(this, this._anchor_0, throwOnChange);
            this._vc_0.detectChangesInNestedViews(throwOnChange);
        };
        View_NgbHighlight0.prototype.destroyInternal = function () {
            this._vc_0.destroyNestedViews();
        };
        View_NgbHighlight0.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 0)) {
                return new View_NgbHighlight1(this.viewUtils, this, 0, this._anchor_0, this._vc_0);
            }
            return null;
        };
        return View_NgbHighlight0;
    }(AppView));
    var Wrapper_NgTemplateOutlet = (function () {
        function Wrapper_NgTemplateOutlet(p0) {
            this._changed = false;
            this._changes = {};
            this.context = new NgTemplateOutlet(p0);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
        }
        Wrapper_NgTemplateOutlet.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgTemplateOutlet.prototype.ngOnDestroy = function () {
        };
        Wrapper_NgTemplateOutlet.prototype.check_ngOutletContext = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.ngOutletContext = currValue;
                this._changes['ngOutletContext'] = new SimpleChange(this._expr_0, currValue);
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgTemplateOutlet.prototype.check_ngTemplateOutlet = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.ngTemplateOutlet = currValue;
                this._changes['ngTemplateOutlet'] = new SimpleChange(this._expr_1, currValue);
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgTemplateOutlet.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            if (!throwOnChange) {
                if (changed) {
                    this.context.ngOnChanges(this._changes);
                    this._changes = {};
                }
            }
            return changed;
        };
        Wrapper_NgTemplateOutlet.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgTemplateOutlet.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgTemplateOutlet.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgTemplateOutlet;
    }());
    var __extends$86 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbTypeaheadWindow = (function () {
        function Wrapper_NgbTypeaheadWindow() {
            this._changed = false;
            this.context = new NgbTypeaheadWindow();
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
            this._expr_3 = UNINITIALIZED;
            this._expr_4 = UNINITIALIZED;
        }
        Wrapper_NgbTypeaheadWindow.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbTypeaheadWindow.prototype.ngOnDestroy = function () {
            (this.subscription0 && this.subscription0.unsubscribe());
        };
        Wrapper_NgbTypeaheadWindow.prototype.check_focusFirst = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.focusFirst = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgbTypeaheadWindow.prototype.check_results = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.results = currValue;
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgbTypeaheadWindow.prototype.check_term = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_2, currValue))) {
                this._changed = true;
                this.context.term = currValue;
                this._expr_2 = currValue;
            }
        };
        Wrapper_NgbTypeaheadWindow.prototype.check_formatter = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_3, currValue))) {
                this._changed = true;
                this.context.formatter = currValue;
                this._expr_3 = currValue;
            }
        };
        Wrapper_NgbTypeaheadWindow.prototype.check_resultTemplate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_4, currValue))) {
                this._changed = true;
                this.context.resultTemplate = currValue;
                this._expr_4 = currValue;
            }
        };
        Wrapper_NgbTypeaheadWindow.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            if (!throwOnChange) {
                if ((view.numberOfChecks === 0)) {
                    this.context.ngOnInit();
                }
            }
            return changed;
        };
        Wrapper_NgbTypeaheadWindow.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgbTypeaheadWindow.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgbTypeaheadWindow.prototype.subscribe = function (view, _eventHandler, emit0) {
            this._eventHandler = _eventHandler;
            if (emit0) {
                (this.subscription0 = this.context.selectEvent.subscribe(_eventHandler.bind(view, 'select')));
            }
        };
        return Wrapper_NgbTypeaheadWindow;
    }());
    var renderType_NgbTypeaheadWindow_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbTypeaheadWindow_Host0 = (function (_super) {
        __extends$86(View_NgbTypeaheadWindow_Host0, _super);
        function View_NgbTypeaheadWindow_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbTypeaheadWindow_Host0, renderType_NgbTypeaheadWindow_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbTypeaheadWindow_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'ngb-typeahead-window', new InlineArray4(4, 'class', 'dropdown-menu', 'style', 'display: block'), rootSelector, null);
            this.compView_0 = new View_NgbTypeaheadWindow0(this.viewUtils, this, 0, this._el_0);
            this._NgbTypeaheadWindow_0_3 = new Wrapper_NgbTypeaheadWindow();
            this.compView_0.create(this._NgbTypeaheadWindow_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._NgbTypeaheadWindow_0_3.context);
        };
        View_NgbTypeaheadWindow_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbTypeaheadWindow) && (0 === requestNodeIndex))) {
                return this._NgbTypeaheadWindow_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbTypeaheadWindow_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._NgbTypeaheadWindow_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbTypeaheadWindow_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
            this._NgbTypeaheadWindow_0_3.ngOnDestroy();
        };
        View_NgbTypeaheadWindow_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbTypeaheadWindow_Host0;
    }(AppView));
    var NgbTypeaheadWindowNgFactory = new ComponentFactory('ngb-typeahead-window', View_NgbTypeaheadWindow_Host0, NgbTypeaheadWindow);
    var styles_NgbTypeaheadWindow = [];
    var View_NgbTypeaheadWindow1 = (function (_super) {
        __extends$86(View_NgbTypeaheadWindow1, _super);
        function View_NgbTypeaheadWindow1(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbTypeaheadWindow1, renderType_NgbTypeaheadWindow, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbTypeaheadWindow1.prototype.createInternal = function (rootSelector) {
            this._text_0 = this.renderer.createText(null, '\n      ', null);
            this._el_1 = createRenderElement(this.renderer, null, 'ngb-highlight', EMPTY_INLINE_ARRAY, null);
            this.compView_1 = new View_NgbHighlight0(this.viewUtils, this, 1, this._el_1);
            this._NgbHighlight_1_3 = new Wrapper_NgbHighlight();
            this.compView_1.create(this._NgbHighlight_1_3.context);
            this._text_2 = this.renderer.createText(null, '\n    ', null);
            this.init(this._text_2, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2
            ]), null);
            return null;
        };
        View_NgbTypeaheadWindow1.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbHighlight) && (1 === requestNodeIndex))) {
                return this._NgbHighlight_1_3.context;
            }
            return notFoundResult;
        };
        View_NgbTypeaheadWindow1.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_1_0_0 = this.context.formatter(this.context.result);
            this._NgbHighlight_1_3.check_result(currVal_1_0_0, throwOnChange, false);
            var currVal_1_0_1 = this.context.term;
            this._NgbHighlight_1_3.check_term(currVal_1_0_1, throwOnChange, false);
            if (this._NgbHighlight_1_3.ngDoCheck(this, this._el_1, throwOnChange)) {
                this.compView_1.markAsCheckOnce();
            }
            this.compView_1.internalDetectChanges(throwOnChange);
        };
        View_NgbTypeaheadWindow1.prototype.destroyInternal = function () {
            this.compView_1.destroy();
        };
        View_NgbTypeaheadWindow1.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._text_0, ctx);
            cb(this._el_1, ctx);
            cb(this._text_2, ctx);
        };
        return View_NgbTypeaheadWindow1;
    }(AppView));
    var View_NgbTypeaheadWindow3 = (function (_super) {
        __extends$86(View_NgbTypeaheadWindow3, _super);
        function View_NgbTypeaheadWindow3(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbTypeaheadWindow3, renderType_NgbTypeaheadWindow, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbTypeaheadWindow3.prototype.createInternal = function (rootSelector) {
            this._el_0 = this.renderer.createTemplateAnchor(null, null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : []), null);
            return null;
        };
        View_NgbTypeaheadWindow3.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbTypeaheadWindow3;
    }(AppView));
    var View_NgbTypeaheadWindow2 = (function (_super) {
        __extends$86(View_NgbTypeaheadWindow2, _super);
        function View_NgbTypeaheadWindow2(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbTypeaheadWindow2, renderType_NgbTypeaheadWindow, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
            this._expr_9 = UNINITIALIZED;
            this._map_10 = pureProxy3(function (p0, p1, p2) {
                return {
                    result: p0,
                    term: p1,
                    formatter: p2
                };
            });
        }
        View_NgbTypeaheadWindow2.prototype.createInternal = function (rootSelector) {
            this._text_0 = this.renderer.createText(null, '\n      ', null);
            this._el_1 = createRenderElement(this.renderer, null, 'button', new InlineArray4(4, 'class', 'dropdown-item', 'type', 'button'), null);
            this._text_2 = this.renderer.createText(this._el_1, '\n          ', null);
            this._anchor_3 = this.renderer.createTemplateAnchor(this._el_1, null);
            this._vc_3 = new ViewContainer(3, 1, this, this._anchor_3);
            this._TemplateRef_3_5 = new TemplateRef_(this, 3, this._anchor_3);
            this._NgTemplateOutlet_3_6 = new Wrapper_NgTemplateOutlet(this._vc_3.vcRef);
            this._text_4 = this.renderer.createText(this._el_1, '\n      ', null);
            this._text_5 = this.renderer.createText(null, '\n    ', null);
            var disposable_0 = subscribeToRenderElement(this, this._el_1, new InlineArray4(4, 'mouseenter', null, 'click', null), this.eventHandler(this.handleEvent_1));
            this.init(this._text_5, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._anchor_3,
                this._text_4,
                this._text_5
            ]), [disposable_0]);
            return null;
        };
        View_NgbTypeaheadWindow2.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (3 === requestNodeIndex))) {
                return this._TemplateRef_3_5;
            }
            if (((token === NgTemplateOutlet) && (3 === requestNodeIndex))) {
                return this._NgTemplateOutlet_3_6.context;
            }
            return notFoundResult;
        };
        View_NgbTypeaheadWindow2.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_3_0_0 = this._map_10(this.context.$implicit, this.parentView.context.term, this.parentView.context.formatter);
            this._NgTemplateOutlet_3_6.check_ngOutletContext(currVal_3_0_0, throwOnChange, false);
            var currVal_3_0_1 = (this.parentView.context.resultTemplate || this.parentView._TemplateRef_1_4);
            this._NgTemplateOutlet_3_6.check_ngTemplateOutlet(currVal_3_0_1, throwOnChange, false);
            this._NgTemplateOutlet_3_6.ngDoCheck(this, this._anchor_3, throwOnChange);
            this._vc_3.detectChangesInNestedViews(throwOnChange);
            var currVal_9 = (this.context.index === this.parentView.context.activeIdx);
            if (checkBinding(throwOnChange, this._expr_9, currVal_9)) {
                this.renderer.setElementClass(this._el_1, 'active', currVal_9);
                this._expr_9 = currVal_9;
            }
        };
        View_NgbTypeaheadWindow2.prototype.destroyInternal = function () {
            this._vc_3.destroyNestedViews();
        };
        View_NgbTypeaheadWindow2.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._text_0, ctx);
            cb(this._el_1, ctx);
            cb(this._text_5, ctx);
        };
        View_NgbTypeaheadWindow2.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 3)) {
                return new View_NgbTypeaheadWindow3(this.viewUtils, this, 3, this._anchor_3, this._vc_3);
            }
            return null;
        };
        View_NgbTypeaheadWindow2.prototype.handleEvent_1 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'mouseenter')) {
                var pd_sub_0 = (this.parentView.context.markActive(this.context.index) !== false);
                result = (pd_sub_0 && result);
            }
            if ((eventName == 'click')) {
                var pd_sub_1 = (this.parentView.context.select(this.context.$implicit) !== false);
                result = (pd_sub_1 && result);
            }
            return result;
        };
        return View_NgbTypeaheadWindow2;
    }(AppView));
    var renderType_NgbTypeaheadWindow = createRenderComponentType('', 0, ViewEncapsulation.None, styles_NgbTypeaheadWindow, {});
    var View_NgbTypeaheadWindow0 = (function (_super) {
        __extends$86(View_NgbTypeaheadWindow0, _super);
        function View_NgbTypeaheadWindow0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbTypeaheadWindow0, renderType_NgbTypeaheadWindow, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbTypeaheadWindow0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._anchor_1 = this.renderer.createTemplateAnchor(parentRenderNode, null);
            this._vc_1 = new ViewContainer(1, null, this, this._anchor_1);
            this._TemplateRef_1_4 = new TemplateRef_(this, 1, this._anchor_1);
            this._text_2 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._anchor_3 = this.renderer.createTemplateAnchor(parentRenderNode, null);
            this._vc_3 = new ViewContainer(3, null, this, this._anchor_3);
            this._TemplateRef_3_5 = new TemplateRef_(this, 3, this._anchor_3);
            this._NgFor_3_6 = new Wrapper_NgFor(this._vc_3.vcRef, this._TemplateRef_3_5, this.parentView.injectorGet(IterableDiffers, this.parentIndex), this.ref);
            this._text_4 = this.renderer.createText(parentRenderNode, '\n  ', null);
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._anchor_1,
                this._text_2,
                this._anchor_3,
                this._text_4
            ]), null);
            return null;
        };
        View_NgbTypeaheadWindow0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (1 === requestNodeIndex))) {
                return this._TemplateRef_1_4;
            }
            if (((token === TemplateRef) && (3 === requestNodeIndex))) {
                return this._TemplateRef_3_5;
            }
            if (((token === NgFor) && (3 === requestNodeIndex))) {
                return this._NgFor_3_6.context;
            }
            return notFoundResult;
        };
        View_NgbTypeaheadWindow0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_3_0_0 = this.context.results;
            this._NgFor_3_6.check_ngForOf(currVal_3_0_0, throwOnChange, false);
            this._NgFor_3_6.ngDoCheck(this, this._anchor_3, throwOnChange);
            this._vc_1.detectChangesInNestedViews(throwOnChange);
            this._vc_3.detectChangesInNestedViews(throwOnChange);
        };
        View_NgbTypeaheadWindow0.prototype.destroyInternal = function () {
            this._vc_1.destroyNestedViews();
            this._vc_3.destroyNestedViews();
        };
        View_NgbTypeaheadWindow0.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 1)) {
                return new View_NgbTypeaheadWindow1(this.viewUtils, this, 1, this._anchor_1, this._vc_1);
            }
            if ((nodeIndex == 3)) {
                return new View_NgbTypeaheadWindow2(this.viewUtils, this, 3, this._anchor_3, this._vc_3);
            }
            return null;
        };
        return View_NgbTypeaheadWindow0;
    }(AppView));
    var __extends$89 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbDatepickerDayView = (function () {
        function Wrapper_NgbDatepickerDayView() {
            this._changed = false;
            this.context = new NgbDatepickerDayView();
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
            this._expr_3 = UNINITIALIZED;
            this._expr_4 = UNINITIALIZED;
            this._expr_5 = UNINITIALIZED;
            this._expr_6 = UNINITIALIZED;
            this._expr_7 = UNINITIALIZED;
        }
        Wrapper_NgbDatepickerDayView.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbDatepickerDayView.prototype.ngOnDestroy = function () {
        };
        Wrapper_NgbDatepickerDayView.prototype.check_currentMonth = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.currentMonth = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgbDatepickerDayView.prototype.check_date = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.date = currValue;
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgbDatepickerDayView.prototype.check_disabled = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_2, currValue))) {
                this._changed = true;
                this.context.disabled = currValue;
                this._expr_2 = currValue;
            }
        };
        Wrapper_NgbDatepickerDayView.prototype.check_selected = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_3, currValue))) {
                this._changed = true;
                this.context.selected = currValue;
                this._expr_3 = currValue;
            }
        };
        Wrapper_NgbDatepickerDayView.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgbDatepickerDayView.prototype.checkHost = function (view, componentView, el, throwOnChange) {
            var currVal_4 = this.context.selected;
            if (checkBinding(throwOnChange, this._expr_4, currVal_4)) {
                view.renderer.setElementClass(el, 'bg-primary', currVal_4);
                this._expr_4 = currVal_4;
            }
            var currVal_5 = this.context.selected;
            if (checkBinding(throwOnChange, this._expr_5, currVal_5)) {
                view.renderer.setElementClass(el, 'text-white', currVal_5);
                this._expr_5 = currVal_5;
            }
            var currVal_6 = this.context.isMuted();
            if (checkBinding(throwOnChange, this._expr_6, currVal_6)) {
                view.renderer.setElementClass(el, 'text-muted', currVal_6);
                this._expr_6 = currVal_6;
            }
            var currVal_7 = !this.context.disabled;
            if (checkBinding(throwOnChange, this._expr_7, currVal_7)) {
                view.renderer.setElementClass(el, 'btn-secondary', currVal_7);
                this._expr_7 = currVal_7;
            }
        };
        Wrapper_NgbDatepickerDayView.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgbDatepickerDayView.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgbDatepickerDayView;
    }());
    var renderType_NgbDatepickerDayView_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbDatepickerDayView_Host0 = (function (_super) {
        __extends$89(View_NgbDatepickerDayView_Host0, _super);
        function View_NgbDatepickerDayView_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbDatepickerDayView_Host0, renderType_NgbDatepickerDayView_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbDatepickerDayView_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'div', new InlineArray2(2, 'ngbDatepickerDayView', ''), rootSelector, null);
            this.compView_0 = new View_NgbDatepickerDayView0(this.viewUtils, this, 0, this._el_0);
            this._NgbDatepickerDayView_0_3 = new Wrapper_NgbDatepickerDayView();
            this.compView_0.create(this._NgbDatepickerDayView_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._NgbDatepickerDayView_0_3.context);
        };
        View_NgbDatepickerDayView_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbDatepickerDayView) && (0 === requestNodeIndex))) {
                return this._NgbDatepickerDayView_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerDayView_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._NgbDatepickerDayView_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this._NgbDatepickerDayView_0_3.checkHost(this, this.compView_0, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbDatepickerDayView_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
        };
        View_NgbDatepickerDayView_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbDatepickerDayView_Host0;
    }(AppView));
    var NgbDatepickerDayViewNgFactory = new ComponentFactory('[ngbDatepickerDayView]', View_NgbDatepickerDayView_Host0, NgbDatepickerDayView);
    var styles_NgbDatepickerDayView = ['[_nghost-%COMP%] {      \n      text-align: center;\n      padding: 0.185rem 0.25rem;      \n      border-radius: 0.25rem;\n    }'];
    var renderType_NgbDatepickerDayView = createRenderComponentType('', 0, ViewEncapsulation.Emulated, styles_NgbDatepickerDayView, {});
    var View_NgbDatepickerDayView0 = (function (_super) {
        __extends$89(View_NgbDatepickerDayView0, _super);
        function View_NgbDatepickerDayView0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbDatepickerDayView0, renderType_NgbDatepickerDayView, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
            this._expr_1 = UNINITIALIZED;
        }
        View_NgbDatepickerDayView0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '', null);
            this.init(null, (this.renderer.directRenderer ? null : [this._text_0]), null);
            return null;
        };
        View_NgbDatepickerDayView0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_1 = inlineInterpolate(1, '', this.context.date.day, '');
            if (checkBinding(throwOnChange, this._expr_1, currVal_1)) {
                this.renderer.setText(this._text_0, currVal_1);
                this._expr_1 = currVal_1;
            }
        };
        return View_NgbDatepickerDayView0;
    }(AppView));
    var Wrapper_NgSelectOption = (function () {
        function Wrapper_NgSelectOption(p0, p1, p2) {
            this._changed = false;
            this.context = new NgSelectOption(p0, p1, p2);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
        }
        Wrapper_NgSelectOption.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgSelectOption.prototype.ngOnDestroy = function () {
            this.context.ngOnDestroy();
        };
        Wrapper_NgSelectOption.prototype.check_ngValue = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.ngValue = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgSelectOption.prototype.check_value = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.value = currValue;
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgSelectOption.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgSelectOption.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgSelectOption.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgSelectOption.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgSelectOption;
    }());
    var Wrapper_NgSelectMultipleOption = (function () {
        function Wrapper_NgSelectMultipleOption(p0, p1, p2) {
            this._changed = false;
            this.context = new NgSelectMultipleOption(p0, p1, p2);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
        }
        Wrapper_NgSelectMultipleOption.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgSelectMultipleOption.prototype.ngOnDestroy = function () {
            this.context.ngOnDestroy();
        };
        Wrapper_NgSelectMultipleOption.prototype.check_ngValue = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.ngValue = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgSelectMultipleOption.prototype.check_value = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.value = currValue;
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgSelectMultipleOption.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgSelectMultipleOption.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgSelectMultipleOption.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgSelectMultipleOption.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgSelectMultipleOption;
    }());
    var __extends$91 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbDatepickerNavigationSelect = (function () {
        function Wrapper_NgbDatepickerNavigationSelect(p0, p1) {
            this._changed = false;
            this._changes = {};
            this.context = new NgbDatepickerNavigationSelect(p0, p1);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
            this._expr_3 = UNINITIALIZED;
        }
        Wrapper_NgbDatepickerNavigationSelect.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbDatepickerNavigationSelect.prototype.ngOnDestroy = function () {
            (this.subscription0 && this.subscription0.unsubscribe());
        };
        Wrapper_NgbDatepickerNavigationSelect.prototype.check_date = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.date = currValue;
                this._changes['date'] = new SimpleChange(this._expr_0, currValue);
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgbDatepickerNavigationSelect.prototype.check_disabled = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.disabled = currValue;
                this._changes['disabled'] = new SimpleChange(this._expr_1, currValue);
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgbDatepickerNavigationSelect.prototype.check_maxDate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_2, currValue))) {
                this._changed = true;
                this.context.maxDate = currValue;
                this._changes['maxDate'] = new SimpleChange(this._expr_2, currValue);
                this._expr_2 = currValue;
            }
        };
        Wrapper_NgbDatepickerNavigationSelect.prototype.check_minDate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_3, currValue))) {
                this._changed = true;
                this.context.minDate = currValue;
                this._changes['minDate'] = new SimpleChange(this._expr_3, currValue);
                this._expr_3 = currValue;
            }
        };
        Wrapper_NgbDatepickerNavigationSelect.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            if (!throwOnChange) {
                if (changed) {
                    this.context.ngOnChanges(this._changes);
                    this._changes = {};
                }
            }
            return changed;
        };
        Wrapper_NgbDatepickerNavigationSelect.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgbDatepickerNavigationSelect.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgbDatepickerNavigationSelect.prototype.subscribe = function (view, _eventHandler, emit0) {
            this._eventHandler = _eventHandler;
            if (emit0) {
                (this.subscription0 = this.context.select.subscribe(_eventHandler.bind(view, 'select')));
            }
        };
        return Wrapper_NgbDatepickerNavigationSelect;
    }());
    var renderType_NgbDatepickerNavigationSelect_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbDatepickerNavigationSelect_Host0 = (function (_super) {
        __extends$91(View_NgbDatepickerNavigationSelect_Host0, _super);
        function View_NgbDatepickerNavigationSelect_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbDatepickerNavigationSelect_Host0, renderType_NgbDatepickerNavigationSelect_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbDatepickerNavigationSelect_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'ngb-datepicker-navigation-select', EMPTY_INLINE_ARRAY, rootSelector, null);
            this.compView_0 = new View_NgbDatepickerNavigationSelect0(this.viewUtils, this, 0, this._el_0);
            this._NgbDatepickerNavigationSelect_0_3 = new Wrapper_NgbDatepickerNavigationSelect(this.injectorGet(NgbDatepickerI18n, this.parentIndex), this.injectorGet(NgbCalendar, this.parentIndex));
            this.compView_0.create(this._NgbDatepickerNavigationSelect_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._NgbDatepickerNavigationSelect_0_3.context);
        };
        View_NgbDatepickerNavigationSelect_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbDatepickerNavigationSelect) && (0 === requestNodeIndex))) {
                return this._NgbDatepickerNavigationSelect_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerNavigationSelect_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._NgbDatepickerNavigationSelect_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbDatepickerNavigationSelect_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
            this._NgbDatepickerNavigationSelect_0_3.ngOnDestroy();
        };
        View_NgbDatepickerNavigationSelect_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbDatepickerNavigationSelect_Host0;
    }(AppView));
    var NgbDatepickerNavigationSelectNgFactory = new ComponentFactory('ngb-datepicker-navigation-select', View_NgbDatepickerNavigationSelect_Host0, NgbDatepickerNavigationSelect);
    var styles_NgbDatepickerNavigationSelect = ['select[_ngcontent-%COMP%] {\n      \n      padding: 0.25rem 0.5rem;\n      font-size: 0.875rem;      \n      line-height: 1.25;\n      \n      height: inherit;\n      width: 50%;\n    }'];
    var View_NgbDatepickerNavigationSelect1 = (function (_super) {
        __extends$91(View_NgbDatepickerNavigationSelect1, _super);
        function View_NgbDatepickerNavigationSelect1(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepickerNavigationSelect1, renderType_NgbDatepickerNavigationSelect, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
            this._expr_4 = UNINITIALIZED;
        }
        View_NgbDatepickerNavigationSelect1.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'option', EMPTY_INLINE_ARRAY, null);
            this._NgSelectOption_0_3 = new Wrapper_NgSelectOption(new ElementRef(this._el_0), this.renderer, null);
            this._NgSelectMultipleOption_0_4 = new Wrapper_NgSelectMultipleOption(new ElementRef(this._el_0), this.renderer, null);
            this._text_1 = this.renderer.createText(this._el_0, '', null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1
            ]), null);
            return null;
        };
        View_NgbDatepickerNavigationSelect1.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgSelectOption) && ((0 <= requestNodeIndex) && (requestNodeIndex <= 1)))) {
                return this._NgSelectOption_0_3.context;
            }
            if (((token === NgSelectMultipleOption) && ((0 <= requestNodeIndex) && (requestNodeIndex <= 1)))) {
                return this._NgSelectMultipleOption_0_4.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerNavigationSelect1.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_0_0_0 = this.context.$implicit;
            this._NgSelectOption_0_3.check_value(currVal_0_0_0, throwOnChange, false);
            this._NgSelectOption_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            var currVal_0_1_0 = this.context.$implicit;
            this._NgSelectMultipleOption_0_4.check_value(currVal_0_1_0, throwOnChange, false);
            this._NgSelectMultipleOption_0_4.ngDoCheck(this, this._el_0, throwOnChange);
            var currVal_4 = inlineInterpolate(1, '', this.parentView.context.i18n.getMonthName(this.context.$implicit), '');
            if (checkBinding(throwOnChange, this._expr_4, currVal_4)) {
                this.renderer.setText(this._text_1, currVal_4);
                this._expr_4 = currVal_4;
            }
        };
        View_NgbDatepickerNavigationSelect1.prototype.destroyInternal = function () {
            this._NgSelectOption_0_3.ngOnDestroy();
            this._NgSelectMultipleOption_0_4.ngOnDestroy();
        };
        View_NgbDatepickerNavigationSelect1.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbDatepickerNavigationSelect1;
    }(AppView));
    var View_NgbDatepickerNavigationSelect2 = (function (_super) {
        __extends$91(View_NgbDatepickerNavigationSelect2, _super);
        function View_NgbDatepickerNavigationSelect2(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepickerNavigationSelect2, renderType_NgbDatepickerNavigationSelect, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
            this._expr_4 = UNINITIALIZED;
        }
        View_NgbDatepickerNavigationSelect2.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'option', EMPTY_INLINE_ARRAY, null);
            this._NgSelectOption_0_3 = new Wrapper_NgSelectOption(new ElementRef(this._el_0), this.renderer, null);
            this._NgSelectMultipleOption_0_4 = new Wrapper_NgSelectMultipleOption(new ElementRef(this._el_0), this.renderer, null);
            this._text_1 = this.renderer.createText(this._el_0, '', null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1
            ]), null);
            return null;
        };
        View_NgbDatepickerNavigationSelect2.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgSelectOption) && ((0 <= requestNodeIndex) && (requestNodeIndex <= 1)))) {
                return this._NgSelectOption_0_3.context;
            }
            if (((token === NgSelectMultipleOption) && ((0 <= requestNodeIndex) && (requestNodeIndex <= 1)))) {
                return this._NgSelectMultipleOption_0_4.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerNavigationSelect2.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_0_0_0 = this.context.$implicit;
            this._NgSelectOption_0_3.check_value(currVal_0_0_0, throwOnChange, false);
            this._NgSelectOption_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            var currVal_0_1_0 = this.context.$implicit;
            this._NgSelectMultipleOption_0_4.check_value(currVal_0_1_0, throwOnChange, false);
            this._NgSelectMultipleOption_0_4.ngDoCheck(this, this._el_0, throwOnChange);
            var currVal_4 = inlineInterpolate(1, '', this.context.$implicit, '');
            if (checkBinding(throwOnChange, this._expr_4, currVal_4)) {
                this.renderer.setText(this._text_1, currVal_4);
                this._expr_4 = currVal_4;
            }
        };
        View_NgbDatepickerNavigationSelect2.prototype.destroyInternal = function () {
            this._NgSelectOption_0_3.ngOnDestroy();
            this._NgSelectMultipleOption_0_4.ngOnDestroy();
        };
        View_NgbDatepickerNavigationSelect2.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbDatepickerNavigationSelect2;
    }(AppView));
    var renderType_NgbDatepickerNavigationSelect = createRenderComponentType('', 0, ViewEncapsulation.Emulated, styles_NgbDatepickerNavigationSelect, {});
    var View_NgbDatepickerNavigationSelect0 = (function (_super) {
        __extends$91(View_NgbDatepickerNavigationSelect0, _super);
        function View_NgbDatepickerNavigationSelect0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbDatepickerNavigationSelect0, renderType_NgbDatepickerNavigationSelect, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
            this._expr_16 = UNINITIALIZED;
            this._expr_17 = UNINITIALIZED;
            this._expr_18 = UNINITIALIZED;
            this._expr_19 = UNINITIALIZED;
        }
        View_NgbDatepickerNavigationSelect0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._el_1 = createRenderElement(this.renderer, parentRenderNode, 'select', new InlineArray2(2, 'class', 'custom-select d-inline-block'), null);
            this._text_2 = this.renderer.createText(this._el_1, '\n      ', null);
            this._anchor_3 = this.renderer.createTemplateAnchor(this._el_1, null);
            this._vc_3 = new ViewContainer(3, 1, this, this._anchor_3);
            this._TemplateRef_3_5 = new TemplateRef_(this, 3, this._anchor_3);
            this._NgFor_3_6 = new Wrapper_NgFor(this._vc_3.vcRef, this._TemplateRef_3_5, this.parentView.injectorGet(IterableDiffers, this.parentIndex), this.ref);
            this._text_4 = this.renderer.createText(this._el_1, '\n    ', null);
            this._el_5 = createRenderElement(this.renderer, parentRenderNode, 'select', new InlineArray2(2, 'class', 'custom-select d-inline-block'), null);
            this._text_6 = this.renderer.createText(this._el_5, '\n      ', null);
            this._anchor_7 = this.renderer.createTemplateAnchor(this._el_5, null);
            this._vc_7 = new ViewContainer(7, 5, this, this._anchor_7);
            this._TemplateRef_7_5 = new TemplateRef_(this, 7, this._anchor_7);
            this._NgFor_7_6 = new Wrapper_NgFor(this._vc_7.vcRef, this._TemplateRef_7_5, this.parentView.injectorGet(IterableDiffers, this.parentIndex), this.ref);
            this._text_8 = this.renderer.createText(this._el_5, '\n    ', null);
            this._text_9 = this.renderer.createText(parentRenderNode, ' \n  ', null);
            var disposable_0 = subscribeToRenderElement(this, this._el_1, new InlineArray2(2, 'change', null), this.eventHandler(this.handleEvent_1));
            var disposable_1 = subscribeToRenderElement(this, this._el_5, new InlineArray2(2, 'change', null), this.eventHandler(this.handleEvent_5));
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._anchor_3,
                this._text_4,
                this._el_5,
                this._text_6,
                this._anchor_7,
                this._text_8,
                this._text_9
            ]), [
                disposable_0,
                disposable_1
            ]);
            return null;
        };
        View_NgbDatepickerNavigationSelect0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (3 === requestNodeIndex))) {
                return this._TemplateRef_3_5;
            }
            if (((token === NgFor) && (3 === requestNodeIndex))) {
                return this._NgFor_3_6.context;
            }
            if (((token === TemplateRef) && (7 === requestNodeIndex))) {
                return this._TemplateRef_7_5;
            }
            if (((token === NgFor) && (7 === requestNodeIndex))) {
                return this._NgFor_7_6.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerNavigationSelect0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_3_0_0 = this.context.months;
            this._NgFor_3_6.check_ngForOf(currVal_3_0_0, throwOnChange, false);
            this._NgFor_3_6.ngDoCheck(this, this._anchor_3, throwOnChange);
            var currVal_7_0_0 = this.context.years;
            this._NgFor_7_6.check_ngForOf(currVal_7_0_0, throwOnChange, false);
            this._NgFor_7_6.ngDoCheck(this, this._anchor_7, throwOnChange);
            this._vc_3.detectChangesInNestedViews(throwOnChange);
            this._vc_7.detectChangesInNestedViews(throwOnChange);
            var currVal_16 = this.context.disabled;
            if (checkBinding(throwOnChange, this._expr_16, currVal_16)) {
                this.renderer.setElementProperty(this._el_1, 'disabled', currVal_16);
                this._expr_16 = currVal_16;
            }
            var currVal_17 = this.context.date.month;
            if (checkBinding(throwOnChange, this._expr_17, currVal_17)) {
                this.renderer.setElementProperty(this._el_1, 'value', currVal_17);
                this._expr_17 = currVal_17;
            }
            var currVal_18 = this.context.disabled;
            if (checkBinding(throwOnChange, this._expr_18, currVal_18)) {
                this.renderer.setElementProperty(this._el_5, 'disabled', currVal_18);
                this._expr_18 = currVal_18;
            }
            var currVal_19 = this.context.date.year;
            if (checkBinding(throwOnChange, this._expr_19, currVal_19)) {
                this.renderer.setElementProperty(this._el_5, 'value', currVal_19);
                this._expr_19 = currVal_19;
            }
        };
        View_NgbDatepickerNavigationSelect0.prototype.destroyInternal = function () {
            this._vc_3.destroyNestedViews();
            this._vc_7.destroyNestedViews();
        };
        View_NgbDatepickerNavigationSelect0.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 3)) {
                return new View_NgbDatepickerNavigationSelect1(this.viewUtils, this, 3, this._anchor_3, this._vc_3);
            }
            if ((nodeIndex == 7)) {
                return new View_NgbDatepickerNavigationSelect2(this.viewUtils, this, 7, this._anchor_7, this._vc_7);
            }
            return null;
        };
        View_NgbDatepickerNavigationSelect0.prototype.handleEvent_1 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'change')) {
                var pd_sub_0 = (this.context.changeMonth($event.target.value) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        View_NgbDatepickerNavigationSelect0.prototype.handleEvent_5 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'change')) {
                var pd_sub_0 = (this.context.changeYear($event.target.value) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        return View_NgbDatepickerNavigationSelect0;
    }(AppView));
    var __extends$90 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbDatepickerNavigation = (function () {
        function Wrapper_NgbDatepickerNavigation(p0, p1) {
            this._changed = false;
            this.context = new NgbDatepickerNavigation(p0, p1);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
            this._expr_3 = UNINITIALIZED;
            this._expr_4 = UNINITIALIZED;
            this._expr_5 = UNINITIALIZED;
        }
        Wrapper_NgbDatepickerNavigation.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbDatepickerNavigation.prototype.ngOnDestroy = function () {
            (this.subscription0 && this.subscription0.unsubscribe());
            (this.subscription1 && this.subscription1.unsubscribe());
        };
        Wrapper_NgbDatepickerNavigation.prototype.check_date = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.date = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgbDatepickerNavigation.prototype.check_disabled = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.disabled = currValue;
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgbDatepickerNavigation.prototype.check_maxDate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_2, currValue))) {
                this._changed = true;
                this.context.maxDate = currValue;
                this._expr_2 = currValue;
            }
        };
        Wrapper_NgbDatepickerNavigation.prototype.check_minDate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_3, currValue))) {
                this._changed = true;
                this.context.minDate = currValue;
                this._expr_3 = currValue;
            }
        };
        Wrapper_NgbDatepickerNavigation.prototype.check_showSelect = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_4, currValue))) {
                this._changed = true;
                this.context.showSelect = currValue;
                this._expr_4 = currValue;
            }
        };
        Wrapper_NgbDatepickerNavigation.prototype.check_showWeekNumbers = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_5, currValue))) {
                this._changed = true;
                this.context.showWeekNumbers = currValue;
                this._expr_5 = currValue;
            }
        };
        Wrapper_NgbDatepickerNavigation.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgbDatepickerNavigation.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgbDatepickerNavigation.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgbDatepickerNavigation.prototype.subscribe = function (view, _eventHandler, emit0, emit1) {
            this._eventHandler = _eventHandler;
            if (emit0) {
                (this.subscription0 = this.context.navigate.subscribe(_eventHandler.bind(view, 'navigate')));
            }
            if (emit1) {
                (this.subscription1 = this.context.select.subscribe(_eventHandler.bind(view, 'select')));
            }
        };
        return Wrapper_NgbDatepickerNavigation;
    }());
    var renderType_NgbDatepickerNavigation_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbDatepickerNavigation_Host0 = (function (_super) {
        __extends$90(View_NgbDatepickerNavigation_Host0, _super);
        function View_NgbDatepickerNavigation_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbDatepickerNavigation_Host0, renderType_NgbDatepickerNavigation_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbDatepickerNavigation_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'ngb-datepicker-navigation', EMPTY_INLINE_ARRAY, rootSelector, null);
            this.compView_0 = new View_NgbDatepickerNavigation0(this.viewUtils, this, 0, this._el_0);
            this._NgbDatepickerNavigation_0_3 = new Wrapper_NgbDatepickerNavigation(this.injectorGet(NgbDatepickerI18n, this.parentIndex), this.injectorGet(NgbCalendar, this.parentIndex));
            this.compView_0.create(this._NgbDatepickerNavigation_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._NgbDatepickerNavigation_0_3.context);
        };
        View_NgbDatepickerNavigation_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbDatepickerNavigation) && (0 === requestNodeIndex))) {
                return this._NgbDatepickerNavigation_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerNavigation_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._NgbDatepickerNavigation_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbDatepickerNavigation_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
            this._NgbDatepickerNavigation_0_3.ngOnDestroy();
        };
        View_NgbDatepickerNavigation_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbDatepickerNavigation_Host0;
    }(AppView));
    var NgbDatepickerNavigationNgFactory = new ComponentFactory('ngb-datepicker-navigation', View_NgbDatepickerNavigation_Host0, NgbDatepickerNavigation);
    var styles_NgbDatepickerNavigation = ['.collapsed[_ngcontent-%COMP%] {\n        margin-bottom: -1.7rem;\n    }'];
    var View_NgbDatepickerNavigation1 = (function (_super) {
        __extends$90(View_NgbDatepickerNavigation1, _super);
        function View_NgbDatepickerNavigation1(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepickerNavigation1, renderType_NgbDatepickerNavigation, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbDatepickerNavigation1.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'td', EMPTY_INLINE_ARRAY, null);
            this._text_1 = this.renderer.createText(this._el_0, '\n          ', null);
            this._el_2 = createRenderElement(this.renderer, this._el_0, 'ngb-datepicker-navigation-select', EMPTY_INLINE_ARRAY, null);
            this.compView_2 = new View_NgbDatepickerNavigationSelect0(this.viewUtils, this, 2, this._el_2);
            this._NgbDatepickerNavigationSelect_2_3 = new Wrapper_NgbDatepickerNavigationSelect(this.parentView.parentView.injectorGet(NgbDatepickerI18n, this.parentView.parentIndex), this.parentView.parentView.injectorGet(NgbCalendar, this.parentView.parentIndex));
            this._text_3 = this.renderer.createText(null, '\n          ', null);
            this.compView_2.create(this._NgbDatepickerNavigationSelect_2_3.context);
            this._text_4 = this.renderer.createText(this._el_0, '\n        ', null);
            var disposable_0 = subscribeToRenderElement(this, this._el_2, new InlineArray2(2, 'select', null), this.eventHandler(this.handleEvent_2));
            this._NgbDatepickerNavigationSelect_2_3.subscribe(this, this.eventHandler(this.handleEvent_2), true);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1,
                this._el_2,
                this._text_3,
                this._text_4
            ]), [disposable_0]);
            return null;
        };
        View_NgbDatepickerNavigation1.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbDatepickerNavigationSelect) && ((2 <= requestNodeIndex) && (requestNodeIndex <= 3)))) {
                return this._NgbDatepickerNavigationSelect_2_3.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerNavigation1.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_2_0_0 = this.parentView.context.date;
            this._NgbDatepickerNavigationSelect_2_3.check_date(currVal_2_0_0, throwOnChange, false);
            var currVal_2_0_1 = this.parentView.context.disabled;
            this._NgbDatepickerNavigationSelect_2_3.check_disabled(currVal_2_0_1, throwOnChange, false);
            var currVal_2_0_2 = this.parentView.context.maxDate;
            this._NgbDatepickerNavigationSelect_2_3.check_maxDate(currVal_2_0_2, throwOnChange, false);
            var currVal_2_0_3 = this.parentView.context.minDate;
            this._NgbDatepickerNavigationSelect_2_3.check_minDate(currVal_2_0_3, throwOnChange, false);
            this._NgbDatepickerNavigationSelect_2_3.ngDoCheck(this, this._el_2, throwOnChange);
            this.compView_2.internalDetectChanges(throwOnChange);
        };
        View_NgbDatepickerNavigation1.prototype.destroyInternal = function () {
            this.compView_2.destroy();
            this._NgbDatepickerNavigationSelect_2_3.ngOnDestroy();
        };
        View_NgbDatepickerNavigation1.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbDatepickerNavigation1.prototype.handleEvent_2 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'select')) {
                var pd_sub_0 = (this.parentView.context.selectDate($event) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        return View_NgbDatepickerNavigation1;
    }(AppView));
    var renderType_NgbDatepickerNavigation = createRenderComponentType('', 0, ViewEncapsulation.Emulated, styles_NgbDatepickerNavigation, {});
    var View_NgbDatepickerNavigation0 = (function (_super) {
        __extends$90(View_NgbDatepickerNavigation0, _super);
        function View_NgbDatepickerNavigation0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbDatepickerNavigation0, renderType_NgbDatepickerNavigation, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
            this._expr_25 = UNINITIALIZED;
            this._expr_26 = UNINITIALIZED;
            this._expr_27 = UNINITIALIZED;
        }
        View_NgbDatepickerNavigation0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._el_1 = createRenderElement(this.renderer, parentRenderNode, 'table', new InlineArray2(2, 'class', 'w-100'), null);
            this._text_2 = this.renderer.createText(this._el_1, '\n      ', null);
            this._el_3 = createRenderElement(this.renderer, this._el_1, 'tbody', EMPTY_INLINE_ARRAY, null);
            this._el_4 = createRenderElement(this.renderer, this._el_3, 'tr', EMPTY_INLINE_ARRAY, null);
            this._text_5 = this.renderer.createText(this._el_4, '\n        ', null);
            this._el_6 = createRenderElement(this.renderer, this._el_4, 'td', new InlineArray2(2, 'class', 'text-sm-left'), null);
            this._text_7 = this.renderer.createText(this._el_6, '\n          ', null);
            this._el_8 = createRenderElement(this.renderer, this._el_6, 'button', new InlineArray4(4, 'class', 'btn btn-sm btn-secondary btn-inline', 'type', 'button'), null);
            this._text_9 = this.renderer.createText(this._el_8, '<', null);
            this._text_10 = this.renderer.createText(this._el_6, '\n        ', null);
            this._text_11 = this.renderer.createText(this._el_4, '\n        \n        ', null);
            this._anchor_12 = this.renderer.createTemplateAnchor(this._el_4, null);
            this._vc_12 = new ViewContainer(12, 4, this, this._anchor_12);
            this._TemplateRef_12_5 = new TemplateRef_(this, 12, this._anchor_12);
            this._NgIf_12_6 = new Wrapper_NgIf(this._vc_12.vcRef, this._TemplateRef_12_5);
            this._text_13 = this.renderer.createText(this._el_4, '        \n        \n        ', null);
            this._el_14 = createRenderElement(this.renderer, this._el_4, 'td', new InlineArray2(2, 'class', 'text-sm-right'), null);
            this._text_15 = this.renderer.createText(this._el_14, '\n          ', null);
            this._el_16 = createRenderElement(this.renderer, this._el_14, 'button', new InlineArray4(4, 'class', 'next btn btn-sm btn-secondary btn-inline', 'type', 'button'), null);
            this._text_17 = this.renderer.createText(this._el_16, '>', null);
            this._text_18 = this.renderer.createText(this._el_14, '\n        ', null);
            this._text_19 = this.renderer.createText(this._el_4, '\n      ', null);
            this._text_20 = this.renderer.createText(this._el_3, '\n    ', null);
            this._text_21 = this.renderer.createText(parentRenderNode, '\n  ', null);
            var disposable_0 = subscribeToRenderElement(this, this._el_8, new InlineArray2(2, 'click', null), this.eventHandler(this.handleEvent_8));
            var disposable_1 = subscribeToRenderElement(this, this._el_16, new InlineArray2(2, 'click', null), this.eventHandler(this.handleEvent_16));
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._el_3,
                this._el_4,
                this._text_5,
                this._el_6,
                this._text_7,
                this._el_8,
                this._text_9,
                this._text_10,
                this._text_11,
                this._anchor_12,
                this._text_13,
                this._el_14,
                this._text_15,
                this._el_16,
                this._text_17,
                this._text_18,
                this._text_19,
                this._text_20,
                this._text_21
            ]), [
                disposable_0,
                disposable_1
            ]);
            return null;
        };
        View_NgbDatepickerNavigation0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (12 === requestNodeIndex))) {
                return this._TemplateRef_12_5;
            }
            if (((token === NgIf) && (12 === requestNodeIndex))) {
                return this._NgIf_12_6.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerNavigation0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_12_0_0 = this.context.showSelect;
            this._NgIf_12_6.check_ngIf(currVal_12_0_0, throwOnChange, false);
            this._NgIf_12_6.ngDoCheck(this, this._anchor_12, throwOnChange);
            this._vc_12.detectChangesInNestedViews(throwOnChange);
            var currVal_25 = !this.context.showSelect;
            if (checkBinding(throwOnChange, this._expr_25, currVal_25)) {
                this.renderer.setElementClass(this._el_1, 'collapsed', currVal_25);
                this._expr_25 = currVal_25;
            }
            var currVal_26 = this.context.prevDisabled();
            if (checkBinding(throwOnChange, this._expr_26, currVal_26)) {
                this.renderer.setElementProperty(this._el_8, 'disabled', currVal_26);
                this._expr_26 = currVal_26;
            }
            var currVal_27 = this.context.nextDisabled();
            if (checkBinding(throwOnChange, this._expr_27, currVal_27)) {
                this.renderer.setElementProperty(this._el_16, 'disabled', currVal_27);
                this._expr_27 = currVal_27;
            }
        };
        View_NgbDatepickerNavigation0.prototype.destroyInternal = function () {
            this._vc_12.destroyNestedViews();
        };
        View_NgbDatepickerNavigation0.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 12)) {
                return new View_NgbDatepickerNavigation1(this.viewUtils, this, 12, this._anchor_12, this._vc_12);
            }
            return null;
        };
        View_NgbDatepickerNavigation0.prototype.handleEvent_8 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'click')) {
                var pd_sub_0 = (this.context.doNavigate(this.context.navigation.PREV) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        View_NgbDatepickerNavigation0.prototype.handleEvent_16 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'click')) {
                var pd_sub_0 = (this.context.doNavigate(this.context.navigation.NEXT) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        return View_NgbDatepickerNavigation0;
    }(AppView));
    var __extends$92 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbDatepickerMonthView = (function () {
        function Wrapper_NgbDatepickerMonthView(p0) {
            this._changed = false;
            this.context = new NgbDatepickerMonthView(p0);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
            this._expr_3 = UNINITIALIZED;
            this._expr_4 = UNINITIALIZED;
            this._expr_5 = UNINITIALIZED;
            this._expr_6 = UNINITIALIZED;
        }
        Wrapper_NgbDatepickerMonthView.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbDatepickerMonthView.prototype.ngOnDestroy = function () {
            (this.subscription0 && this.subscription0.unsubscribe());
        };
        Wrapper_NgbDatepickerMonthView.prototype.check_dayTemplate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.dayTemplate = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgbDatepickerMonthView.prototype.check_disabled = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.disabled = currValue;
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgbDatepickerMonthView.prototype.check_month = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_2, currValue))) {
                this._changed = true;
                this.context.month = currValue;
                this._expr_2 = currValue;
            }
        };
        Wrapper_NgbDatepickerMonthView.prototype.check_outsideDays = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_3, currValue))) {
                this._changed = true;
                this.context.outsideDays = currValue;
                this._expr_3 = currValue;
            }
        };
        Wrapper_NgbDatepickerMonthView.prototype.check_selectedDate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_4, currValue))) {
                this._changed = true;
                this.context.selectedDate = currValue;
                this._expr_4 = currValue;
            }
        };
        Wrapper_NgbDatepickerMonthView.prototype.check_showWeekdays = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_5, currValue))) {
                this._changed = true;
                this.context.showWeekdays = currValue;
                this._expr_5 = currValue;
            }
        };
        Wrapper_NgbDatepickerMonthView.prototype.check_showWeekNumbers = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_6, currValue))) {
                this._changed = true;
                this.context.showWeekNumbers = currValue;
                this._expr_6 = currValue;
            }
        };
        Wrapper_NgbDatepickerMonthView.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgbDatepickerMonthView.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgbDatepickerMonthView.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgbDatepickerMonthView.prototype.subscribe = function (view, _eventHandler, emit0) {
            this._eventHandler = _eventHandler;
            if (emit0) {
                (this.subscription0 = this.context.select.subscribe(_eventHandler.bind(view, 'select')));
            }
        };
        return Wrapper_NgbDatepickerMonthView;
    }());
    var renderType_NgbDatepickerMonthView_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbDatepickerMonthView_Host0 = (function (_super) {
        __extends$92(View_NgbDatepickerMonthView_Host0, _super);
        function View_NgbDatepickerMonthView_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbDatepickerMonthView_Host0, renderType_NgbDatepickerMonthView_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbDatepickerMonthView_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'ngb-datepicker-month-view', EMPTY_INLINE_ARRAY, rootSelector, null);
            this.compView_0 = new View_NgbDatepickerMonthView0(this.viewUtils, this, 0, this._el_0);
            this._NgbDatepickerMonthView_0_3 = new Wrapper_NgbDatepickerMonthView(this.injectorGet(NgbDatepickerI18n, this.parentIndex));
            this.compView_0.create(this._NgbDatepickerMonthView_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._NgbDatepickerMonthView_0_3.context);
        };
        View_NgbDatepickerMonthView_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbDatepickerMonthView) && (0 === requestNodeIndex))) {
                return this._NgbDatepickerMonthView_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerMonthView_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._NgbDatepickerMonthView_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbDatepickerMonthView_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
            this._NgbDatepickerMonthView_0_3.ngOnDestroy();
        };
        View_NgbDatepickerMonthView_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbDatepickerMonthView_Host0;
    }(AppView));
    var NgbDatepickerMonthViewNgFactory = new ComponentFactory('ngb-datepicker-month-view', View_NgbDatepickerMonthView_Host0, NgbDatepickerMonthView);
    var styles_NgbDatepickerMonthView = ['.weekday[_ngcontent-%COMP%] {\n    }\n    .weeknumber[_ngcontent-%COMP%] {\n    }\n    .day[_ngcontent-%COMP%] {\n      padding: 0;\n      height: 100%;\n      cursor: pointer;\n    }\n    .day.disabled[_ngcontent-%COMP%], .day.hidden[_ngcontent-%COMP%], .day.collapsed[_ngcontent-%COMP%] {\n      cursor: default;\n    }\n    [_nghost-%COMP%] .day.collapsed > * {\n      display: none;\n    }\n    [_nghost-%COMP%] .day.hidden > * {\n      visibility: hidden;\n    }'];
    var View_NgbDatepickerMonthView2 = (function (_super) {
        __extends$92(View_NgbDatepickerMonthView2, _super);
        function View_NgbDatepickerMonthView2(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepickerMonthView2, renderType_NgbDatepickerMonthView, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbDatepickerMonthView2.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'td', EMPTY_INLINE_ARRAY, null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return null;
        };
        View_NgbDatepickerMonthView2.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbDatepickerMonthView2;
    }(AppView));
    var View_NgbDatepickerMonthView3 = (function (_super) {
        __extends$92(View_NgbDatepickerMonthView3, _super);
        function View_NgbDatepickerMonthView3(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepickerMonthView3, renderType_NgbDatepickerMonthView, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
            this._expr_2 = UNINITIALIZED;
        }
        View_NgbDatepickerMonthView3.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'td', new InlineArray2(2, 'class', 'weekday text-xs-center font-weight-bold'), null);
            this._text_1 = this.renderer.createText(this._el_0, '', null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1
            ]), null);
            return null;
        };
        View_NgbDatepickerMonthView3.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_2 = inlineInterpolate(1, '', this.parentView.parentView.context.i18n.getWeekdayName(this.context.$implicit), '');
            if (checkBinding(throwOnChange, this._expr_2, currVal_2)) {
                this.renderer.setText(this._text_1, currVal_2);
                this._expr_2 = currVal_2;
            }
        };
        View_NgbDatepickerMonthView3.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbDatepickerMonthView3;
    }(AppView));
    var View_NgbDatepickerMonthView1 = (function (_super) {
        __extends$92(View_NgbDatepickerMonthView1, _super);
        function View_NgbDatepickerMonthView1(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepickerMonthView1, renderType_NgbDatepickerMonthView, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbDatepickerMonthView1.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'tr', EMPTY_INLINE_ARRAY, null);
            this._text_1 = this.renderer.createText(this._el_0, '\n        ', null);
            this._anchor_2 = this.renderer.createTemplateAnchor(this._el_0, null);
            this._vc_2 = new ViewContainer(2, 0, this, this._anchor_2);
            this._TemplateRef_2_5 = new TemplateRef_(this, 2, this._anchor_2);
            this._NgIf_2_6 = new Wrapper_NgIf(this._vc_2.vcRef, this._TemplateRef_2_5);
            this._text_3 = this.renderer.createText(this._el_0, '\n        ', null);
            this._anchor_4 = this.renderer.createTemplateAnchor(this._el_0, null);
            this._vc_4 = new ViewContainer(4, 0, this, this._anchor_4);
            this._TemplateRef_4_5 = new TemplateRef_(this, 4, this._anchor_4);
            this._NgFor_4_6 = new Wrapper_NgFor(this._vc_4.vcRef, this._TemplateRef_4_5, this.parentView.parentView.injectorGet(IterableDiffers, this.parentView.parentIndex), this.parentView.ref);
            this._text_5 = this.renderer.createText(this._el_0, '\n      ', null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1,
                this._anchor_2,
                this._text_3,
                this._anchor_4,
                this._text_5
            ]), null);
            return null;
        };
        View_NgbDatepickerMonthView1.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (2 === requestNodeIndex))) {
                return this._TemplateRef_2_5;
            }
            if (((token === NgIf) && (2 === requestNodeIndex))) {
                return this._NgIf_2_6.context;
            }
            if (((token === TemplateRef) && (4 === requestNodeIndex))) {
                return this._TemplateRef_4_5;
            }
            if (((token === NgFor) && (4 === requestNodeIndex))) {
                return this._NgFor_4_6.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerMonthView1.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_2_0_0 = this.parentView.context.showWeekNumbers;
            this._NgIf_2_6.check_ngIf(currVal_2_0_0, throwOnChange, false);
            this._NgIf_2_6.ngDoCheck(this, this._anchor_2, throwOnChange);
            var currVal_4_0_0 = this.parentView.context.month.weekdays;
            this._NgFor_4_6.check_ngForOf(currVal_4_0_0, throwOnChange, false);
            this._NgFor_4_6.ngDoCheck(this, this._anchor_4, throwOnChange);
            this._vc_2.detectChangesInNestedViews(throwOnChange);
            this._vc_4.detectChangesInNestedViews(throwOnChange);
        };
        View_NgbDatepickerMonthView1.prototype.destroyInternal = function () {
            this._vc_2.destroyNestedViews();
            this._vc_4.destroyNestedViews();
        };
        View_NgbDatepickerMonthView1.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbDatepickerMonthView1.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 2)) {
                return new View_NgbDatepickerMonthView2(this.viewUtils, this, 2, this._anchor_2, this._vc_2);
            }
            if ((nodeIndex == 4)) {
                return new View_NgbDatepickerMonthView3(this.viewUtils, this, 4, this._anchor_4, this._vc_4);
            }
            return null;
        };
        return View_NgbDatepickerMonthView1;
    }(AppView));
    var View_NgbDatepickerMonthView5 = (function (_super) {
        __extends$92(View_NgbDatepickerMonthView5, _super);
        function View_NgbDatepickerMonthView5(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepickerMonthView5, renderType_NgbDatepickerMonthView, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
            this._expr_2 = UNINITIALIZED;
        }
        View_NgbDatepickerMonthView5.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'td', new InlineArray2(2, 'class', 'weeknumber small text-xs-center'), null);
            this._text_1 = this.renderer.createText(this._el_0, '', null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1
            ]), null);
            return null;
        };
        View_NgbDatepickerMonthView5.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_2 = inlineInterpolate(1, '', this.parentView.context.$implicit.number, '');
            if (checkBinding(throwOnChange, this._expr_2, currVal_2)) {
                this.renderer.setText(this._text_1, currVal_2);
                this._expr_2 = currVal_2;
            }
        };
        View_NgbDatepickerMonthView5.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbDatepickerMonthView5;
    }(AppView));
    var View_NgbDatepickerMonthView7 = (function (_super) {
        __extends$92(View_NgbDatepickerMonthView7, _super);
        function View_NgbDatepickerMonthView7(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepickerMonthView7, renderType_NgbDatepickerMonthView, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbDatepickerMonthView7.prototype.createInternal = function (rootSelector) {
            this._text_0 = this.renderer.createText(null, '\n            ', null);
            this.init(this._text_0, (this.renderer.directRenderer ? null : [this._text_0]), null);
            return null;
        };
        View_NgbDatepickerMonthView7.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._text_0, ctx);
        };
        return View_NgbDatepickerMonthView7;
    }(AppView));
    var View_NgbDatepickerMonthView6 = (function (_super) {
        __extends$92(View_NgbDatepickerMonthView6, _super);
        function View_NgbDatepickerMonthView6(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepickerMonthView6, renderType_NgbDatepickerMonthView, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
            this._expr_7 = UNINITIALIZED;
            this._expr_8 = UNINITIALIZED;
            this._expr_9 = UNINITIALIZED;
            this._map_10 = pureProxy3(function (p0, p1, p2) {
                return {
                    year: p0,
                    month: p1,
                    day: p2
                };
            });
            this._map_11 = pureProxy4(function (p0, p1, p2, p3) {
                return {
                    date: p0,
                    currentMonth: p1,
                    disabled: p2,
                    selected: p3
                };
            });
        }
        View_NgbDatepickerMonthView6.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'td', new InlineArray2(2, 'class', 'day'), null);
            this._text_1 = this.renderer.createText(this._el_0, '\n            ', null);
            this._anchor_2 = this.renderer.createTemplateAnchor(this._el_0, null);
            this._vc_2 = new ViewContainer(2, 0, this, this._anchor_2);
            this._TemplateRef_2_5 = new TemplateRef_(this, 2, this._anchor_2);
            this._NgTemplateOutlet_2_6 = new Wrapper_NgTemplateOutlet(this._vc_2.vcRef);
            this._text_3 = this.renderer.createText(this._el_0, '\n        ', null);
            var disposable_0 = subscribeToRenderElement(this, this._el_0, new InlineArray2(2, 'click', null), this.eventHandler(this.handleEvent_0));
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1,
                this._anchor_2,
                this._text_3
            ]), [disposable_0]);
            return null;
        };
        View_NgbDatepickerMonthView6.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (2 === requestNodeIndex))) {
                return this._TemplateRef_2_5;
            }
            if (((token === NgTemplateOutlet) && (2 === requestNodeIndex))) {
                return this._NgTemplateOutlet_2_6.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerMonthView6.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_2_0_0 = this._map_11(this._map_10(this.context.$implicit.date.year, this.context.$implicit.date.month, this.context.$implicit.date.day), this.parentView.parentView.context.month.number, this.parentView.parentView.context.isDisabled(this.context.$implicit), this.parentView.parentView.context.isSelected(this.context.$implicit.date));
            this._NgTemplateOutlet_2_6.check_ngOutletContext(currVal_2_0_0, throwOnChange, false);
            var currVal_2_0_1 = this.parentView.parentView.context.dayTemplate;
            this._NgTemplateOutlet_2_6.check_ngTemplateOutlet(currVal_2_0_1, throwOnChange, false);
            this._NgTemplateOutlet_2_6.ngDoCheck(this, this._anchor_2, throwOnChange);
            this._vc_2.detectChangesInNestedViews(throwOnChange);
            var currVal_7 = this.parentView.parentView.context.isDisabled(this.context.$implicit);
            if (checkBinding(throwOnChange, this._expr_7, currVal_7)) {
                this.renderer.setElementClass(this._el_0, 'disabled', currVal_7);
                this._expr_7 = currVal_7;
            }
            var currVal_8 = this.parentView.parentView.context.isCollapsed(this.context.$implicit);
            if (checkBinding(throwOnChange, this._expr_8, currVal_8)) {
                this.renderer.setElementClass(this._el_0, 'collapsed', currVal_8);
                this._expr_8 = currVal_8;
            }
            var currVal_9 = this.parentView.parentView.context.isHidden(this.context.$implicit);
            if (checkBinding(throwOnChange, this._expr_9, currVal_9)) {
                this.renderer.setElementClass(this._el_0, 'hidden', currVal_9);
                this._expr_9 = currVal_9;
            }
        };
        View_NgbDatepickerMonthView6.prototype.destroyInternal = function () {
            this._vc_2.destroyNestedViews();
        };
        View_NgbDatepickerMonthView6.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbDatepickerMonthView6.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 2)) {
                return new View_NgbDatepickerMonthView7(this.viewUtils, this, 2, this._anchor_2, this._vc_2);
            }
            return null;
        };
        View_NgbDatepickerMonthView6.prototype.handleEvent_0 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'click')) {
                var pd_sub_0 = (this.parentView.parentView.context.doSelect(this.context.$implicit) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        return View_NgbDatepickerMonthView6;
    }(AppView));
    var View_NgbDatepickerMonthView4 = (function (_super) {
        __extends$92(View_NgbDatepickerMonthView4, _super);
        function View_NgbDatepickerMonthView4(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepickerMonthView4, renderType_NgbDatepickerMonthView, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbDatepickerMonthView4.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'tr', EMPTY_INLINE_ARRAY, null);
            this._text_1 = this.renderer.createText(this._el_0, '\n        ', null);
            this._anchor_2 = this.renderer.createTemplateAnchor(this._el_0, null);
            this._vc_2 = new ViewContainer(2, 0, this, this._anchor_2);
            this._TemplateRef_2_5 = new TemplateRef_(this, 2, this._anchor_2);
            this._NgIf_2_6 = new Wrapper_NgIf(this._vc_2.vcRef, this._TemplateRef_2_5);
            this._text_3 = this.renderer.createText(this._el_0, '\n        ', null);
            this._anchor_4 = this.renderer.createTemplateAnchor(this._el_0, null);
            this._vc_4 = new ViewContainer(4, 0, this, this._anchor_4);
            this._TemplateRef_4_5 = new TemplateRef_(this, 4, this._anchor_4);
            this._NgFor_4_6 = new Wrapper_NgFor(this._vc_4.vcRef, this._TemplateRef_4_5, this.parentView.parentView.injectorGet(IterableDiffers, this.parentView.parentIndex), this.parentView.ref);
            this._text_5 = this.renderer.createText(this._el_0, '\n      ', null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1,
                this._anchor_2,
                this._text_3,
                this._anchor_4,
                this._text_5
            ]), null);
            return null;
        };
        View_NgbDatepickerMonthView4.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (2 === requestNodeIndex))) {
                return this._TemplateRef_2_5;
            }
            if (((token === NgIf) && (2 === requestNodeIndex))) {
                return this._NgIf_2_6.context;
            }
            if (((token === TemplateRef) && (4 === requestNodeIndex))) {
                return this._TemplateRef_4_5;
            }
            if (((token === NgFor) && (4 === requestNodeIndex))) {
                return this._NgFor_4_6.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerMonthView4.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_2_0_0 = this.parentView.context.showWeekNumbers;
            this._NgIf_2_6.check_ngIf(currVal_2_0_0, throwOnChange, false);
            this._NgIf_2_6.ngDoCheck(this, this._anchor_2, throwOnChange);
            var currVal_4_0_0 = this.context.$implicit.days;
            this._NgFor_4_6.check_ngForOf(currVal_4_0_0, throwOnChange, false);
            this._NgFor_4_6.ngDoCheck(this, this._anchor_4, throwOnChange);
            this._vc_2.detectChangesInNestedViews(throwOnChange);
            this._vc_4.detectChangesInNestedViews(throwOnChange);
        };
        View_NgbDatepickerMonthView4.prototype.destroyInternal = function () {
            this._vc_2.destroyNestedViews();
            this._vc_4.destroyNestedViews();
        };
        View_NgbDatepickerMonthView4.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbDatepickerMonthView4.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 2)) {
                return new View_NgbDatepickerMonthView5(this.viewUtils, this, 2, this._anchor_2, this._vc_2);
            }
            if ((nodeIndex == 4)) {
                return new View_NgbDatepickerMonthView6(this.viewUtils, this, 4, this._anchor_4, this._vc_4);
            }
            return null;
        };
        return View_NgbDatepickerMonthView4;
    }(AppView));
    var renderType_NgbDatepickerMonthView = createRenderComponentType('', 0, ViewEncapsulation.Emulated, styles_NgbDatepickerMonthView, {});
    var View_NgbDatepickerMonthView0 = (function (_super) {
        __extends$92(View_NgbDatepickerMonthView0, _super);
        function View_NgbDatepickerMonthView0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbDatepickerMonthView0, renderType_NgbDatepickerMonthView, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbDatepickerMonthView0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._el_1 = createRenderElement(this.renderer, parentRenderNode, 'table', EMPTY_INLINE_ARRAY, null);
            this._text_2 = this.renderer.createText(this._el_1, '\n      ', null);
            this._el_3 = createRenderElement(this.renderer, this._el_1, 'tbody', EMPTY_INLINE_ARRAY, null);
            this._anchor_4 = this.renderer.createTemplateAnchor(this._el_3, null);
            this._vc_4 = new ViewContainer(4, 3, this, this._anchor_4);
            this._TemplateRef_4_5 = new TemplateRef_(this, 4, this._anchor_4);
            this._NgIf_4_6 = new Wrapper_NgIf(this._vc_4.vcRef, this._TemplateRef_4_5);
            this._text_5 = this.renderer.createText(this._el_3, '\n      ', null);
            this._anchor_6 = this.renderer.createTemplateAnchor(this._el_3, null);
            this._vc_6 = new ViewContainer(6, 3, this, this._anchor_6);
            this._TemplateRef_6_5 = new TemplateRef_(this, 6, this._anchor_6);
            this._NgFor_6_6 = new Wrapper_NgFor(this._vc_6.vcRef, this._TemplateRef_6_5, this.parentView.injectorGet(IterableDiffers, this.parentIndex), this.ref);
            this._text_7 = this.renderer.createText(this._el_3, '\n    ', null);
            this._text_8 = this.renderer.createText(parentRenderNode, '\n  ', null);
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._el_3,
                this._anchor_4,
                this._text_5,
                this._anchor_6,
                this._text_7,
                this._text_8
            ]), null);
            return null;
        };
        View_NgbDatepickerMonthView0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (4 === requestNodeIndex))) {
                return this._TemplateRef_4_5;
            }
            if (((token === NgIf) && (4 === requestNodeIndex))) {
                return this._NgIf_4_6.context;
            }
            if (((token === TemplateRef) && (6 === requestNodeIndex))) {
                return this._TemplateRef_6_5;
            }
            if (((token === NgFor) && (6 === requestNodeIndex))) {
                return this._NgFor_6_6.context;
            }
            return notFoundResult;
        };
        View_NgbDatepickerMonthView0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_4_0_0 = this.context.showWeekdays;
            this._NgIf_4_6.check_ngIf(currVal_4_0_0, throwOnChange, false);
            this._NgIf_4_6.ngDoCheck(this, this._anchor_4, throwOnChange);
            var currVal_6_0_0 = this.context.month.weeks;
            this._NgFor_6_6.check_ngForOf(currVal_6_0_0, throwOnChange, false);
            this._NgFor_6_6.ngDoCheck(this, this._anchor_6, throwOnChange);
            this._vc_4.detectChangesInNestedViews(throwOnChange);
            this._vc_6.detectChangesInNestedViews(throwOnChange);
        };
        View_NgbDatepickerMonthView0.prototype.destroyInternal = function () {
            this._vc_4.destroyNestedViews();
            this._vc_6.destroyNestedViews();
        };
        View_NgbDatepickerMonthView0.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 4)) {
                return new View_NgbDatepickerMonthView1(this.viewUtils, this, 4, this._anchor_4, this._vc_4);
            }
            if ((nodeIndex == 6)) {
                return new View_NgbDatepickerMonthView4(this.viewUtils, this, 6, this._anchor_6, this._vc_6);
            }
            return null;
        };
        return View_NgbDatepickerMonthView0;
    }(AppView));
    var __extends$88 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbDatepicker = (function () {
        function Wrapper_NgbDatepicker(p0, p1, p2, p3) {
            this._changed = false;
            this._changes = {};
            this.context = new NgbDatepicker(p0, p1, p2, p3);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
            this._expr_3 = UNINITIALIZED;
            this._expr_4 = UNINITIALIZED;
            this._expr_5 = UNINITIALIZED;
            this._expr_6 = UNINITIALIZED;
            this._expr_7 = UNINITIALIZED;
            this._expr_8 = UNINITIALIZED;
            this._expr_9 = UNINITIALIZED;
            this._expr_10 = UNINITIALIZED;
        }
        Wrapper_NgbDatepicker.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbDatepicker.prototype.ngOnDestroy = function () {
            (this.subscription0 && this.subscription0.unsubscribe());
        };
        Wrapper_NgbDatepicker.prototype.check_dayTemplate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.dayTemplate = currValue;
                this._changes['dayTemplate'] = new SimpleChange(this._expr_0, currValue);
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgbDatepicker.prototype.check_displayMonths = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.displayMonths = currValue;
                this._changes['displayMonths'] = new SimpleChange(this._expr_1, currValue);
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgbDatepicker.prototype.check_firstDayOfWeek = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_2, currValue))) {
                this._changed = true;
                this.context.firstDayOfWeek = currValue;
                this._changes['firstDayOfWeek'] = new SimpleChange(this._expr_2, currValue);
                this._expr_2 = currValue;
            }
        };
        Wrapper_NgbDatepicker.prototype.check_markDisabled = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_3, currValue))) {
                this._changed = true;
                this.context.markDisabled = currValue;
                this._changes['markDisabled'] = new SimpleChange(this._expr_3, currValue);
                this._expr_3 = currValue;
            }
        };
        Wrapper_NgbDatepicker.prototype.check_minDate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_4, currValue))) {
                this._changed = true;
                this.context.minDate = currValue;
                this._changes['minDate'] = new SimpleChange(this._expr_4, currValue);
                this._expr_4 = currValue;
            }
        };
        Wrapper_NgbDatepicker.prototype.check_maxDate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_5, currValue))) {
                this._changed = true;
                this.context.maxDate = currValue;
                this._changes['maxDate'] = new SimpleChange(this._expr_5, currValue);
                this._expr_5 = currValue;
            }
        };
        Wrapper_NgbDatepicker.prototype.check_navigation = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_6, currValue))) {
                this._changed = true;
                this.context.navigation = currValue;
                this._changes['navigation'] = new SimpleChange(this._expr_6, currValue);
                this._expr_6 = currValue;
            }
        };
        Wrapper_NgbDatepicker.prototype.check_outsideDays = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_7, currValue))) {
                this._changed = true;
                this.context.outsideDays = currValue;
                this._changes['outsideDays'] = new SimpleChange(this._expr_7, currValue);
                this._expr_7 = currValue;
            }
        };
        Wrapper_NgbDatepicker.prototype.check_showWeekdays = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_8, currValue))) {
                this._changed = true;
                this.context.showWeekdays = currValue;
                this._changes['showWeekdays'] = new SimpleChange(this._expr_8, currValue);
                this._expr_8 = currValue;
            }
        };
        Wrapper_NgbDatepicker.prototype.check_showWeekNumbers = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_9, currValue))) {
                this._changed = true;
                this.context.showWeekNumbers = currValue;
                this._changes['showWeekNumbers'] = new SimpleChange(this._expr_9, currValue);
                this._expr_9 = currValue;
            }
        };
        Wrapper_NgbDatepicker.prototype.check_startDate = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_10, currValue))) {
                this._changed = true;
                this.context.startDate = currValue;
                this._changes['startDate'] = new SimpleChange(this._expr_10, currValue);
                this._expr_10 = currValue;
            }
        };
        Wrapper_NgbDatepicker.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            if (!throwOnChange) {
                if (changed) {
                    this.context.ngOnChanges(this._changes);
                    this._changes = {};
                }
                if ((view.numberOfChecks === 0)) {
                    this.context.ngOnInit();
                }
            }
            return changed;
        };
        Wrapper_NgbDatepicker.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgbDatepicker.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgbDatepicker.prototype.subscribe = function (view, _eventHandler, emit0) {
            this._eventHandler = _eventHandler;
            if (emit0) {
                (this.subscription0 = this.context.navigate.subscribe(_eventHandler.bind(view, 'navigate')));
            }
        };
        return Wrapper_NgbDatepicker;
    }());
    var renderType_NgbDatepicker_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbDatepicker_Host0 = (function (_super) {
        __extends$88(View_NgbDatepicker_Host0, _super);
        function View_NgbDatepicker_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbDatepicker_Host0, renderType_NgbDatepicker_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        Object.defineProperty(View_NgbDatepicker_Host0.prototype, "_NG_VALUE_ACCESSOR_0_4", {
            get: function () {
                if ((this.__NG_VALUE_ACCESSOR_0_4 == null)) {
                    (this.__NG_VALUE_ACCESSOR_0_4 = [this._NgbDatepicker_0_3.context]);
                }
                return this.__NG_VALUE_ACCESSOR_0_4;
            },
            enumerable: true,
            configurable: true
        });
        View_NgbDatepicker_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'ngb-datepicker', new InlineArray2(2, 'class', 'd-inline-block'), rootSelector, null);
            this.compView_0 = new View_NgbDatepicker0(this.viewUtils, this, 0, this._el_0);
            this._NgbDatepicker_0_3 = new Wrapper_NgbDatepicker(this.injectorGet(NgbDatepickerService, this.parentIndex), this.injectorGet(NgbCalendar, this.parentIndex), this.injectorGet(NgbDatepickerI18n, this.parentIndex), this.injectorGet(NgbDatepickerConfig, this.parentIndex));
            this.compView_0.create(this._NgbDatepicker_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._NgbDatepicker_0_3.context);
        };
        View_NgbDatepicker_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbDatepicker) && (0 === requestNodeIndex))) {
                return this._NgbDatepicker_0_3.context;
            }
            if (((token === NG_VALUE_ACCESSOR) && (0 === requestNodeIndex))) {
                return this._NG_VALUE_ACCESSOR_0_4;
            }
            return notFoundResult;
        };
        View_NgbDatepicker_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._NgbDatepicker_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbDatepicker_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
            this._NgbDatepicker_0_3.ngOnDestroy();
        };
        View_NgbDatepicker_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbDatepicker_Host0;
    }(AppView));
    var NgbDatepickerNgFactory = new ComponentFactory('ngb-datepicker', View_NgbDatepicker_Host0, NgbDatepicker);
    var styles_NgbDatepicker = ['.month[_ngcontent-%COMP%]:first-child {\n      padding-left: 0 !important;\n    }'];
    var View_NgbDatepicker1 = (function (_super) {
        __extends$88(View_NgbDatepicker1, _super);
        function View_NgbDatepicker1(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepicker1, renderType_NgbDatepicker, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbDatepicker1.prototype.createInternal = function (rootSelector) {
            this._text_0 = this.renderer.createText(null, '\n       ', null);
            this._el_1 = createRenderElement(this.renderer, null, 'div', new InlineArray2(2, 'ngbDatepickerDayView', ''), null);
            this.compView_1 = new View_NgbDatepickerDayView0(this.viewUtils, this, 1, this._el_1);
            this._NgbDatepickerDayView_1_3 = new Wrapper_NgbDatepickerDayView();
            this.compView_1.create(this._NgbDatepickerDayView_1_3.context);
            this._text_2 = this.renderer.createText(null, '\n    ', null);
            this.init(this._text_2, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2
            ]), null);
            return null;
        };
        View_NgbDatepicker1.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbDatepickerDayView) && (1 === requestNodeIndex))) {
                return this._NgbDatepickerDayView_1_3.context;
            }
            return notFoundResult;
        };
        View_NgbDatepicker1.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_1_0_0 = this.context.currentMonth;
            this._NgbDatepickerDayView_1_3.check_currentMonth(currVal_1_0_0, throwOnChange, false);
            var currVal_1_0_1 = this.context.date;
            this._NgbDatepickerDayView_1_3.check_date(currVal_1_0_1, throwOnChange, false);
            var currVal_1_0_2 = this.context.disabled;
            this._NgbDatepickerDayView_1_3.check_disabled(currVal_1_0_2, throwOnChange, false);
            var currVal_1_0_3 = this.context.selected;
            this._NgbDatepickerDayView_1_3.check_selected(currVal_1_0_3, throwOnChange, false);
            this._NgbDatepickerDayView_1_3.ngDoCheck(this, this._el_1, throwOnChange);
            this._NgbDatepickerDayView_1_3.checkHost(this, this.compView_1, this._el_1, throwOnChange);
            this.compView_1.internalDetectChanges(throwOnChange);
        };
        View_NgbDatepicker1.prototype.destroyInternal = function () {
            this.compView_1.destroy();
        };
        View_NgbDatepicker1.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._text_0, ctx);
            cb(this._el_1, ctx);
            cb(this._text_2, ctx);
        };
        return View_NgbDatepicker1;
    }(AppView));
    var View_NgbDatepicker2 = (function (_super) {
        __extends$88(View_NgbDatepicker2, _super);
        function View_NgbDatepicker2(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepicker2, renderType_NgbDatepicker, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbDatepicker2.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'ngb-datepicker-navigation', EMPTY_INLINE_ARRAY, null);
            this.compView_0 = new View_NgbDatepickerNavigation0(this.viewUtils, this, 0, this._el_0);
            this._NgbDatepickerNavigation_0_3 = new Wrapper_NgbDatepickerNavigation(this.parentView.injectorGet(NgbDatepickerI18n, this.parentIndex), this.parentView.injectorGet(NgbCalendar, this.parentIndex));
            this._text_1 = this.renderer.createText(null, '\n    ', null);
            this.compView_0.create(this._NgbDatepickerNavigation_0_3.context);
            var disposable_0 = subscribeToRenderElement(this, this._el_0, new InlineArray4(4, 'navigate', null, 'select', null), this.eventHandler(this.handleEvent_0));
            this._NgbDatepickerNavigation_0_3.subscribe(this, this.eventHandler(this.handleEvent_0), true, true);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1
            ]), [disposable_0]);
            return null;
        };
        View_NgbDatepicker2.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbDatepickerNavigation) && ((0 <= requestNodeIndex) && (requestNodeIndex <= 1)))) {
                return this._NgbDatepickerNavigation_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbDatepicker2.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_0_0_0 = ((this.parentView.context.months[0] == null) ? null : this.parentView.context.months[0].firstDate);
            this._NgbDatepickerNavigation_0_3.check_date(currVal_0_0_0, throwOnChange, false);
            var currVal_0_0_1 = this.parentView.context.disabled;
            this._NgbDatepickerNavigation_0_3.check_disabled(currVal_0_0_1, throwOnChange, false);
            var currVal_0_0_2 = this.parentView.context._maxDate;
            this._NgbDatepickerNavigation_0_3.check_maxDate(currVal_0_0_2, throwOnChange, false);
            var currVal_0_0_3 = this.parentView.context._minDate;
            this._NgbDatepickerNavigation_0_3.check_minDate(currVal_0_0_3, throwOnChange, false);
            var currVal_0_0_4 = (this.parentView.context.navigation === 'select');
            this._NgbDatepickerNavigation_0_3.check_showSelect(currVal_0_0_4, throwOnChange, false);
            var currVal_0_0_5 = this.parentView.context.showWeekNumbers;
            this._NgbDatepickerNavigation_0_3.check_showWeekNumbers(currVal_0_0_5, throwOnChange, false);
            this._NgbDatepickerNavigation_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbDatepicker2.prototype.destroyInternal = function () {
            this.compView_0.destroy();
            this._NgbDatepickerNavigation_0_3.ngOnDestroy();
        };
        View_NgbDatepicker2.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbDatepicker2.prototype.handleEvent_0 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'navigate')) {
                var pd_sub_0 = (this.parentView.context.onNavigateEvent($event) !== false);
                result = (pd_sub_0 && result);
            }
            if ((eventName == 'select')) {
                var pd_sub_1 = (this.parentView.context.onNavigateDateSelect($event) !== false);
                result = (pd_sub_1 && result);
            }
            return result;
        };
        return View_NgbDatepicker2;
    }(AppView));
    var View_NgbDatepicker4 = (function (_super) {
        __extends$88(View_NgbDatepicker4, _super);
        function View_NgbDatepicker4(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepicker4, renderType_NgbDatepicker, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
            this._expr_2 = UNINITIALIZED;
        }
        View_NgbDatepicker4.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'td', new InlineArray2(2, 'class', 'text-xs-center font-weight-bold'), null);
            this._text_1 = this.renderer.createText(this._el_0, '', null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1
            ]), null);
            return null;
        };
        View_NgbDatepicker4.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_2 = inlineInterpolate(2, '\n          ', this.parentView.parentView.context.i18n.getMonthName(this.context.$implicit.number), ' ', this.context.$implicit.year, '\n        ');
            if (checkBinding(throwOnChange, this._expr_2, currVal_2)) {
                this.renderer.setText(this._text_1, currVal_2);
                this._expr_2 = currVal_2;
            }
        };
        View_NgbDatepicker4.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbDatepicker4;
    }(AppView));
    var View_NgbDatepicker3 = (function (_super) {
        __extends$88(View_NgbDatepicker3, _super);
        function View_NgbDatepicker3(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepicker3, renderType_NgbDatepicker, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbDatepicker3.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'tr', EMPTY_INLINE_ARRAY, null);
            this._text_1 = this.renderer.createText(this._el_0, '\n        ', null);
            this._anchor_2 = this.renderer.createTemplateAnchor(this._el_0, null);
            this._vc_2 = new ViewContainer(2, 0, this, this._anchor_2);
            this._TemplateRef_2_5 = new TemplateRef_(this, 2, this._anchor_2);
            this._NgFor_2_6 = new Wrapper_NgFor(this._vc_2.vcRef, this._TemplateRef_2_5, this.parentView.parentView.injectorGet(IterableDiffers, this.parentView.parentIndex), this.parentView.ref);
            this._text_3 = this.renderer.createText(this._el_0, '\n      ', null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1,
                this._anchor_2,
                this._text_3
            ]), null);
            return null;
        };
        View_NgbDatepicker3.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (2 === requestNodeIndex))) {
                return this._TemplateRef_2_5;
            }
            if (((token === NgFor) && (2 === requestNodeIndex))) {
                return this._NgFor_2_6.context;
            }
            return notFoundResult;
        };
        View_NgbDatepicker3.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_2_0_0 = this.parentView.context.months;
            this._NgFor_2_6.check_ngForOf(currVal_2_0_0, throwOnChange, false);
            this._NgFor_2_6.ngDoCheck(this, this._anchor_2, throwOnChange);
            this._vc_2.detectChangesInNestedViews(throwOnChange);
        };
        View_NgbDatepicker3.prototype.destroyInternal = function () {
            this._vc_2.destroyNestedViews();
        };
        View_NgbDatepicker3.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbDatepicker3.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 2)) {
                return new View_NgbDatepicker4(this.viewUtils, this, 2, this._anchor_2, this._vc_2);
            }
            return null;
        };
        return View_NgbDatepicker3;
    }(AppView));
    var View_NgbDatepicker5 = (function (_super) {
        __extends$88(View_NgbDatepicker5, _super);
        function View_NgbDatepicker5(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_NgbDatepicker5, renderType_NgbDatepicker, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_NgbDatepicker5.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'td', new InlineArray2(2, 'class', 'pl-1 month'), null);
            this._text_1 = this.renderer.createText(this._el_0, '\n          ', null);
            this._el_2 = createRenderElement(this.renderer, this._el_0, 'ngb-datepicker-month-view', EMPTY_INLINE_ARRAY, null);
            this.compView_2 = new View_NgbDatepickerMonthView0(this.viewUtils, this, 2, this._el_2);
            this._NgbDatepickerMonthView_2_3 = new Wrapper_NgbDatepickerMonthView(this.parentView.parentView.injectorGet(NgbDatepickerI18n, this.parentView.parentIndex));
            this._text_3 = this.renderer.createText(null, '\n          ', null);
            this.compView_2.create(this._NgbDatepickerMonthView_2_3.context);
            this._text_4 = this.renderer.createText(this._el_0, '\n        ', null);
            var disposable_0 = subscribeToRenderElement(this, this._el_2, new InlineArray2(2, 'select', null), this.eventHandler(this.handleEvent_2));
            this._NgbDatepickerMonthView_2_3.subscribe(this, this.eventHandler(this.handleEvent_2), true);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1,
                this._el_2,
                this._text_3,
                this._text_4
            ]), [disposable_0]);
            return null;
        };
        View_NgbDatepicker5.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbDatepickerMonthView) && ((2 <= requestNodeIndex) && (requestNodeIndex <= 3)))) {
                return this._NgbDatepickerMonthView_2_3.context;
            }
            return notFoundResult;
        };
        View_NgbDatepicker5.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_2_0_0 = (this.parentView.context.dayTemplate || this.parentView._TemplateRef_1_4);
            this._NgbDatepickerMonthView_2_3.check_dayTemplate(currVal_2_0_0, throwOnChange, false);
            var currVal_2_0_1 = this.parentView.context.disabled;
            this._NgbDatepickerMonthView_2_3.check_disabled(currVal_2_0_1, throwOnChange, false);
            var currVal_2_0_2 = this.context.$implicit;
            this._NgbDatepickerMonthView_2_3.check_month(currVal_2_0_2, throwOnChange, false);
            var currVal_2_0_3 = ((this.parentView.context.displayMonths === 1) ? this.parentView.context.outsideDays : 'hidden');
            this._NgbDatepickerMonthView_2_3.check_outsideDays(currVal_2_0_3, throwOnChange, false);
            var currVal_2_0_4 = this.parentView.context.model;
            this._NgbDatepickerMonthView_2_3.check_selectedDate(currVal_2_0_4, throwOnChange, false);
            var currVal_2_0_5 = this.parentView.context.showWeekdays;
            this._NgbDatepickerMonthView_2_3.check_showWeekdays(currVal_2_0_5, throwOnChange, false);
            var currVal_2_0_6 = this.parentView.context.showWeekNumbers;
            this._NgbDatepickerMonthView_2_3.check_showWeekNumbers(currVal_2_0_6, throwOnChange, false);
            this._NgbDatepickerMonthView_2_3.ngDoCheck(this, this._el_2, throwOnChange);
            this.compView_2.internalDetectChanges(throwOnChange);
        };
        View_NgbDatepicker5.prototype.destroyInternal = function () {
            this.compView_2.destroy();
            this._NgbDatepickerMonthView_2_3.ngOnDestroy();
        };
        View_NgbDatepicker5.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbDatepicker5.prototype.handleEvent_2 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'select')) {
                var pd_sub_0 = (this.parentView.context.onDateSelect($event) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        return View_NgbDatepicker5;
    }(AppView));
    var renderType_NgbDatepicker = createRenderComponentType('', 0, ViewEncapsulation.Emulated, styles_NgbDatepicker, {});
    var View_NgbDatepicker0 = (function (_super) {
        __extends$88(View_NgbDatepicker0, _super);
        function View_NgbDatepicker0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbDatepicker0, renderType_NgbDatepicker, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbDatepicker0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._anchor_1 = this.renderer.createTemplateAnchor(parentRenderNode, null);
            this._vc_1 = new ViewContainer(1, null, this, this._anchor_1);
            this._TemplateRef_1_4 = new TemplateRef_(this, 1, this._anchor_1);
            this._text_2 = this.renderer.createText(parentRenderNode, '\n\n    ', null);
            this._anchor_3 = this.renderer.createTemplateAnchor(parentRenderNode, null);
            this._vc_3 = new ViewContainer(3, null, this, this._anchor_3);
            this._TemplateRef_3_5 = new TemplateRef_(this, 3, this._anchor_3);
            this._NgIf_3_6 = new Wrapper_NgIf(this._vc_3.vcRef, this._TemplateRef_3_5);
            this._text_4 = this.renderer.createText(parentRenderNode, '\n\n    ', null);
            this._el_5 = createRenderElement(this.renderer, parentRenderNode, 'table', EMPTY_INLINE_ARRAY, null);
            this._text_6 = this.renderer.createText(this._el_5, '\n      ', null);
            this._el_7 = createRenderElement(this.renderer, this._el_5, 'tbody', EMPTY_INLINE_ARRAY, null);
            this._anchor_8 = this.renderer.createTemplateAnchor(this._el_7, null);
            this._vc_8 = new ViewContainer(8, 7, this, this._anchor_8);
            this._TemplateRef_8_5 = new TemplateRef_(this, 8, this._anchor_8);
            this._NgIf_8_6 = new Wrapper_NgIf(this._vc_8.vcRef, this._TemplateRef_8_5);
            this._text_9 = this.renderer.createText(this._el_7, '\n      ', null);
            this._el_10 = createRenderElement(this.renderer, this._el_7, 'tr', EMPTY_INLINE_ARRAY, null);
            this._text_11 = this.renderer.createText(this._el_10, '\n        ', null);
            this._anchor_12 = this.renderer.createTemplateAnchor(this._el_10, null);
            this._vc_12 = new ViewContainer(12, 10, this, this._anchor_12);
            this._TemplateRef_12_5 = new TemplateRef_(this, 12, this._anchor_12);
            this._NgFor_12_6 = new Wrapper_NgFor(this._vc_12.vcRef, this._TemplateRef_12_5, this.parentView.injectorGet(IterableDiffers, this.parentIndex), this.ref);
            this._text_13 = this.renderer.createText(this._el_10, '\n      ', null);
            this._text_14 = this.renderer.createText(this._el_7, '\n    ', null);
            this._text_15 = this.renderer.createText(parentRenderNode, '\n  ', null);
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._anchor_1,
                this._text_2,
                this._anchor_3,
                this._text_4,
                this._el_5,
                this._text_6,
                this._el_7,
                this._anchor_8,
                this._text_9,
                this._el_10,
                this._text_11,
                this._anchor_12,
                this._text_13,
                this._text_14,
                this._text_15
            ]), null);
            return null;
        };
        View_NgbDatepicker0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (1 === requestNodeIndex))) {
                return this._TemplateRef_1_4;
            }
            if (((token === TemplateRef) && (3 === requestNodeIndex))) {
                return this._TemplateRef_3_5;
            }
            if (((token === NgIf) && (3 === requestNodeIndex))) {
                return this._NgIf_3_6.context;
            }
            if (((token === TemplateRef) && (8 === requestNodeIndex))) {
                return this._TemplateRef_8_5;
            }
            if (((token === NgIf) && (8 === requestNodeIndex))) {
                return this._NgIf_8_6.context;
            }
            if (((token === TemplateRef) && (12 === requestNodeIndex))) {
                return this._TemplateRef_12_5;
            }
            if (((token === NgFor) && (12 === requestNodeIndex))) {
                return this._NgFor_12_6.context;
            }
            return notFoundResult;
        };
        View_NgbDatepicker0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_3_0_0 = (this.context.navigation !== 'none');
            this._NgIf_3_6.check_ngIf(currVal_3_0_0, throwOnChange, false);
            this._NgIf_3_6.ngDoCheck(this, this._anchor_3, throwOnChange);
            var currVal_8_0_0 = ((this.context.navigation !== 'select') || (this.context.displayMonths > 1));
            this._NgIf_8_6.check_ngIf(currVal_8_0_0, throwOnChange, false);
            this._NgIf_8_6.ngDoCheck(this, this._anchor_8, throwOnChange);
            var currVal_12_0_0 = this.context.months;
            this._NgFor_12_6.check_ngForOf(currVal_12_0_0, throwOnChange, false);
            this._NgFor_12_6.ngDoCheck(this, this._anchor_12, throwOnChange);
            this._vc_1.detectChangesInNestedViews(throwOnChange);
            this._vc_3.detectChangesInNestedViews(throwOnChange);
            this._vc_8.detectChangesInNestedViews(throwOnChange);
            this._vc_12.detectChangesInNestedViews(throwOnChange);
        };
        View_NgbDatepicker0.prototype.destroyInternal = function () {
            this._vc_1.destroyNestedViews();
            this._vc_3.destroyNestedViews();
            this._vc_8.destroyNestedViews();
            this._vc_12.destroyNestedViews();
        };
        View_NgbDatepicker0.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 1)) {
                return new View_NgbDatepicker1(this.viewUtils, this, 1, this._anchor_1, this._vc_1);
            }
            if ((nodeIndex == 3)) {
                return new View_NgbDatepicker2(this.viewUtils, this, 3, this._anchor_3, this._vc_3);
            }
            if ((nodeIndex == 8)) {
                return new View_NgbDatepicker3(this.viewUtils, this, 8, this._anchor_8, this._vc_8);
            }
            if ((nodeIndex == 12)) {
                return new View_NgbDatepicker5(this.viewUtils, this, 12, this._anchor_12, this._vc_12);
            }
            return null;
        };
        return View_NgbDatepicker0;
    }(AppView));
    var __extends$93 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbModalBackdrop = (function () {
        function Wrapper_NgbModalBackdrop() {
            this._changed = false;
            this.context = new NgbModalBackdrop();
        }
        Wrapper_NgbModalBackdrop.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbModalBackdrop.prototype.ngOnDestroy = function () {
        };
        Wrapper_NgbModalBackdrop.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgbModalBackdrop.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgbModalBackdrop.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgbModalBackdrop.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgbModalBackdrop;
    }());
    var renderType_NgbModalBackdrop_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbModalBackdrop_Host0 = (function (_super) {
        __extends$93(View_NgbModalBackdrop_Host0, _super);
        function View_NgbModalBackdrop_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbModalBackdrop_Host0, renderType_NgbModalBackdrop_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbModalBackdrop_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'ngb-modal-backdrop', new InlineArray2(2, 'class', 'modal-backdrop fade in'), rootSelector, null);
            this.compView_0 = new View_NgbModalBackdrop0(this.viewUtils, this, 0, this._el_0);
            this._NgbModalBackdrop_0_3 = new Wrapper_NgbModalBackdrop();
            this.compView_0.create(this._NgbModalBackdrop_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._NgbModalBackdrop_0_3.context);
        };
        View_NgbModalBackdrop_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbModalBackdrop) && (0 === requestNodeIndex))) {
                return this._NgbModalBackdrop_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbModalBackdrop_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._NgbModalBackdrop_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbModalBackdrop_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
        };
        View_NgbModalBackdrop_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_NgbModalBackdrop_Host0;
    }(AppView));
    var NgbModalBackdropNgFactory = new ComponentFactory('ngb-modal-backdrop', View_NgbModalBackdrop_Host0, NgbModalBackdrop);
    var styles_NgbModalBackdrop = [];
    var renderType_NgbModalBackdrop = createRenderComponentType('', 0, ViewEncapsulation.None, styles_NgbModalBackdrop, {});
    var View_NgbModalBackdrop0 = (function (_super) {
        __extends$93(View_NgbModalBackdrop0, _super);
        function View_NgbModalBackdrop0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbModalBackdrop0, renderType_NgbModalBackdrop, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbModalBackdrop0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this.init(null, (this.renderer.directRenderer ? null : []), null);
            return null;
        };
        return View_NgbModalBackdrop0;
    }(AppView));
    var __extends$94 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbModalWindow = (function () {
        function Wrapper_NgbModalWindow(p0, p1) {
            this._changed = false;
            this.context = new NgbModalWindow(p0, p1);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
            this._expr_3 = UNINITIALIZED;
            this._expr_4 = UNINITIALIZED;
        }
        Wrapper_NgbModalWindow.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbModalWindow.prototype.ngOnDestroy = function () {
            this.context.ngOnDestroy();
            (this.subscription0 && this.subscription0.unsubscribe());
        };
        Wrapper_NgbModalWindow.prototype.check_backdrop = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.backdrop = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgbModalWindow.prototype.check_keyboard = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.keyboard = currValue;
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgbModalWindow.prototype.check_size = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_2, currValue))) {
                this._changed = true;
                this.context.size = currValue;
                this._expr_2 = currValue;
            }
        };
        Wrapper_NgbModalWindow.prototype.check_windowClass = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_3, currValue))) {
                this._changed = true;
                this.context.windowClass = currValue;
                this._expr_3 = currValue;
            }
        };
        Wrapper_NgbModalWindow.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            if (!throwOnChange) {
                if ((view.numberOfChecks === 0)) {
                    this.context.ngOnInit();
                }
            }
            return changed;
        };
        Wrapper_NgbModalWindow.prototype.checkHost = function (view, componentView, el, throwOnChange) {
            var currVal_4 = ('modal fade in' + (this.context.windowClass ? (' ' + this.context.windowClass) : ''));
            if (checkBinding(throwOnChange, this._expr_4, currVal_4)) {
                view.renderer.setElementProperty(el, 'className', currVal_4);
                this._expr_4 = currVal_4;
            }
        };
        Wrapper_NgbModalWindow.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            if ((eventName == 'keyup.esc')) {
                var pd_sub_0 = (this.context.escKey($event) !== false);
                result = (pd_sub_0 && result);
            }
            if ((eventName == 'click')) {
                var pd_sub_1 = (this.context.backdropClick($event) !== false);
                result = (pd_sub_1 && result);
            }
            return result;
        };
        Wrapper_NgbModalWindow.prototype.subscribe = function (view, _eventHandler, emit0) {
            this._eventHandler = _eventHandler;
            if (emit0) {
                (this.subscription0 = this.context.dismissEvent.subscribe(_eventHandler.bind(view, 'dismiss')));
            }
        };
        return Wrapper_NgbModalWindow;
    }());
    var renderType_NgbModalWindow_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbModalWindow_Host0 = (function (_super) {
        __extends$94(View_NgbModalWindow_Host0, _super);
        function View_NgbModalWindow_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbModalWindow_Host0, renderType_NgbModalWindow_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbModalWindow_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'ngb-modal-window', new InlineArray8(6, 'role', 'dialog', 'style', 'display: block;', 'tabindex', '-1'), rootSelector, null);
            this.compView_0 = new View_NgbModalWindow0(this.viewUtils, this, 0, this._el_0);
            this._NgbModalWindow_0_3 = new Wrapper_NgbModalWindow(new ElementRef(this._el_0), this.renderer);
            this.compView_0.create(this._NgbModalWindow_0_3.context);
            var disposable_0 = subscribeToRenderElement(this, this._el_0, new InlineArray4(4, 'keyup.esc', null, 'click', null), this.eventHandler(this.handleEvent_0));
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), [disposable_0]);
            return new ComponentRef_(0, this, this._el_0, this._NgbModalWindow_0_3.context);
        };
        View_NgbModalWindow_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbModalWindow) && (0 === requestNodeIndex))) {
                return this._NgbModalWindow_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbModalWindow_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._NgbModalWindow_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this._NgbModalWindow_0_3.checkHost(this, this.compView_0, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
            if (!throwOnChange) {
                if ((this.numberOfChecks === 0)) {
                    this._NgbModalWindow_0_3.context.ngAfterViewInit();
                }
            }
        };
        View_NgbModalWindow_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
            this._NgbModalWindow_0_3.ngOnDestroy();
        };
        View_NgbModalWindow_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbModalWindow_Host0.prototype.visitProjectableNodesInternal = function (nodeIndex, ngContentIndex, cb, ctx) {
            if (((nodeIndex == 0) && (ngContentIndex == 0))) { }
        };
        View_NgbModalWindow_Host0.prototype.handleEvent_0 = function (eventName, $event) {
            this.compView_0.markPathToRootAsCheckOnce();
            var result = true;
            result = (this._NgbModalWindow_0_3.handleEvent(eventName, $event) && result);
            return result;
        };
        return View_NgbModalWindow_Host0;
    }(AppView));
    var NgbModalWindowNgFactory = new ComponentFactory('ngb-modal-window', View_NgbModalWindow_Host0, NgbModalWindow);
    var styles_NgbModalWindow = [];
    var renderType_NgbModalWindow = createRenderComponentType('', 1, ViewEncapsulation.None, styles_NgbModalWindow, {});
    var View_NgbModalWindow0 = (function (_super) {
        __extends$94(View_NgbModalWindow0, _super);
        function View_NgbModalWindow0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbModalWindow0, renderType_NgbModalWindow, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
            this._expr_6 = UNINITIALIZED;
        }
        View_NgbModalWindow0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._el_1 = createRenderElement(this.renderer, parentRenderNode, 'div', new InlineArray2(2, 'role', 'document'), null);
            this._text_2 = this.renderer.createText(this._el_1, '\n        ', null);
            this._el_3 = createRenderElement(this.renderer, this._el_1, 'div', new InlineArray2(2, 'class', 'modal-content'), null);
            this.projectNodes(this._el_3, 0);
            this._text_4 = this.renderer.createText(this._el_1, '\n    ', null);
            this._text_5 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._el_3,
                this._text_4,
                this._text_5
            ]), null);
            return null;
        };
        View_NgbModalWindow0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_6 = ('modal-dialog' + (this.context.size ? (' modal-' + this.context.size) : ''));
            if (checkBinding(throwOnChange, this._expr_6, currVal_6)) {
                this.renderer.setElementProperty(this._el_1, 'className', currVal_6);
                this._expr_6 = currVal_6;
            }
        };
        return View_NgbModalWindow0;
    }(AppView));
    var __extends$95 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_NgbPopoverWindow = (function () {
        function Wrapper_NgbPopoverWindow() {
            this._changed = false;
            this.context = new NgbPopoverWindow();
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
        }
        Wrapper_NgbPopoverWindow.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgbPopoverWindow.prototype.ngOnDestroy = function () {
        };
        Wrapper_NgbPopoverWindow.prototype.check_placement = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.placement = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgbPopoverWindow.prototype.check_title = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.title = currValue;
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgbPopoverWindow.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgbPopoverWindow.prototype.checkHost = function (view, componentView, el, throwOnChange) {
            var currVal_2 = ('popover in popover-' + this.context.placement);
            if (checkBinding(throwOnChange, this._expr_2, currVal_2)) {
                view.renderer.setElementProperty(el, 'className', currVal_2);
                this._expr_2 = currVal_2;
            }
        };
        Wrapper_NgbPopoverWindow.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgbPopoverWindow.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgbPopoverWindow;
    }());
    var renderType_NgbPopoverWindow_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_NgbPopoverWindow_Host0 = (function (_super) {
        __extends$95(View_NgbPopoverWindow_Host0, _super);
        function View_NgbPopoverWindow_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbPopoverWindow_Host0, renderType_NgbPopoverWindow_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_NgbPopoverWindow_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'ngb-popover-window', new InlineArray2(2, 'role', 'tooltip'), rootSelector, null);
            this.compView_0 = new View_NgbPopoverWindow0(this.viewUtils, this, 0, this._el_0);
            this._NgbPopoverWindow_0_3 = new Wrapper_NgbPopoverWindow();
            this.compView_0.create(this._NgbPopoverWindow_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._NgbPopoverWindow_0_3.context);
        };
        View_NgbPopoverWindow_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === NgbPopoverWindow) && (0 === requestNodeIndex))) {
                return this._NgbPopoverWindow_0_3.context;
            }
            return notFoundResult;
        };
        View_NgbPopoverWindow_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            if (this._NgbPopoverWindow_0_3.ngDoCheck(this, this._el_0, throwOnChange)) {
                this.compView_0.markAsCheckOnce();
            }
            this._NgbPopoverWindow_0_3.checkHost(this, this.compView_0, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_NgbPopoverWindow_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
        };
        View_NgbPopoverWindow_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_NgbPopoverWindow_Host0.prototype.visitProjectableNodesInternal = function (nodeIndex, ngContentIndex, cb, ctx) {
            if (((nodeIndex == 0) && (ngContentIndex == 0))) { }
        };
        return View_NgbPopoverWindow_Host0;
    }(AppView));
    var NgbPopoverWindowNgFactory = new ComponentFactory('ngb-popover-window', View_NgbPopoverWindow_Host0, NgbPopoverWindow);
    var styles_NgbPopoverWindow = [];
    var renderType_NgbPopoverWindow = createRenderComponentType('', 1, ViewEncapsulation.None, styles_NgbPopoverWindow, {});
    var View_NgbPopoverWindow0 = (function (_super) {
        __extends$95(View_NgbPopoverWindow0, _super);
        function View_NgbPopoverWindow0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_NgbPopoverWindow0, renderType_NgbPopoverWindow, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckOnce);
            this._expr_7 = UNINITIALIZED;
        }
        View_NgbPopoverWindow0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._el_1 = createRenderElement(this.renderer, parentRenderNode, 'div', new InlineArray2(2, 'class', 'popover-arrow'), null);
            this._text_2 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._el_3 = createRenderElement(this.renderer, parentRenderNode, 'h3', new InlineArray2(2, 'class', 'popover-title'), null);
            this._text_4 = this.renderer.createText(this._el_3, '', null);
            this._el_5 = createRenderElement(this.renderer, parentRenderNode, 'div', new InlineArray2(2, 'class', 'popover-content'), null);
            this.projectNodes(this._el_5, 0);
            this._text_6 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._el_3,
                this._text_4,
                this._el_5,
                this._text_6
            ]), null);
            return null;
        };
        View_NgbPopoverWindow0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_7 = inlineInterpolate(1, '', this.context.title, '');
            if (checkBinding(throwOnChange, this._expr_7, currVal_7)) {
                this.renderer.setText(this._text_4, currVal_7);
                this._expr_7 = currVal_7;
            }
        };
        return View_NgbPopoverWindow0;
    }(AppView));
    var Wrapper_NgForm = (function () {
        function Wrapper_NgForm(p0, p1) {
            this._changed = false;
            this.context = new NgForm(p0, p1);
        }
        Wrapper_NgForm.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgForm.prototype.ngOnDestroy = function () {
            (this.subscription0 && this.subscription0.unsubscribe());
        };
        Wrapper_NgForm.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgForm.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgForm.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            if ((eventName == 'submit')) {
                var pd_sub_0 = (this.context.onSubmit($event) !== false);
                result = (pd_sub_0 && result);
            }
            if ((eventName == 'reset')) {
                var pd_sub_1 = (this.context.onReset() !== false);
                result = (pd_sub_1 && result);
            }
            return result;
        };
        Wrapper_NgForm.prototype.subscribe = function (view, _eventHandler, emit0) {
            this._eventHandler = _eventHandler;
            if (emit0) {
                (this.subscription0 = this.context.ngSubmit.subscribe(_eventHandler.bind(view, 'ngSubmit')));
            }
        };
        return Wrapper_NgForm;
    }());
    var Wrapper_NgControlStatus = (function () {
        function Wrapper_NgControlStatus(p0) {
            this._changed = false;
            this.context = new NgControlStatus(p0);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
            this._expr_3 = UNINITIALIZED;
            this._expr_4 = UNINITIALIZED;
            this._expr_5 = UNINITIALIZED;
            this._expr_6 = UNINITIALIZED;
        }
        Wrapper_NgControlStatus.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgControlStatus.prototype.ngOnDestroy = function () {
        };
        Wrapper_NgControlStatus.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgControlStatus.prototype.checkHost = function (view, componentView, el, throwOnChange) {
            var currVal_0 = this.context.ngClassUntouched;
            if (checkBinding(throwOnChange, this._expr_0, currVal_0)) {
                view.renderer.setElementClass(el, 'ng-untouched', currVal_0);
                this._expr_0 = currVal_0;
            }
            var currVal_1 = this.context.ngClassTouched;
            if (checkBinding(throwOnChange, this._expr_1, currVal_1)) {
                view.renderer.setElementClass(el, 'ng-touched', currVal_1);
                this._expr_1 = currVal_1;
            }
            var currVal_2 = this.context.ngClassPristine;
            if (checkBinding(throwOnChange, this._expr_2, currVal_2)) {
                view.renderer.setElementClass(el, 'ng-pristine', currVal_2);
                this._expr_2 = currVal_2;
            }
            var currVal_3 = this.context.ngClassDirty;
            if (checkBinding(throwOnChange, this._expr_3, currVal_3)) {
                view.renderer.setElementClass(el, 'ng-dirty', currVal_3);
                this._expr_3 = currVal_3;
            }
            var currVal_4 = this.context.ngClassValid;
            if (checkBinding(throwOnChange, this._expr_4, currVal_4)) {
                view.renderer.setElementClass(el, 'ng-valid', currVal_4);
                this._expr_4 = currVal_4;
            }
            var currVal_5 = this.context.ngClassInvalid;
            if (checkBinding(throwOnChange, this._expr_5, currVal_5)) {
                view.renderer.setElementClass(el, 'ng-invalid', currVal_5);
                this._expr_5 = currVal_5;
            }
            var currVal_6 = this.context.ngClassPending;
            if (checkBinding(throwOnChange, this._expr_6, currVal_6)) {
                view.renderer.setElementClass(el, 'ng-pending', currVal_6);
                this._expr_6 = currVal_6;
            }
        };
        Wrapper_NgControlStatus.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgControlStatus.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgControlStatus;
    }());
    var Wrapper_NgControlStatusGroup = (function () {
        function Wrapper_NgControlStatusGroup(p0) {
            this._changed = false;
            this.context = new NgControlStatusGroup(p0);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
            this._expr_3 = UNINITIALIZED;
            this._expr_4 = UNINITIALIZED;
            this._expr_5 = UNINITIALIZED;
            this._expr_6 = UNINITIALIZED;
        }
        Wrapper_NgControlStatusGroup.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgControlStatusGroup.prototype.ngOnDestroy = function () {
        };
        Wrapper_NgControlStatusGroup.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_NgControlStatusGroup.prototype.checkHost = function (view, componentView, el, throwOnChange) {
            var currVal_0 = this.context.ngClassUntouched;
            if (checkBinding(throwOnChange, this._expr_0, currVal_0)) {
                view.renderer.setElementClass(el, 'ng-untouched', currVal_0);
                this._expr_0 = currVal_0;
            }
            var currVal_1 = this.context.ngClassTouched;
            if (checkBinding(throwOnChange, this._expr_1, currVal_1)) {
                view.renderer.setElementClass(el, 'ng-touched', currVal_1);
                this._expr_1 = currVal_1;
            }
            var currVal_2 = this.context.ngClassPristine;
            if (checkBinding(throwOnChange, this._expr_2, currVal_2)) {
                view.renderer.setElementClass(el, 'ng-pristine', currVal_2);
                this._expr_2 = currVal_2;
            }
            var currVal_3 = this.context.ngClassDirty;
            if (checkBinding(throwOnChange, this._expr_3, currVal_3)) {
                view.renderer.setElementClass(el, 'ng-dirty', currVal_3);
                this._expr_3 = currVal_3;
            }
            var currVal_4 = this.context.ngClassValid;
            if (checkBinding(throwOnChange, this._expr_4, currVal_4)) {
                view.renderer.setElementClass(el, 'ng-valid', currVal_4);
                this._expr_4 = currVal_4;
            }
            var currVal_5 = this.context.ngClassInvalid;
            if (checkBinding(throwOnChange, this._expr_5, currVal_5)) {
                view.renderer.setElementClass(el, 'ng-invalid', currVal_5);
                this._expr_5 = currVal_5;
            }
            var currVal_6 = this.context.ngClassPending;
            if (checkBinding(throwOnChange, this._expr_6, currVal_6)) {
                view.renderer.setElementClass(el, 'ng-pending', currVal_6);
                this._expr_6 = currVal_6;
            }
        };
        Wrapper_NgControlStatusGroup.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgControlStatusGroup.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_NgControlStatusGroup;
    }());
    var Wrapper_DefaultValueAccessor = (function () {
        function Wrapper_DefaultValueAccessor(p0, p1) {
            this._changed = false;
            this.context = new DefaultValueAccessor(p0, p1);
        }
        Wrapper_DefaultValueAccessor.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_DefaultValueAccessor.prototype.ngOnDestroy = function () {
        };
        Wrapper_DefaultValueAccessor.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_DefaultValueAccessor.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_DefaultValueAccessor.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            if ((eventName == 'input')) {
                var pd_sub_0 = (this.context.onChange($event.target.value) !== false);
                result = (pd_sub_0 && result);
            }
            if ((eventName == 'blur')) {
                var pd_sub_1 = (this.context.onTouched() !== false);
                result = (pd_sub_1 && result);
            }
            return result;
        };
        Wrapper_DefaultValueAccessor.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_DefaultValueAccessor;
    }());
    var Wrapper_NgModel = (function () {
        function Wrapper_NgModel(p0, p1, p2, p3) {
            this._changed = false;
            this._changes = {};
            this.context = new NgModel(p0, p1, p2, p3);
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
            this._expr_2 = UNINITIALIZED;
            this._expr_3 = UNINITIALIZED;
        }
        Wrapper_NgModel.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_NgModel.prototype.ngOnDestroy = function () {
            this.context.ngOnDestroy();
            (this.subscription0 && this.subscription0.unsubscribe());
        };
        Wrapper_NgModel.prototype.check_name = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.name = currValue;
                this._changes['name'] = new SimpleChange(this._expr_0, currValue);
                this._expr_0 = currValue;
            }
        };
        Wrapper_NgModel.prototype.check_isDisabled = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.isDisabled = currValue;
                this._changes['isDisabled'] = new SimpleChange(this._expr_1, currValue);
                this._expr_1 = currValue;
            }
        };
        Wrapper_NgModel.prototype.check_model = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_2, currValue))) {
                this._changed = true;
                this.context.model = currValue;
                this._changes['model'] = new SimpleChange(this._expr_2, currValue);
                this._expr_2 = currValue;
            }
        };
        Wrapper_NgModel.prototype.check_options = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_3, currValue))) {
                this._changed = true;
                this.context.options = currValue;
                this._changes['options'] = new SimpleChange(this._expr_3, currValue);
                this._expr_3 = currValue;
            }
        };
        Wrapper_NgModel.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            if (!throwOnChange) {
                if (changed) {
                    this.context.ngOnChanges(this._changes);
                    this._changes = {};
                }
            }
            return changed;
        };
        Wrapper_NgModel.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_NgModel.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_NgModel.prototype.subscribe = function (view, _eventHandler, emit0) {
            this._eventHandler = _eventHandler;
            if (emit0) {
                (this.subscription0 = this.context.update.subscribe(_eventHandler.bind(view, 'ngModelChange')));
            }
        };
        return Wrapper_NgModel;
    }());
    var __extends$96 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_HomeComponent = (function () {
        function Wrapper_HomeComponent(p0) {
            this._changed = false;
            this.context = new HomeComponent(p0);
        }
        Wrapper_HomeComponent.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_HomeComponent.prototype.ngOnDestroy = function () {
        };
        Wrapper_HomeComponent.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_HomeComponent.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_HomeComponent.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_HomeComponent.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_HomeComponent;
    }());
    var renderType_HomeComponent_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_HomeComponent_Host0 = (function (_super) {
        __extends$96(View_HomeComponent_Host0, _super);
        function View_HomeComponent_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_HomeComponent_Host0, renderType_HomeComponent_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_HomeComponent_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'home', EMPTY_INLINE_ARRAY, rootSelector, null);
            this.compView_0 = new View_HomeComponent0(this.viewUtils, this, 0, this._el_0);
            this._HomeComponent_0_3 = new Wrapper_HomeComponent(this.injectorGet(Router, this.parentIndex));
            this.compView_0.create(this._HomeComponent_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._HomeComponent_0_3.context);
        };
        View_HomeComponent_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === HomeComponent) && (0 === requestNodeIndex))) {
                return this._HomeComponent_0_3.context;
            }
            return notFoundResult;
        };
        View_HomeComponent_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._HomeComponent_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_HomeComponent_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
        };
        View_HomeComponent_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_HomeComponent_Host0;
    }(AppView));
    var HomeComponentNgFactory = new ComponentFactory('home', View_HomeComponent_Host0, HomeComponent);
    var styles_HomeComponent = [];
    var renderType_HomeComponent = createRenderComponentType('', 0, ViewEncapsulation.None, styles_HomeComponent, {});
    var View_HomeComponent0 = (function (_super) {
        __extends$96(View_HomeComponent0, _super);
        function View_HomeComponent0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_HomeComponent0, renderType_HomeComponent, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_HomeComponent0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n\n', null);
            this._el_1 = createRenderElement(this.renderer, parentRenderNode, 'h2', EMPTY_INLINE_ARRAY, null);
            this._text_2 = this.renderer.createText(this._el_1, 'Home View', null);
            this._text_3 = this.renderer.createText(parentRenderNode, '\n\n', null);
            this._el_4 = createRenderElement(this.renderer, parentRenderNode, 'div', new InlineArray2(2, 'class', 'embedded-page'), null);
            this._text_5 = this.renderer.createText(this._el_4, '\n\n    ', null);
            this._el_6 = createRenderElement(this.renderer, this._el_4, 'div', new InlineArray2(2, 'class', 'container-fluid'), null);
            this._text_7 = this.renderer.createText(this._el_6, '\n        ', null);
            this._el_8 = createRenderElement(this.renderer, this._el_6, 'div', new InlineArray2(2, 'class', 'row'), null);
            this._text_9 = this.renderer.createText(this._el_8, '\n            ', null);
            this._el_10 = createRenderElement(this.renderer, this._el_8, 'div', new InlineArray2(2, 'class', 'col-lg-4 col-md-5 col-sm-6'), null);
            this._text_11 = this.renderer.createText(this._el_10, '\n                ', null);
            this._el_12 = createRenderElement(this.renderer, this._el_10, 'article', new InlineArray2(2, 'class', 'panel panel-alt'), null);
            this._text_13 = this.renderer.createText(this._el_12, '\n                    ', null);
            this._el_14 = createRenderElement(this.renderer, this._el_12, 'div', new InlineArray2(2, 'class', 'panel-heading'), null);
            this._text_15 = this.renderer.createText(this._el_14, 'Login', null);
            this._text_16 = this.renderer.createText(this._el_12, '\n                    ', null);
            this._el_17 = createRenderElement(this.renderer, this._el_12, 'div', new InlineArray2(2, 'class', 'panel-body panel-list'), null);
            this._text_18 = this.renderer.createText(this._el_17, '\n\n                        ', null);
            this._el_19 = createRenderElement(this.renderer, this._el_17, 'form', new InlineArray2(2, 'class', 'login-form ng-pristine ng-valid'), null);
            this._NgForm_19_3 = new Wrapper_NgForm(null, null);
            this._ControlContainer_19_4 = this._NgForm_19_3.context;
            this._NgControlStatusGroup_19_5 = new Wrapper_NgControlStatusGroup(this._ControlContainer_19_4);
            this._text_20 = this.renderer.createText(this._el_19, '\n\n                            ', null);
            this._el_21 = createRenderElement(this.renderer, this._el_19, 'div', new InlineArray2(2, 'class', 'form-group'), null);
            this._text_22 = this.renderer.createText(this._el_21, '\n                                ', null);
            this._el_23 = createRenderElement(this.renderer, this._el_21, 'div', new InlineArray2(2, 'class', 'col-no-pad'), null);
            this._text_24 = this.renderer.createText(this._el_23, '\n                                    ', null);
            this._el_25 = createRenderElement(this.renderer, this._el_23, 'input', new InlineArray16(10, 'class', 'form-control', 'id', 'txtLogin', 'name', 'txtLogin', 'placeholder', 'Username', 'type', 'text'), null);
            this._DefaultValueAccessor_25_3 = new Wrapper_DefaultValueAccessor(this.renderer, new ElementRef(this._el_25));
            this._NG_VALUE_ACCESSOR_25_4 = [this._DefaultValueAccessor_25_3.context];
            this._NgModel_25_5 = new Wrapper_NgModel(this._ControlContainer_19_4, null, null, this._NG_VALUE_ACCESSOR_25_4);
            this._NgControl_25_6 = this._NgModel_25_5.context;
            this._NgControlStatus_25_7 = new Wrapper_NgControlStatus(this._NgControl_25_6);
            this._text_26 = this.renderer.createText(this._el_23, '\n                                ', null);
            this._text_27 = this.renderer.createText(this._el_21, '\n                            ', null);
            this._text_28 = this.renderer.createText(this._el_19, '\n\n                            ', null);
            this._el_29 = createRenderElement(this.renderer, this._el_19, 'div', new InlineArray2(2, 'class', 'form-group'), null);
            this._text_30 = this.renderer.createText(this._el_29, '\n                                ', null);
            this._el_31 = createRenderElement(this.renderer, this._el_29, 'div', new InlineArray2(2, 'class', 'col-no-pad'), null);
            this._text_32 = this.renderer.createText(this._el_31, '\n                                    ', null);
            this._el_33 = createRenderElement(this.renderer, this._el_31, 'input', new InlineArray16(10, 'class', 'form-control', 'id', 'txtPassword', 'name', 'txtPassword', 'placeholder', 'Password', 'type', 'password'), null);
            this._DefaultValueAccessor_33_3 = new Wrapper_DefaultValueAccessor(this.renderer, new ElementRef(this._el_33));
            this._NG_VALUE_ACCESSOR_33_4 = [this._DefaultValueAccessor_33_3.context];
            this._NgModel_33_5 = new Wrapper_NgModel(this._ControlContainer_19_4, null, null, this._NG_VALUE_ACCESSOR_33_4);
            this._NgControl_33_6 = this._NgModel_33_5.context;
            this._NgControlStatus_33_7 = new Wrapper_NgControlStatus(this._NgControl_33_6);
            this._text_34 = this.renderer.createText(this._el_31, '\n\n                                ', null);
            this._text_35 = this.renderer.createText(this._el_29, '\n                            ', null);
            this._text_36 = this.renderer.createText(this._el_19, '\n\n                            ', null);
            this._el_37 = createRenderElement(this.renderer, this._el_19, 'button', new InlineArray4(4, 'class', 'btn btn-circ btn-primary', 'id', 'btnSignIn'), null);
            this._text_38 = this.renderer.createText(this._el_37, 'Sign In', null);
            this._text_39 = this.renderer.createText(this._el_19, '\n                        ', null);
            this._text_40 = this.renderer.createText(this._el_17, '\n                    ', null);
            this._text_41 = this.renderer.createText(this._el_12, '\n                ', null);
            this._text_42 = this.renderer.createText(this._el_10, '\n            ', null);
            this._text_43 = this.renderer.createText(this._el_8, '\n        ', null);
            this._text_44 = this.renderer.createText(this._el_6, '\n    ', null);
            this._text_45 = this.renderer.createText(this._el_4, '\n', null);
            var disposable_0 = subscribeToRenderElement(this, this._el_19, new InlineArray4(4, 'submit', null, 'reset', null), this.eventHandler(this.handleEvent_19));
            var disposable_1 = subscribeToRenderElement(this, this._el_25, new InlineArray8(6, 'ngModelChange', null, 'input', null, 'blur', null), this.eventHandler(this.handleEvent_25));
            this._NgModel_25_5.subscribe(this, this.eventHandler(this.handleEvent_25), true);
            var disposable_2 = subscribeToRenderElement(this, this._el_33, new InlineArray8(6, 'ngModelChange', null, 'input', null, 'blur', null), this.eventHandler(this.handleEvent_33));
            this._NgModel_33_5.subscribe(this, this.eventHandler(this.handleEvent_33), true);
            var disposable_3 = subscribeToRenderElement(this, this._el_37, new InlineArray2(2, 'click', null), this.eventHandler(this.handleEvent_37));
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._text_3,
                this._el_4,
                this._text_5,
                this._el_6,
                this._text_7,
                this._el_8,
                this._text_9,
                this._el_10,
                this._text_11,
                this._el_12,
                this._text_13,
                this._el_14,
                this._text_15,
                this._text_16,
                this._el_17,
                this._text_18,
                this._el_19,
                this._text_20,
                this._el_21,
                this._text_22,
                this._el_23,
                this._text_24,
                this._el_25,
                this._text_26,
                this._text_27,
                this._text_28,
                this._el_29,
                this._text_30,
                this._el_31,
                this._text_32,
                this._el_33,
                this._text_34,
                this._text_35,
                this._text_36,
                this._el_37,
                this._text_38,
                this._text_39,
                this._text_40,
                this._text_41,
                this._text_42,
                this._text_43,
                this._text_44,
                this._text_45
            ]), [
                disposable_0,
                disposable_1,
                disposable_2,
                disposable_3
            ]);
            return null;
        };
        View_HomeComponent0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === DefaultValueAccessor) && (25 === requestNodeIndex))) {
                return this._DefaultValueAccessor_25_3.context;
            }
            if (((token === NG_VALUE_ACCESSOR) && (25 === requestNodeIndex))) {
                return this._NG_VALUE_ACCESSOR_25_4;
            }
            if (((token === NgModel) && (25 === requestNodeIndex))) {
                return this._NgModel_25_5.context;
            }
            if (((token === NgControl) && (25 === requestNodeIndex))) {
                return this._NgControl_25_6;
            }
            if (((token === NgControlStatus) && (25 === requestNodeIndex))) {
                return this._NgControlStatus_25_7.context;
            }
            if (((token === DefaultValueAccessor) && (33 === requestNodeIndex))) {
                return this._DefaultValueAccessor_33_3.context;
            }
            if (((token === NG_VALUE_ACCESSOR) && (33 === requestNodeIndex))) {
                return this._NG_VALUE_ACCESSOR_33_4;
            }
            if (((token === NgModel) && (33 === requestNodeIndex))) {
                return this._NgModel_33_5.context;
            }
            if (((token === NgControl) && (33 === requestNodeIndex))) {
                return this._NgControl_33_6;
            }
            if (((token === NgControlStatus) && (33 === requestNodeIndex))) {
                return this._NgControlStatus_33_7.context;
            }
            if (((token === NgForm) && ((19 <= requestNodeIndex) && (requestNodeIndex <= 39)))) {
                return this._NgForm_19_3.context;
            }
            if (((token === ControlContainer) && ((19 <= requestNodeIndex) && (requestNodeIndex <= 39)))) {
                return this._ControlContainer_19_4;
            }
            if (((token === NgControlStatusGroup) && ((19 <= requestNodeIndex) && (requestNodeIndex <= 39)))) {
                return this._NgControlStatusGroup_19_5.context;
            }
            return notFoundResult;
        };
        View_HomeComponent0.prototype.detectChangesInternal = function (throwOnChange) {
            this._NgForm_19_3.ngDoCheck(this, this._el_19, throwOnChange);
            this._NgControlStatusGroup_19_5.ngDoCheck(this, this._el_19, throwOnChange);
            this._DefaultValueAccessor_25_3.ngDoCheck(this, this._el_25, throwOnChange);
            var currVal_25_1_0 = 'txtLogin';
            this._NgModel_25_5.check_name(currVal_25_1_0, throwOnChange, false);
            var currVal_25_1_1 = this.context.userName;
            this._NgModel_25_5.check_model(currVal_25_1_1, throwOnChange, false);
            this._NgModel_25_5.ngDoCheck(this, this._el_25, throwOnChange);
            this._NgControlStatus_25_7.ngDoCheck(this, this._el_25, throwOnChange);
            this._DefaultValueAccessor_33_3.ngDoCheck(this, this._el_33, throwOnChange);
            var currVal_33_1_0 = 'txtPassword';
            this._NgModel_33_5.check_name(currVal_33_1_0, throwOnChange, false);
            var currVal_33_1_1 = this.context.password;
            this._NgModel_33_5.check_model(currVal_33_1_1, throwOnChange, false);
            this._NgModel_33_5.ngDoCheck(this, this._el_33, throwOnChange);
            this._NgControlStatus_33_7.ngDoCheck(this, this._el_33, throwOnChange);
            this._NgControlStatusGroup_19_5.checkHost(this, this, this._el_19, throwOnChange);
            this._NgControlStatus_25_7.checkHost(this, this, this._el_25, throwOnChange);
            this._NgControlStatus_33_7.checkHost(this, this, this._el_33, throwOnChange);
        };
        View_HomeComponent0.prototype.destroyInternal = function () {
            this._NgModel_25_5.ngOnDestroy();
            this._NgModel_33_5.ngOnDestroy();
            this._NgForm_19_3.ngOnDestroy();
        };
        View_HomeComponent0.prototype.handleEvent_19 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            result = (this._NgForm_19_3.handleEvent(eventName, $event) && result);
            return result;
        };
        View_HomeComponent0.prototype.handleEvent_25 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            result = (this._DefaultValueAccessor_25_3.handleEvent(eventName, $event) && result);
            if ((eventName == 'ngModelChange')) {
                var pd_sub_0 = ((this.context.userName = $event) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        View_HomeComponent0.prototype.handleEvent_33 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            result = (this._DefaultValueAccessor_33_3.handleEvent(eventName, $event) && result);
            if ((eventName == 'ngModelChange')) {
                var pd_sub_0 = ((this.context.password = $event) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        View_HomeComponent0.prototype.handleEvent_37 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'click')) {
                var pd_sub_0 = (this.context.login() !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        return View_HomeComponent0;
    }(AppView));
    var __extends$97 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_FruitListComponent = (function () {
        function Wrapper_FruitListComponent(p0, p1) {
            this._changed = false;
            this.context = new FruitListComponent(p0, p1);
        }
        Wrapper_FruitListComponent.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_FruitListComponent.prototype.ngOnDestroy = function () {
        };
        Wrapper_FruitListComponent.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            if (!throwOnChange) {
                if ((view.numberOfChecks === 0)) {
                    this.context.ngOnInit();
                }
            }
            return changed;
        };
        Wrapper_FruitListComponent.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_FruitListComponent.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_FruitListComponent.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_FruitListComponent;
    }());
    var renderType_FruitListComponent_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_FruitListComponent_Host0 = (function (_super) {
        __extends$97(View_FruitListComponent_Host0, _super);
        function View_FruitListComponent_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_FruitListComponent_Host0, renderType_FruitListComponent_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_FruitListComponent_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'fruit-list', EMPTY_INLINE_ARRAY, rootSelector, null);
            this.compView_0 = new View_FruitListComponent0(this.viewUtils, this, 0, this._el_0);
            this._FruitService_0_3 = new FruitService(this.injectorGet(Http, this.parentIndex));
            this._FruitListComponent_0_4 = new Wrapper_FruitListComponent(this._FruitService_0_3, this.injectorGet(Router, this.parentIndex));
            this.compView_0.create(this._FruitListComponent_0_4.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._FruitListComponent_0_4.context);
        };
        View_FruitListComponent_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === FruitService) && (0 === requestNodeIndex))) {
                return this._FruitService_0_3;
            }
            if (((token === FruitListComponent) && (0 === requestNodeIndex))) {
                return this._FruitListComponent_0_4.context;
            }
            return notFoundResult;
        };
        View_FruitListComponent_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._FruitListComponent_0_4.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_FruitListComponent_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
        };
        View_FruitListComponent_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_FruitListComponent_Host0;
    }(AppView));
    var FruitListComponentNgFactory = new ComponentFactory('fruit-list', View_FruitListComponent_Host0, FruitListComponent);
    var styles_FruitListComponent = [];
    var View_FruitListComponent1 = (function (_super) {
        __extends$97(View_FruitListComponent1, _super);
        function View_FruitListComponent1(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_FruitListComponent1, renderType_FruitListComponent, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_FruitListComponent1.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'div', EMPTY_INLINE_ARRAY, null);
            this._text_1 = this.renderer.createText(this._el_0, 'loading...', null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1
            ]), null);
            return null;
        };
        View_FruitListComponent1.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_FruitListComponent1;
    }(AppView));
    var View_FruitListComponent3 = (function (_super) {
        __extends$97(View_FruitListComponent3, _super);
        function View_FruitListComponent3(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_FruitListComponent3, renderType_FruitListComponent, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
            this._expr_15 = UNINITIALIZED;
            this._expr_16 = UNINITIALIZED;
            this._expr_17 = UNINITIALIZED;
            this._expr_18 = UNINITIALIZED;
            this._expr_19 = UNINITIALIZED;
        }
        View_FruitListComponent3.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'tr', EMPTY_INLINE_ARRAY, null);
            this._text_1 = this.renderer.createText(this._el_0, '\n                ', null);
            this._el_2 = createRenderElement(this.renderer, this._el_0, 'td', EMPTY_INLINE_ARRAY, null);
            this._el_3 = createRenderElement(this.renderer, this._el_2, 'a', new InlineArray2(2, 'target', 'new'), null);
            this._text_4 = this.renderer.createText(this._el_3, '', null);
            this._text_5 = this.renderer.createText(this._el_0, '\n                ', null);
            this._el_6 = createRenderElement(this.renderer, this._el_0, 'td', EMPTY_INLINE_ARRAY, null);
            this._text_7 = this.renderer.createText(this._el_6, '', null);
            this._text_8 = this.renderer.createText(this._el_0, '\n                ', null);
            this._el_9 = createRenderElement(this.renderer, this._el_0, 'td', EMPTY_INLINE_ARRAY, null);
            this._text_10 = this.renderer.createText(this._el_9, '', null);
            this._text_11 = this.renderer.createText(this._el_0, '\n                ', null);
            this._el_12 = createRenderElement(this.renderer, this._el_0, 'td', EMPTY_INLINE_ARRAY, null);
            this._el_13 = createRenderElement(this.renderer, this._el_12, 'img', new InlineArray2(2, 'style', 'height: 75px; width: 75px;'), null);
            this._text_14 = this.renderer.createText(this._el_0, '\n            ', null);
            var disposable_0 = subscribeToRenderElement(this, this._el_0, new InlineArray2(2, 'click', null), this.eventHandler(this.handleEvent_0));
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1,
                this._el_2,
                this._el_3,
                this._text_4,
                this._text_5,
                this._el_6,
                this._text_7,
                this._text_8,
                this._el_9,
                this._text_10,
                this._text_11,
                this._el_12,
                this._el_13,
                this._text_14
            ]), [disposable_0]);
            return null;
        };
        View_FruitListComponent3.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_15 = inlineInterpolate(1, '', this.context.$implicit.url, '');
            if (checkBinding(throwOnChange, this._expr_15, currVal_15)) {
                this.renderer.setElementProperty(this._el_3, 'href', this.viewUtils.sanitizer.sanitize(SecurityContext.URL, currVal_15));
                this._expr_15 = currVal_15;
            }
            var currVal_16 = inlineInterpolate(1, '', this.context.$implicit.common_name, '');
            if (checkBinding(throwOnChange, this._expr_16, currVal_16)) {
                this.renderer.setText(this._text_4, currVal_16);
                this._expr_16 = currVal_16;
            }
            var currVal_17 = inlineInterpolate(1, '', this.context.$implicit.species, '');
            if (checkBinding(throwOnChange, this._expr_17, currVal_17)) {
                this.renderer.setText(this._text_7, currVal_17);
                this._expr_17 = currVal_17;
            }
            var currVal_18 = inlineInterpolate(1, '', this.context.$implicit.region, '');
            if (checkBinding(throwOnChange, this._expr_18, currVal_18)) {
                this.renderer.setText(this._text_10, currVal_18);
                this._expr_18 = currVal_18;
            }
            var currVal_19 = inlineInterpolate(1, '', this.context.$implicit.image_url, '');
            if (checkBinding(throwOnChange, this._expr_19, currVal_19)) {
                this.renderer.setElementProperty(this._el_13, 'src', this.viewUtils.sanitizer.sanitize(SecurityContext.URL, currVal_19));
                this._expr_19 = currVal_19;
            }
        };
        View_FruitListComponent3.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_FruitListComponent3.prototype.handleEvent_0 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'click')) {
                var pd_sub_0 = (this.parentView.parentView.context.loadDetail(this.context.$implicit) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        return View_FruitListComponent3;
    }(AppView));
    var View_FruitListComponent2 = (function (_super) {
        __extends$97(View_FruitListComponent2, _super);
        function View_FruitListComponent2(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
            _super.call(this, View_FruitListComponent2, renderType_FruitListComponent, ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways, declaredViewContainer);
        }
        View_FruitListComponent2.prototype.createInternal = function (rootSelector) {
            this._el_0 = createRenderElement(this.renderer, null, 'table', new InlineArray2(2, 'class', 'table table-condensed table-hover'), null);
            this._text_1 = this.renderer.createText(this._el_0, '\n        ', null);
            this._el_2 = createRenderElement(this.renderer, this._el_0, 'thead', EMPTY_INLINE_ARRAY, null);
            this._text_3 = this.renderer.createText(this._el_2, '\n            ', null);
            this._el_4 = createRenderElement(this.renderer, this._el_2, 'tr', EMPTY_INLINE_ARRAY, null);
            this._text_5 = this.renderer.createText(this._el_4, '\n                ', null);
            this._el_6 = createRenderElement(this.renderer, this._el_4, 'th', new InlineArray2(2, 'style', 'width: 200px;'), null);
            this._text_7 = this.renderer.createText(this._el_6, 'Name', null);
            this._text_8 = this.renderer.createText(this._el_4, '\n                ', null);
            this._el_9 = createRenderElement(this.renderer, this._el_4, 'th', new InlineArray2(2, 'style', 'width: 200px;'), null);
            this._text_10 = this.renderer.createText(this._el_9, 'Species', null);
            this._text_11 = this.renderer.createText(this._el_4, '\n                ', null);
            this._el_12 = createRenderElement(this.renderer, this._el_4, 'th', new InlineArray2(2, 'style', 'width: 200px;'), null);
            this._text_13 = this.renderer.createText(this._el_12, 'Region', null);
            this._text_14 = this.renderer.createText(this._el_4, '\n                ', null);
            this._el_15 = createRenderElement(this.renderer, this._el_4, 'th', EMPTY_INLINE_ARRAY, null);
            this._text_16 = this.renderer.createText(this._el_15, 'Image', null);
            this._text_17 = this.renderer.createText(this._el_4, '\n            ', null);
            this._text_18 = this.renderer.createText(this._el_2, '\n        ', null);
            this._text_19 = this.renderer.createText(this._el_0, '\n        ', null);
            this._el_20 = createRenderElement(this.renderer, this._el_0, 'tbody', EMPTY_INLINE_ARRAY, null);
            this._text_21 = this.renderer.createText(this._el_20, '\n            ', null);
            this._text_22 = this.renderer.createText(this._el_20, '\n            ', null);
            this._anchor_23 = this.renderer.createTemplateAnchor(this._el_20, null);
            this._vc_23 = new ViewContainer(23, 20, this, this._anchor_23);
            this._TemplateRef_23_5 = new TemplateRef_(this, 23, this._anchor_23);
            this._NgFor_23_6 = new Wrapper_NgFor(this._vc_23.vcRef, this._TemplateRef_23_5, this.parentView.parentView.injectorGet(IterableDiffers, this.parentView.parentIndex), this.parentView.ref);
            this._text_24 = this.renderer.createText(this._el_20, '\n        ', null);
            this._text_25 = this.renderer.createText(this._el_0, '\n    ', null);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1,
                this._el_2,
                this._text_3,
                this._el_4,
                this._text_5,
                this._el_6,
                this._text_7,
                this._text_8,
                this._el_9,
                this._text_10,
                this._text_11,
                this._el_12,
                this._text_13,
                this._text_14,
                this._el_15,
                this._text_16,
                this._text_17,
                this._text_18,
                this._text_19,
                this._el_20,
                this._text_21,
                this._text_22,
                this._anchor_23,
                this._text_24,
                this._text_25
            ]), null);
            return null;
        };
        View_FruitListComponent2.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (23 === requestNodeIndex))) {
                return this._TemplateRef_23_5;
            }
            if (((token === NgFor) && (23 === requestNodeIndex))) {
                return this._NgFor_23_6.context;
            }
            return notFoundResult;
        };
        View_FruitListComponent2.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_23_0_0 = this.parentView.context.rowData;
            this._NgFor_23_6.check_ngForOf(currVal_23_0_0, throwOnChange, false);
            this._NgFor_23_6.ngDoCheck(this, this._anchor_23, throwOnChange);
            this._vc_23.detectChangesInNestedViews(throwOnChange);
        };
        View_FruitListComponent2.prototype.destroyInternal = function () {
            this._vc_23.destroyNestedViews();
        };
        View_FruitListComponent2.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        View_FruitListComponent2.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 23)) {
                return new View_FruitListComponent3(this.viewUtils, this, 23, this._anchor_23, this._vc_23);
            }
            return null;
        };
        return View_FruitListComponent2;
    }(AppView));
    var renderType_FruitListComponent = createRenderComponentType('', 0, ViewEncapsulation.None, styles_FruitListComponent, {});
    var View_FruitListComponent0 = (function (_super) {
        __extends$97(View_FruitListComponent0, _super);
        function View_FruitListComponent0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_FruitListComponent0, renderType_FruitListComponent, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_FruitListComponent0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n\n', null);
            this._el_1 = createRenderElement(this.renderer, parentRenderNode, 'div', EMPTY_INLINE_ARRAY, null);
            this._text_2 = this.renderer.createText(this._el_1, '\n\n    ', null);
            this._el_3 = createRenderElement(this.renderer, this._el_1, 'h2', EMPTY_INLINE_ARRAY, null);
            this._text_4 = this.renderer.createText(this._el_3, 'List View', null);
            this._text_5 = this.renderer.createText(this._el_1, '\n\n    ', null);
            this._text_6 = this.renderer.createText(this._el_1, '\n    ', null);
            this._anchor_7 = this.renderer.createTemplateAnchor(this._el_1, null);
            this._vc_7 = new ViewContainer(7, 1, this, this._anchor_7);
            this._TemplateRef_7_5 = new TemplateRef_(this, 7, this._anchor_7);
            this._NgIf_7_6 = new Wrapper_NgIf(this._vc_7.vcRef, this._TemplateRef_7_5);
            this._text_8 = this.renderer.createText(this._el_1, '\n    \n    ', null);
            this._el_9 = createRenderElement(this.renderer, this._el_1, 'button', new InlineArray2(2, 'class', 'btn btn-circ btn-primary'), null);
            this._text_10 = this.renderer.createText(this._el_9, 'Lazy Load Vendor Module', null);
            this._text_11 = this.renderer.createText(this._el_1, '\n\n    ', null);
            this._text_12 = this.renderer.createText(this._el_1, '\n    ', null);
            this._anchor_13 = this.renderer.createTemplateAnchor(this._el_1, null);
            this._vc_13 = new ViewContainer(13, 1, this, this._anchor_13);
            this._TemplateRef_13_5 = new TemplateRef_(this, 13, this._anchor_13);
            this._NgIf_13_6 = new Wrapper_NgIf(this._vc_13.vcRef, this._TemplateRef_13_5);
            this._text_14 = this.renderer.createText(this._el_1, '\n', null);
            var disposable_0 = subscribeToRenderElement(this, this._el_9, new InlineArray2(2, 'click', null), this.eventHandler(this.handleEvent_9));
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._el_3,
                this._text_4,
                this._text_5,
                this._text_6,
                this._anchor_7,
                this._text_8,
                this._el_9,
                this._text_10,
                this._text_11,
                this._text_12,
                this._anchor_13,
                this._text_14
            ]), [disposable_0]);
            return null;
        };
        View_FruitListComponent0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === TemplateRef) && (7 === requestNodeIndex))) {
                return this._TemplateRef_7_5;
            }
            if (((token === NgIf) && (7 === requestNodeIndex))) {
                return this._NgIf_7_6.context;
            }
            if (((token === TemplateRef) && (13 === requestNodeIndex))) {
                return this._TemplateRef_13_5;
            }
            if (((token === NgIf) && (13 === requestNodeIndex))) {
                return this._NgIf_13_6.context;
            }
            return notFoundResult;
        };
        View_FruitListComponent0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_7_0_0 = this.context.loading;
            this._NgIf_7_6.check_ngIf(currVal_7_0_0, throwOnChange, false);
            this._NgIf_7_6.ngDoCheck(this, this._anchor_7, throwOnChange);
            var currVal_13_0_0 = !this.context.loading;
            this._NgIf_13_6.check_ngIf(currVal_13_0_0, throwOnChange, false);
            this._NgIf_13_6.ngDoCheck(this, this._anchor_13, throwOnChange);
            this._vc_7.detectChangesInNestedViews(throwOnChange);
            this._vc_13.detectChangesInNestedViews(throwOnChange);
        };
        View_FruitListComponent0.prototype.destroyInternal = function () {
            this._vc_7.destroyNestedViews();
            this._vc_13.destroyNestedViews();
        };
        View_FruitListComponent0.prototype.createEmbeddedViewInternal = function (nodeIndex) {
            if ((nodeIndex == 7)) {
                return new View_FruitListComponent1(this.viewUtils, this, 7, this._anchor_7, this._vc_7);
            }
            if ((nodeIndex == 13)) {
                return new View_FruitListComponent2(this.viewUtils, this, 13, this._anchor_13, this._vc_13);
            }
            return null;
        };
        View_FruitListComponent0.prototype.handleEvent_9 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            if ((eventName == 'click')) {
                var pd_sub_0 = (this.context.loadVendor() !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        return View_FruitListComponent0;
    }(AppView));
    var __extends$99 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_FruitItemImageComponent = (function () {
        function Wrapper_FruitItemImageComponent() {
            this._changed = false;
            this.context = new FruitItemImageComponent();
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
        }
        Wrapper_FruitItemImageComponent.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_FruitItemImageComponent.prototype.ngOnDestroy = function () {
        };
        Wrapper_FruitItemImageComponent.prototype.check_targetUrl = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.targetUrl = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_FruitItemImageComponent.prototype.check_imageUrl = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_1, currValue))) {
                this._changed = true;
                this.context.imageUrl = currValue;
                this._expr_1 = currValue;
            }
        };
        Wrapper_FruitItemImageComponent.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_FruitItemImageComponent.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_FruitItemImageComponent.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_FruitItemImageComponent.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_FruitItemImageComponent;
    }());
    var renderType_FruitItemImageComponent_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_FruitItemImageComponent_Host0 = (function (_super) {
        __extends$99(View_FruitItemImageComponent_Host0, _super);
        function View_FruitItemImageComponent_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_FruitItemImageComponent_Host0, renderType_FruitItemImageComponent_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_FruitItemImageComponent_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'fruititem-image', EMPTY_INLINE_ARRAY, rootSelector, null);
            this.compView_0 = new View_FruitItemImageComponent0(this.viewUtils, this, 0, this._el_0);
            this._FruitItemImageComponent_0_3 = new Wrapper_FruitItemImageComponent();
            this.compView_0.create(this._FruitItemImageComponent_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._FruitItemImageComponent_0_3.context);
        };
        View_FruitItemImageComponent_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === FruitItemImageComponent) && (0 === requestNodeIndex))) {
                return this._FruitItemImageComponent_0_3.context;
            }
            return notFoundResult;
        };
        View_FruitItemImageComponent_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._FruitItemImageComponent_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_FruitItemImageComponent_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
        };
        View_FruitItemImageComponent_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_FruitItemImageComponent_Host0;
    }(AppView));
    var FruitItemImageComponentNgFactory = new ComponentFactory('fruititem-image', View_FruitItemImageComponent_Host0, FruitItemImageComponent);
    var styles_FruitItemImageComponent = [];
    var renderType_FruitItemImageComponent = createRenderComponentType('', 0, ViewEncapsulation.None, styles_FruitItemImageComponent, {});
    var View_FruitItemImageComponent0 = (function (_super) {
        __extends$99(View_FruitItemImageComponent0, _super);
        function View_FruitItemImageComponent0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_FruitItemImageComponent0, renderType_FruitItemImageComponent, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
            this._expr_7 = UNINITIALIZED;
            this._expr_8 = UNINITIALIZED;
        }
        View_FruitItemImageComponent0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._el_0 = createRenderElement(this.renderer, parentRenderNode, 'div', EMPTY_INLINE_ARRAY, null);
            this._text_1 = this.renderer.createText(this._el_0, '\n                ', null);
            this._el_2 = createRenderElement(this.renderer, this._el_0, 'a', new InlineArray2(2, 'target', 'new'), null);
            this._text_3 = this.renderer.createText(this._el_2, '\n                    ', null);
            this._el_4 = createRenderElement(this.renderer, this._el_2, 'img', EMPTY_INLINE_ARRAY, null);
            this._text_5 = this.renderer.createText(this._el_2, '\n                ', null);
            this._text_6 = this.renderer.createText(this._el_0, '\n            ', null);
            this.init(null, (this.renderer.directRenderer ? null : [
                this._el_0,
                this._text_1,
                this._el_2,
                this._text_3,
                this._el_4,
                this._text_5,
                this._text_6
            ]), null);
            return null;
        };
        View_FruitItemImageComponent0.prototype.detectChangesInternal = function (throwOnChange) {
            var currVal_7 = inlineInterpolate(1, '', this.context.targetUrl, '');
            if (checkBinding(throwOnChange, this._expr_7, currVal_7)) {
                this.renderer.setElementProperty(this._el_2, 'href', this.viewUtils.sanitizer.sanitize(SecurityContext.URL, currVal_7));
                this._expr_7 = currVal_7;
            }
            var currVal_8 = inlineInterpolate(1, '', this.context.imageUrl, '');
            if (checkBinding(throwOnChange, this._expr_8, currVal_8)) {
                this.renderer.setElementProperty(this._el_4, 'src', this.viewUtils.sanitizer.sanitize(SecurityContext.URL, currVal_8));
                this._expr_8 = currVal_8;
            }
        };
        return View_FruitItemImageComponent0;
    }(AppView));
    var Wrapper_RequiredValidator = (function () {
        function Wrapper_RequiredValidator() {
            this._changed = false;
            this.context = new RequiredValidator();
            this._expr_0 = UNINITIALIZED;
            this._expr_1 = UNINITIALIZED;
        }
        Wrapper_RequiredValidator.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_RequiredValidator.prototype.ngOnDestroy = function () {
        };
        Wrapper_RequiredValidator.prototype.check_required = function (currValue, throwOnChange, forceUpdate) {
            if ((forceUpdate || checkBinding(throwOnChange, this._expr_0, currValue))) {
                this._changed = true;
                this.context.required = currValue;
                this._expr_0 = currValue;
            }
        };
        Wrapper_RequiredValidator.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_RequiredValidator.prototype.checkHost = function (view, componentView, el, throwOnChange) {
            var currVal_1 = (this.context.required ? '' : null);
            if (checkBinding(throwOnChange, this._expr_1, currVal_1)) {
                view.renderer.setElementAttribute(el, 'required', ((currVal_1 == null) ? null : currVal_1.toString()));
                this._expr_1 = currVal_1;
            }
        };
        Wrapper_RequiredValidator.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_RequiredValidator.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_RequiredValidator;
    }());
    var __extends$98 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_FruitDetailComponent = (function () {
        function Wrapper_FruitDetailComponent(p0) {
            this._changed = false;
            this.context = new FruitDetailComponent(p0);
        }
        Wrapper_FruitDetailComponent.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_FruitDetailComponent.prototype.ngOnDestroy = function () {
        };
        Wrapper_FruitDetailComponent.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            if (!throwOnChange) {
                if ((view.numberOfChecks === 0)) {
                    this.context.ngOnInit();
                }
            }
            return changed;
        };
        Wrapper_FruitDetailComponent.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_FruitDetailComponent.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_FruitDetailComponent.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_FruitDetailComponent;
    }());
    var renderType_FruitDetailComponent_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_FruitDetailComponent_Host0 = (function (_super) {
        __extends$98(View_FruitDetailComponent_Host0, _super);
        function View_FruitDetailComponent_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_FruitDetailComponent_Host0, renderType_FruitDetailComponent_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        Object.defineProperty(View_FruitDetailComponent_Host0.prototype, "_FruitService_0_4", {
            get: function () {
                if ((this.__FruitService_0_4 == null)) {
                    (this.__FruitService_0_4 = new FruitService(this.injectorGet(Http, this.parentIndex)));
                }
                return this.__FruitService_0_4;
            },
            enumerable: true,
            configurable: true
        });
        View_FruitDetailComponent_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'fruit-detail', EMPTY_INLINE_ARRAY, rootSelector, null);
            this.compView_0 = new View_FruitDetailComponent0(this.viewUtils, this, 0, this._el_0);
            this._FruitDetailComponent_0_3 = new Wrapper_FruitDetailComponent(this.injectorGet(ActivatedRoute, this.parentIndex));
            this.compView_0.create(this._FruitDetailComponent_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._FruitDetailComponent_0_3.context);
        };
        View_FruitDetailComponent_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === FruitDetailComponent) && (0 === requestNodeIndex))) {
                return this._FruitDetailComponent_0_3.context;
            }
            if (((token === FruitService) && (0 === requestNodeIndex))) {
                return this._FruitService_0_4;
            }
            return notFoundResult;
        };
        View_FruitDetailComponent_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._FruitDetailComponent_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_FruitDetailComponent_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
        };
        View_FruitDetailComponent_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_FruitDetailComponent_Host0;
    }(AppView));
    var FruitDetailComponentNgFactory = new ComponentFactory('fruit-detail', View_FruitDetailComponent_Host0, FruitDetailComponent);
    var styles_FruitDetailComponent = [];
    var renderType_FruitDetailComponent = createRenderComponentType('', 0, ViewEncapsulation.None, styles_FruitDetailComponent, {});
    var View_FruitDetailComponent0 = (function (_super) {
        __extends$98(View_FruitDetailComponent0, _super);
        function View_FruitDetailComponent0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_FruitDetailComponent0, renderType_FruitDetailComponent, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
            this._expr_83 = UNINITIALIZED;
            this._expr_84 = UNINITIALIZED;
        }
        View_FruitDetailComponent0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n\n', null);
            this._el_1 = createRenderElement(this.renderer, parentRenderNode, 'h2', EMPTY_INLINE_ARRAY, null);
            this._text_2 = this.renderer.createText(this._el_1, 'Detail View', null);
            this._text_3 = this.renderer.createText(parentRenderNode, '\n', null);
            this._el_4 = createRenderElement(this.renderer, parentRenderNode, 'div', new InlineArray2(2, 'class', 'form'), null);
            this._text_5 = this.renderer.createText(this._el_4, '\n	', null);
            this._el_6 = createRenderElement(this.renderer, this._el_4, 'form', EMPTY_INLINE_ARRAY, null);
            this._NgForm_6_3 = new Wrapper_NgForm(null, null);
            this._ControlContainer_6_4 = this._NgForm_6_3.context;
            this._NgControlStatusGroup_6_5 = new Wrapper_NgControlStatusGroup(this._ControlContainer_6_4);
            this._text_7 = this.renderer.createText(this._el_6, '\n		', null);
            this._el_8 = createRenderElement(this.renderer, this._el_6, 'div', new InlineArray2(2, 'class', 'form-group'), null);
            this._text_9 = this.renderer.createText(this._el_8, '\n			', null);
            this._el_10 = createRenderElement(this.renderer, this._el_8, 'div', new InlineArray2(2, 'class', 'col-md-8'), null);
            this._text_11 = this.renderer.createText(this._el_10, '\n				', null);
            this._text_12 = this.renderer.createText(this._el_10, '\n				', null);
            this._el_13 = createRenderElement(this.renderer, this._el_10, 'fruititem-image', EMPTY_INLINE_ARRAY, null);
            this.compView_13 = new View_FruitItemImageComponent0(this.viewUtils, this, 13, this._el_13);
            this._FruitItemImageComponent_13_3 = new Wrapper_FruitItemImageComponent();
            this.compView_13.create(this._FruitItemImageComponent_13_3.context);
            this._text_14 = this.renderer.createText(this._el_10, '\n			', null);
            this._text_15 = this.renderer.createText(this._el_8, '\n		', null);
            this._text_16 = this.renderer.createText(this._el_6, '\n\n		', null);
            this._el_17 = createRenderElement(this.renderer, this._el_6, 'div', new InlineArray2(2, 'class', 'form-group'), null);
            this._text_18 = this.renderer.createText(this._el_17, '\n			', null);
            this._el_19 = createRenderElement(this.renderer, this._el_17, 'div', new InlineArray2(2, 'class', 'col-md-8'), null);
            this._text_20 = this.renderer.createText(this._el_19, '\n				', null);
            this._el_21 = createRenderElement(this.renderer, this._el_19, 'label', new InlineArray2(2, 'class', 'control-label'), null);
            this._text_22 = this.renderer.createText(this._el_21, 'ID', null);
            this._text_23 = this.renderer.createText(this._el_19, '\n				', null);
            this._text_24 = this.renderer.createText(this._el_19, '\n				', null);
            this._el_25 = createRenderElement(this.renderer, this._el_19, 'input', new InlineArray16(10, 'class', 'form-control', 'name', 'id', 'readonly', '', 'required', '', 'type', 'text'), null);
            this._text_26 = this.renderer.createText(this._el_19, '\n			', null);
            this._text_27 = this.renderer.createText(this._el_17, '\n		', null);
            this._text_28 = this.renderer.createText(this._el_6, '\n\n		', null);
            this._el_29 = createRenderElement(this.renderer, this._el_6, 'div', new InlineArray2(2, 'class', 'form-group'), null);
            this._text_30 = this.renderer.createText(this._el_29, '\n			', null);
            this._el_31 = createRenderElement(this.renderer, this._el_29, 'div', new InlineArray2(2, 'class', 'col-md-8'), null);
            this._text_32 = this.renderer.createText(this._el_31, '\n				', null);
            this._el_33 = createRenderElement(this.renderer, this._el_31, 'label', new InlineArray2(2, 'class', 'control-label'), null);
            this._text_34 = this.renderer.createText(this._el_33, 'Common Name', null);
            this._text_35 = this.renderer.createText(this._el_31, '\n				', null);
            this._el_36 = createRenderElement(this.renderer, this._el_31, 'input', new InlineArray8(8, 'class', 'form-control', 'name', 'common_name', 'required', '', 'type', 'text'), null);
            this._text_37 = this.renderer.createText(this._el_31, '\n			', null);
            this._text_38 = this.renderer.createText(this._el_29, '\n		', null);
            this._text_39 = this.renderer.createText(this._el_6, '\n\n		', null);
            this._el_40 = createRenderElement(this.renderer, this._el_6, 'div', new InlineArray2(2, 'class', 'form-group'), null);
            this._text_41 = this.renderer.createText(this._el_40, '\n			', null);
            this._el_42 = createRenderElement(this.renderer, this._el_40, 'div', new InlineArray2(2, 'class', 'col-md-8'), null);
            this._text_43 = this.renderer.createText(this._el_42, '\n				', null);
            this._el_44 = createRenderElement(this.renderer, this._el_42, 'label', new InlineArray2(2, 'class', 'control-label'), null);
            this._text_45 = this.renderer.createText(this._el_44, 'Species', null);
            this._text_46 = this.renderer.createText(this._el_42, '\n                	', null);
            this._text_47 = this.renderer.createText(this._el_42, '\n				', null);
            this._el_48 = createRenderElement(this.renderer, this._el_42, 'input', new InlineArray8(8, 'class', 'form-control', 'name', 'species', 'required', '', 'type', 'text'), null);
            this._DefaultValueAccessor_48_3 = new Wrapper_DefaultValueAccessor(this.renderer, new ElementRef(this._el_48));
            this._RequiredValidator_48_4 = new Wrapper_RequiredValidator();
            this._NG_VALIDATORS_48_5 = [this._RequiredValidator_48_4.context];
            this._NG_VALUE_ACCESSOR_48_6 = [this._DefaultValueAccessor_48_3.context];
            this._NgModel_48_7 = new Wrapper_NgModel(this._ControlContainer_6_4, this._NG_VALIDATORS_48_5, null, this._NG_VALUE_ACCESSOR_48_6);
            this._NgControl_48_8 = this._NgModel_48_7.context;
            this._NgControlStatus_48_9 = new Wrapper_NgControlStatus(this._NgControl_48_8);
            this._text_49 = this.renderer.createText(this._el_42, '\n			', null);
            this._text_50 = this.renderer.createText(this._el_40, '\n		', null);
            this._text_51 = this.renderer.createText(this._el_6, '\n\n		', null);
            this._el_52 = createRenderElement(this.renderer, this._el_6, 'div', new InlineArray2(2, 'class', 'form-group'), null);
            this._text_53 = this.renderer.createText(this._el_52, '\n			', null);
            this._el_54 = createRenderElement(this.renderer, this._el_52, 'div', new InlineArray2(2, 'class', 'col-md-8'), null);
            this._text_55 = this.renderer.createText(this._el_54, '\n				', null);
            this._el_56 = createRenderElement(this.renderer, this._el_54, 'label', new InlineArray2(2, 'class', 'control-label'), null);
            this._text_57 = this.renderer.createText(this._el_56, 'Region', null);
            this._text_58 = this.renderer.createText(this._el_54, '			\n				', null);
            this._el_59 = createRenderElement(this.renderer, this._el_54, 'input', new InlineArray8(8, 'class', 'form-control', 'name', 'region', 'required', '', 'type', 'text'), null);
            this._DefaultValueAccessor_59_3 = new Wrapper_DefaultValueAccessor(this.renderer, new ElementRef(this._el_59));
            this._RequiredValidator_59_4 = new Wrapper_RequiredValidator();
            this._NG_VALIDATORS_59_5 = [this._RequiredValidator_59_4.context];
            this._NG_VALUE_ACCESSOR_59_6 = [this._DefaultValueAccessor_59_3.context];
            this._NgModel_59_7 = new Wrapper_NgModel(this._ControlContainer_6_4, this._NG_VALIDATORS_59_5, null, this._NG_VALUE_ACCESSOR_59_6);
            this._NgControl_59_8 = this._NgModel_59_7.context;
            this._NgControlStatus_59_9 = new Wrapper_NgControlStatus(this._NgControl_59_8);
            this._text_60 = this.renderer.createText(this._el_54, '\n			', null);
            this._text_61 = this.renderer.createText(this._el_52, '\n		', null);
            this._text_62 = this.renderer.createText(this._el_6, '\n\n	', null);
            this._text_63 = this.renderer.createText(this._el_4, '\n', null);
            var disposable_0 = subscribeToRenderElement(this, this._el_6, new InlineArray4(4, 'submit', null, 'reset', null), this.eventHandler(this.handleEvent_6));
            var disposable_1 = subscribeToRenderElement(this, this._el_48, new InlineArray8(6, 'ngModelChange', null, 'input', null, 'blur', null), this.eventHandler(this.handleEvent_48));
            this._NgModel_48_7.subscribe(this, this.eventHandler(this.handleEvent_48), true);
            var disposable_2 = subscribeToRenderElement(this, this._el_59, new InlineArray8(6, 'ngModelChange', null, 'input', null, 'blur', null), this.eventHandler(this.handleEvent_59));
            this._NgModel_59_7.subscribe(this, this.eventHandler(this.handleEvent_59), true);
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._text_3,
                this._el_4,
                this._text_5,
                this._el_6,
                this._text_7,
                this._el_8,
                this._text_9,
                this._el_10,
                this._text_11,
                this._text_12,
                this._el_13,
                this._text_14,
                this._text_15,
                this._text_16,
                this._el_17,
                this._text_18,
                this._el_19,
                this._text_20,
                this._el_21,
                this._text_22,
                this._text_23,
                this._text_24,
                this._el_25,
                this._text_26,
                this._text_27,
                this._text_28,
                this._el_29,
                this._text_30,
                this._el_31,
                this._text_32,
                this._el_33,
                this._text_34,
                this._text_35,
                this._el_36,
                this._text_37,
                this._text_38,
                this._text_39,
                this._el_40,
                this._text_41,
                this._el_42,
                this._text_43,
                this._el_44,
                this._text_45,
                this._text_46,
                this._text_47,
                this._el_48,
                this._text_49,
                this._text_50,
                this._text_51,
                this._el_52,
                this._text_53,
                this._el_54,
                this._text_55,
                this._el_56,
                this._text_57,
                this._text_58,
                this._el_59,
                this._text_60,
                this._text_61,
                this._text_62,
                this._text_63
            ]), [
                disposable_0,
                disposable_1,
                disposable_2
            ]);
            return null;
        };
        View_FruitDetailComponent0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === FruitItemImageComponent) && (13 === requestNodeIndex))) {
                return this._FruitItemImageComponent_13_3.context;
            }
            if (((token === DefaultValueAccessor) && (48 === requestNodeIndex))) {
                return this._DefaultValueAccessor_48_3.context;
            }
            if (((token === RequiredValidator) && (48 === requestNodeIndex))) {
                return this._RequiredValidator_48_4.context;
            }
            if (((token === NG_VALIDATORS) && (48 === requestNodeIndex))) {
                return this._NG_VALIDATORS_48_5;
            }
            if (((token === NG_VALUE_ACCESSOR) && (48 === requestNodeIndex))) {
                return this._NG_VALUE_ACCESSOR_48_6;
            }
            if (((token === NgModel) && (48 === requestNodeIndex))) {
                return this._NgModel_48_7.context;
            }
            if (((token === NgControl) && (48 === requestNodeIndex))) {
                return this._NgControl_48_8;
            }
            if (((token === NgControlStatus) && (48 === requestNodeIndex))) {
                return this._NgControlStatus_48_9.context;
            }
            if (((token === DefaultValueAccessor) && (59 === requestNodeIndex))) {
                return this._DefaultValueAccessor_59_3.context;
            }
            if (((token === RequiredValidator) && (59 === requestNodeIndex))) {
                return this._RequiredValidator_59_4.context;
            }
            if (((token === NG_VALIDATORS) && (59 === requestNodeIndex))) {
                return this._NG_VALIDATORS_59_5;
            }
            if (((token === NG_VALUE_ACCESSOR) && (59 === requestNodeIndex))) {
                return this._NG_VALUE_ACCESSOR_59_6;
            }
            if (((token === NgModel) && (59 === requestNodeIndex))) {
                return this._NgModel_59_7.context;
            }
            if (((token === NgControl) && (59 === requestNodeIndex))) {
                return this._NgControl_59_8;
            }
            if (((token === NgControlStatus) && (59 === requestNodeIndex))) {
                return this._NgControlStatus_59_9.context;
            }
            if (((token === NgForm) && ((6 <= requestNodeIndex) && (requestNodeIndex <= 62)))) {
                return this._NgForm_6_3.context;
            }
            if (((token === ControlContainer) && ((6 <= requestNodeIndex) && (requestNodeIndex <= 62)))) {
                return this._ControlContainer_6_4;
            }
            if (((token === NgControlStatusGroup) && ((6 <= requestNodeIndex) && (requestNodeIndex <= 62)))) {
                return this._NgControlStatusGroup_6_5.context;
            }
            return notFoundResult;
        };
        View_FruitDetailComponent0.prototype.detectChangesInternal = function (throwOnChange) {
            this._NgForm_6_3.ngDoCheck(this, this._el_6, throwOnChange);
            this._NgControlStatusGroup_6_5.ngDoCheck(this, this._el_6, throwOnChange);
            var currVal_13_0_0 = this.context.currentFruitItem.url;
            this._FruitItemImageComponent_13_3.check_targetUrl(currVal_13_0_0, throwOnChange, false);
            var currVal_13_0_1 = this.context.currentFruitItem.image_url;
            this._FruitItemImageComponent_13_3.check_imageUrl(currVal_13_0_1, throwOnChange, false);
            this._FruitItemImageComponent_13_3.ngDoCheck(this, this._el_13, throwOnChange);
            this._DefaultValueAccessor_48_3.ngDoCheck(this, this._el_48, throwOnChange);
            var currVal_48_1_0 = '';
            this._RequiredValidator_48_4.check_required(currVal_48_1_0, throwOnChange, false);
            this._RequiredValidator_48_4.ngDoCheck(this, this._el_48, throwOnChange);
            var currVal_48_2_0 = 'species';
            this._NgModel_48_7.check_name(currVal_48_2_0, throwOnChange, false);
            var currVal_48_2_1 = this.context.currentFruitItem.species;
            this._NgModel_48_7.check_model(currVal_48_2_1, throwOnChange, false);
            this._NgModel_48_7.ngDoCheck(this, this._el_48, throwOnChange);
            this._NgControlStatus_48_9.ngDoCheck(this, this._el_48, throwOnChange);
            this._DefaultValueAccessor_59_3.ngDoCheck(this, this._el_59, throwOnChange);
            var currVal_59_1_0 = '';
            this._RequiredValidator_59_4.check_required(currVal_59_1_0, throwOnChange, false);
            this._RequiredValidator_59_4.ngDoCheck(this, this._el_59, throwOnChange);
            var currVal_59_2_0 = 'region';
            this._NgModel_59_7.check_name(currVal_59_2_0, throwOnChange, false);
            var currVal_59_2_1 = this.context.currentFruitItem.region;
            this._NgModel_59_7.check_model(currVal_59_2_1, throwOnChange, false);
            this._NgModel_59_7.ngDoCheck(this, this._el_59, throwOnChange);
            this._NgControlStatus_59_9.ngDoCheck(this, this._el_59, throwOnChange);
            this._NgControlStatusGroup_6_5.checkHost(this, this, this._el_6, throwOnChange);
            var currVal_83 = inlineInterpolate(1, '', this.context.currentFruitItem.id, '');
            if (checkBinding(throwOnChange, this._expr_83, currVal_83)) {
                this.renderer.setElementProperty(this._el_25, 'value', currVal_83);
                this._expr_83 = currVal_83;
            }
            var currVal_84 = inlineInterpolate(1, '', this.context.currentFruitItem.common_name, '');
            if (checkBinding(throwOnChange, this._expr_84, currVal_84)) {
                this.renderer.setElementProperty(this._el_36, 'value', currVal_84);
                this._expr_84 = currVal_84;
            }
            this._RequiredValidator_48_4.checkHost(this, this, this._el_48, throwOnChange);
            this._NgControlStatus_48_9.checkHost(this, this, this._el_48, throwOnChange);
            this._RequiredValidator_59_4.checkHost(this, this, this._el_59, throwOnChange);
            this._NgControlStatus_59_9.checkHost(this, this, this._el_59, throwOnChange);
            this.compView_13.internalDetectChanges(throwOnChange);
        };
        View_FruitDetailComponent0.prototype.destroyInternal = function () {
            this.compView_13.destroy();
            this._NgModel_48_7.ngOnDestroy();
            this._NgModel_59_7.ngOnDestroy();
            this._NgForm_6_3.ngOnDestroy();
        };
        View_FruitDetailComponent0.prototype.handleEvent_6 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            result = (this._NgForm_6_3.handleEvent(eventName, $event) && result);
            return result;
        };
        View_FruitDetailComponent0.prototype.handleEvent_48 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            result = (this._DefaultValueAccessor_48_3.handleEvent(eventName, $event) && result);
            if ((eventName == 'ngModelChange')) {
                var pd_sub_0 = ((this.context.currentFruitItem.species = $event) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        View_FruitDetailComponent0.prototype.handleEvent_59 = function (eventName, $event) {
            this.markPathToRootAsCheckOnce();
            var result = true;
            result = (this._DefaultValueAccessor_59_3.handleEvent(eventName, $event) && result);
            if ((eventName == 'ngModelChange')) {
                var pd_sub_0 = ((this.context.currentFruitItem.region = $event) !== false);
                result = (pd_sub_0 && result);
            }
            return result;
        };
        return View_FruitDetailComponent0;
    }(AppView));
    var Wrapper_RouterOutlet = (function () {
        function Wrapper_RouterOutlet(p0, p1, p2, p3) {
            this._changed = false;
            this.context = new RouterOutlet(p0, p1, p2, p3);
        }
        Wrapper_RouterOutlet.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_RouterOutlet.prototype.ngOnDestroy = function () {
            this.context.ngOnDestroy();
            (this.subscription0 && this.subscription0.unsubscribe());
            (this.subscription1 && this.subscription1.unsubscribe());
        };
        Wrapper_RouterOutlet.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_RouterOutlet.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_RouterOutlet.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_RouterOutlet.prototype.subscribe = function (view, _eventHandler, emit0, emit1) {
            this._eventHandler = _eventHandler;
            if (emit0) {
                (this.subscription0 = this.context.activateEvents.subscribe(_eventHandler.bind(view, 'activate')));
            }
            if (emit1) {
                (this.subscription1 = this.context.deactivateEvents.subscribe(_eventHandler.bind(view, 'deactivate')));
            }
        };
        return Wrapper_RouterOutlet;
    }());
    var __extends$100 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var Wrapper_AppComponent = (function () {
        function Wrapper_AppComponent() {
            this._changed = false;
            this.context = new AppComponent();
        }
        Wrapper_AppComponent.prototype.ngOnDetach = function (view, componentView, el) {
        };
        Wrapper_AppComponent.prototype.ngOnDestroy = function () {
        };
        Wrapper_AppComponent.prototype.ngDoCheck = function (view, el, throwOnChange) {
            var changed = this._changed;
            this._changed = false;
            return changed;
        };
        Wrapper_AppComponent.prototype.checkHost = function (view, componentView, el, throwOnChange) {
        };
        Wrapper_AppComponent.prototype.handleEvent = function (eventName, $event) {
            var result = true;
            return result;
        };
        Wrapper_AppComponent.prototype.subscribe = function (view, _eventHandler) {
            this._eventHandler = _eventHandler;
        };
        return Wrapper_AppComponent;
    }());
    var renderType_AppComponent_Host = createRenderComponentType('', 0, ViewEncapsulation.None, [], {});
    var View_AppComponent_Host0 = (function (_super) {
        __extends$100(View_AppComponent_Host0, _super);
        function View_AppComponent_Host0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_AppComponent_Host0, renderType_AppComponent_Host, ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_AppComponent_Host0.prototype.createInternal = function (rootSelector) {
            this._el_0 = selectOrCreateRenderHostElement(this.renderer, 'my-app', EMPTY_INLINE_ARRAY, rootSelector, null);
            this.compView_0 = new View_AppComponent0(this.viewUtils, this, 0, this._el_0);
            this._AppComponent_0_3 = new Wrapper_AppComponent();
            this.compView_0.create(this._AppComponent_0_3.context);
            this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
            return new ComponentRef_(0, this, this._el_0, this._AppComponent_0_3.context);
        };
        View_AppComponent_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === AppComponent) && (0 === requestNodeIndex))) {
                return this._AppComponent_0_3.context;
            }
            return notFoundResult;
        };
        View_AppComponent_Host0.prototype.detectChangesInternal = function (throwOnChange) {
            this._AppComponent_0_3.ngDoCheck(this, this._el_0, throwOnChange);
            this.compView_0.internalDetectChanges(throwOnChange);
        };
        View_AppComponent_Host0.prototype.destroyInternal = function () {
            this.compView_0.destroy();
        };
        View_AppComponent_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
            cb(this._el_0, ctx);
        };
        return View_AppComponent_Host0;
    }(AppView));
    var AppComponentNgFactory = new ComponentFactory('my-app', View_AppComponent_Host0, AppComponent);
    var styles_AppComponent = [];
    var renderType_AppComponent = createRenderComponentType('', 0, ViewEncapsulation.None, styles_AppComponent, {});
    var View_AppComponent0 = (function (_super) {
        __extends$100(View_AppComponent0, _super);
        function View_AppComponent0(viewUtils, parentView, parentIndex, parentElement) {
            _super.call(this, View_AppComponent0, renderType_AppComponent, ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, ChangeDetectorStatus.CheckAlways);
        }
        View_AppComponent0.prototype.createInternal = function (rootSelector) {
            var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
            this._text_0 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this._el_1 = createRenderElement(this.renderer, parentRenderNode, 'main', EMPTY_INLINE_ARRAY, null);
            this._text_2 = this.renderer.createText(this._el_1, '\n      ', null);
            this._el_3 = createRenderElement(this.renderer, this._el_1, 'h1', EMPTY_INLINE_ARRAY, null);
            this._text_4 = this.renderer.createText(this._el_3, 'ng-rosetta: Angular 2 Version', null);
            this._text_5 = this.renderer.createText(this._el_1, '\n\n      ', null);
            this._text_6 = this.renderer.createText(this._el_1, '\n      ', null);
            this._el_7 = createRenderElement(this.renderer, this._el_1, 'router-outlet', EMPTY_INLINE_ARRAY, null);
            this._vc_7 = new ViewContainer(7, 1, this, this._el_7);
            this._RouterOutlet_7_5 = new Wrapper_RouterOutlet(this.parentView.injectorGet(RouterOutletMap, this.parentIndex), this._vc_7.vcRef, this.parentView.injectorGet(ComponentFactoryResolver, this.parentIndex), null);
            this._text_8 = this.renderer.createText(this._el_1, '\n    ', null);
            this._text_9 = this.renderer.createText(parentRenderNode, '\n    ', null);
            this.init(null, (this.renderer.directRenderer ? null : [
                this._text_0,
                this._el_1,
                this._text_2,
                this._el_3,
                this._text_4,
                this._text_5,
                this._text_6,
                this._el_7,
                this._text_8,
                this._text_9
            ]), null);
            return null;
        };
        View_AppComponent0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
            if (((token === RouterOutlet) && (7 === requestNodeIndex))) {
                return this._RouterOutlet_7_5.context;
            }
            return notFoundResult;
        };
        View_AppComponent0.prototype.detectChangesInternal = function (throwOnChange) {
            this._RouterOutlet_7_5.ngDoCheck(this, this._el_7, throwOnChange);
            this._vc_7.detectChangesInNestedViews(throwOnChange);
        };
        View_AppComponent0.prototype.destroyInternal = function () {
            this._vc_7.destroyNestedViews();
            this._RouterOutlet_7_5.ngOnDestroy();
        };
        return View_AppComponent0;
    }(AppView));
    var __extends$35 = (undefined && undefined.__extends) || function (d, b) {
        for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p];
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var AppModuleInjector = (function (_super) {
        __extends$35(AppModuleInjector, _super);
        function AppModuleInjector(parent) {
            _super.call(this, parent, [
                NgbAlertNgFactory,
                NgbTooltipWindowNgFactory,
                NgbTypeaheadWindowNgFactory,
                NgbDatepickerNgFactory,
                NgbModalBackdropNgFactory,
                NgbModalWindowNgFactory,
                NgbPopoverWindowNgFactory,
                HomeComponentNgFactory,
                FruitListComponentNgFactory,
                FruitDetailComponentNgFactory,
                AppComponentNgFactory
            ], [AppComponentNgFactory]);
        }
        Object.defineProperty(AppModuleInjector.prototype, "_LOCALE_ID_26", {
            get: function () {
                if ((this.__LOCALE_ID_26 == null)) {
                    (this.__LOCALE_ID_26 = _localeFactory(this.parent.get(LOCALE_ID, null)));
                }
                return this.__LOCALE_ID_26;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgLocalization_27", {
            get: function () {
                if ((this.__NgLocalization_27 == null)) {
                    (this.__NgLocalization_27 = new NgLocaleLocalization(this._LOCALE_ID_26));
                }
                return this.__NgLocalization_27;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_ApplicationRef_32", {
            get: function () {
                if ((this.__ApplicationRef_32 == null)) {
                    (this.__ApplicationRef_32 = this._ApplicationRef__31);
                }
                return this.__ApplicationRef_32;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_Compiler_33", {
            get: function () {
                if ((this.__Compiler_33 == null)) {
                    (this.__Compiler_33 = new Compiler());
                }
                return this.__Compiler_33;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_APP_ID_34", {
            get: function () {
                if ((this.__APP_ID_34 == null)) {
                    (this.__APP_ID_34 = _appIdRandomProviderFactory());
                }
                return this.__APP_ID_34;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_DOCUMENT_35", {
            get: function () {
                if ((this.__DOCUMENT_35 == null)) {
                    (this.__DOCUMENT_35 = _document());
                }
                return this.__DOCUMENT_35;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_HAMMER_GESTURE_CONFIG_36", {
            get: function () {
                if ((this.__HAMMER_GESTURE_CONFIG_36 == null)) {
                    (this.__HAMMER_GESTURE_CONFIG_36 = new HammerGestureConfig());
                }
                return this.__HAMMER_GESTURE_CONFIG_36;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_EVENT_MANAGER_PLUGINS_37", {
            get: function () {
                if ((this.__EVENT_MANAGER_PLUGINS_37 == null)) {
                    (this.__EVENT_MANAGER_PLUGINS_37 = [
                        new DomEventsPlugin(),
                        new KeyEventsPlugin(),
                        new HammerGesturesPlugin(this._HAMMER_GESTURE_CONFIG_36)
                    ]);
                }
                return this.__EVENT_MANAGER_PLUGINS_37;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_EventManager_38", {
            get: function () {
                if ((this.__EventManager_38 == null)) {
                    (this.__EventManager_38 = new EventManager(this._EVENT_MANAGER_PLUGINS_37, this.parent.get(NgZone)));
                }
                return this.__EventManager_38;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_DomSharedStylesHost_39", {
            get: function () {
                if ((this.__DomSharedStylesHost_39 == null)) {
                    (this.__DomSharedStylesHost_39 = new DomSharedStylesHost(this._DOCUMENT_35));
                }
                return this.__DomSharedStylesHost_39;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_AnimationDriver_40", {
            get: function () {
                if ((this.__AnimationDriver_40 == null)) {
                    (this.__AnimationDriver_40 = _resolveDefaultAnimationDriver());
                }
                return this.__AnimationDriver_40;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_DomRootRenderer_41", {
            get: function () {
                if ((this.__DomRootRenderer_41 == null)) {
                    (this.__DomRootRenderer_41 = new DomRootRenderer_(this._DOCUMENT_35, this._EventManager_38, this._DomSharedStylesHost_39, this._AnimationDriver_40, this._APP_ID_34));
                }
                return this.__DomRootRenderer_41;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgProbeToken_42", {
            get: function () {
                if ((this.__NgProbeToken_42 == null)) {
                    (this.__NgProbeToken_42 = [routerNgProbeToken()]);
                }
                return this.__NgProbeToken_42;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_RootRenderer_43", {
            get: function () {
                if ((this.__RootRenderer_43 == null)) {
                    (this.__RootRenderer_43 = _createConditionalRootRenderer(this._DomRootRenderer_41, this.parent.get(NgProbeToken$1, null), this._NgProbeToken_42));
                }
                return this.__RootRenderer_43;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_DomSanitizer_44", {
            get: function () {
                if ((this.__DomSanitizer_44 == null)) {
                    (this.__DomSanitizer_44 = new DomSanitizerImpl());
                }
                return this.__DomSanitizer_44;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_Sanitizer_45", {
            get: function () {
                if ((this.__Sanitizer_45 == null)) {
                    (this.__Sanitizer_45 = this._DomSanitizer_44);
                }
                return this.__Sanitizer_45;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_AnimationQueue_46", {
            get: function () {
                if ((this.__AnimationQueue_46 == null)) {
                    (this.__AnimationQueue_46 = new AnimationQueue(this.parent.get(NgZone)));
                }
                return this.__AnimationQueue_46;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_ViewUtils_47", {
            get: function () {
                if ((this.__ViewUtils_47 == null)) {
                    (this.__ViewUtils_47 = new ViewUtils(this._RootRenderer_43, this._Sanitizer_45, this._AnimationQueue_46));
                }
                return this.__ViewUtils_47;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_IterableDiffers_48", {
            get: function () {
                if ((this.__IterableDiffers_48 == null)) {
                    (this.__IterableDiffers_48 = _iterableDiffersFactory());
                }
                return this.__IterableDiffers_48;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_KeyValueDiffers_49", {
            get: function () {
                if ((this.__KeyValueDiffers_49 == null)) {
                    (this.__KeyValueDiffers_49 = _keyValueDiffersFactory());
                }
                return this.__KeyValueDiffers_49;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_SharedStylesHost_50", {
            get: function () {
                if ((this.__SharedStylesHost_50 == null)) {
                    (this.__SharedStylesHost_50 = this._DomSharedStylesHost_39);
                }
                return this.__SharedStylesHost_50;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_Title_51", {
            get: function () {
                if ((this.__Title_51 == null)) {
                    (this.__Title_51 = new Title());
                }
                return this.__Title_51;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_RadioControlRegistry_52", {
            get: function () {
                if ((this.__RadioControlRegistry_52 == null)) {
                    (this.__RadioControlRegistry_52 = new RadioControlRegistry());
                }
                return this.__RadioControlRegistry_52;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbModalStack_53", {
            get: function () {
                if ((this.__NgbModalStack_53 == null)) {
                    (this.__NgbModalStack_53 = new NgbModalStack());
                }
                return this.__NgbModalStack_53;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbModal_54", {
            get: function () {
                if ((this.__NgbModal_54 == null)) {
                    (this.__NgbModal_54 = new NgbModal(this, this, this._NgbModalStack_53));
                }
                return this.__NgbModal_54;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbAlertConfig_55", {
            get: function () {
                if ((this.__NgbAlertConfig_55 == null)) {
                    (this.__NgbAlertConfig_55 = new NgbAlertConfig());
                }
                return this.__NgbAlertConfig_55;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbProgressbarConfig_56", {
            get: function () {
                if ((this.__NgbProgressbarConfig_56 == null)) {
                    (this.__NgbProgressbarConfig_56 = new NgbProgressbarConfig());
                }
                return this.__NgbProgressbarConfig_56;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbTooltipConfig_57", {
            get: function () {
                if ((this.__NgbTooltipConfig_57 == null)) {
                    (this.__NgbTooltipConfig_57 = new NgbTooltipConfig());
                }
                return this.__NgbTooltipConfig_57;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbTypeaheadConfig_58", {
            get: function () {
                if ((this.__NgbTypeaheadConfig_58 == null)) {
                    (this.__NgbTypeaheadConfig_58 = new NgbTypeaheadConfig());
                }
                return this.__NgbTypeaheadConfig_58;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbAccordionConfig_59", {
            get: function () {
                if ((this.__NgbAccordionConfig_59 == null)) {
                    (this.__NgbAccordionConfig_59 = new NgbAccordionConfig());
                }
                return this.__NgbAccordionConfig_59;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbCarouselConfig_60", {
            get: function () {
                if ((this.__NgbCarouselConfig_60 == null)) {
                    (this.__NgbCarouselConfig_60 = new NgbCarouselConfig());
                }
                return this.__NgbCarouselConfig_60;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbCalendar_61", {
            get: function () {
                if ((this.__NgbCalendar_61 == null)) {
                    (this.__NgbCalendar_61 = new NgbCalendarGregorian());
                }
                return this.__NgbCalendar_61;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbDatepickerI18n_62", {
            get: function () {
                if ((this.__NgbDatepickerI18n_62 == null)) {
                    (this.__NgbDatepickerI18n_62 = new NgbDatepickerI18nDefault());
                }
                return this.__NgbDatepickerI18n_62;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbDateParserFormatter_63", {
            get: function () {
                if ((this.__NgbDateParserFormatter_63 == null)) {
                    (this.__NgbDateParserFormatter_63 = new NgbDateISOParserFormatter());
                }
                return this.__NgbDateParserFormatter_63;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbDatepickerService_64", {
            get: function () {
                if ((this.__NgbDatepickerService_64 == null)) {
                    (this.__NgbDatepickerService_64 = new NgbDatepickerService(this._NgbCalendar_61));
                }
                return this.__NgbDatepickerService_64;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbDatepickerConfig_65", {
            get: function () {
                if ((this.__NgbDatepickerConfig_65 == null)) {
                    (this.__NgbDatepickerConfig_65 = new NgbDatepickerConfig());
                }
                return this.__NgbDatepickerConfig_65;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbDropdownConfig_66", {
            get: function () {
                if ((this.__NgbDropdownConfig_66 == null)) {
                    (this.__NgbDropdownConfig_66 = new NgbDropdownConfig());
                }
                return this.__NgbDropdownConfig_66;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbPaginationConfig_67", {
            get: function () {
                if ((this.__NgbPaginationConfig_67 == null)) {
                    (this.__NgbPaginationConfig_67 = new NgbPaginationConfig());
                }
                return this.__NgbPaginationConfig_67;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbPopoverConfig_68", {
            get: function () {
                if ((this.__NgbPopoverConfig_68 == null)) {
                    (this.__NgbPopoverConfig_68 = new NgbPopoverConfig());
                }
                return this.__NgbPopoverConfig_68;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbRatingConfig_69", {
            get: function () {
                if ((this.__NgbRatingConfig_69 == null)) {
                    (this.__NgbRatingConfig_69 = new NgbRatingConfig());
                }
                return this.__NgbRatingConfig_69;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbTabsetConfig_70", {
            get: function () {
                if ((this.__NgbTabsetConfig_70 == null)) {
                    (this.__NgbTabsetConfig_70 = new NgbTabsetConfig());
                }
                return this.__NgbTabsetConfig_70;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgbTimepickerConfig_71", {
            get: function () {
                if ((this.__NgbTimepickerConfig_71 == null)) {
                    (this.__NgbTimepickerConfig_71 = new NgbTimepickerConfig());
                }
                return this.__NgbTimepickerConfig_71;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_BrowserXhr_72", {
            get: function () {
                if ((this.__BrowserXhr_72 == null)) {
                    (this.__BrowserXhr_72 = new BrowserXhr());
                }
                return this.__BrowserXhr_72;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_ResponseOptions_73", {
            get: function () {
                if ((this.__ResponseOptions_73 == null)) {
                    (this.__ResponseOptions_73 = new BaseResponseOptions());
                }
                return this.__ResponseOptions_73;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_XSRFStrategy_74", {
            get: function () {
                if ((this.__XSRFStrategy_74 == null)) {
                    (this.__XSRFStrategy_74 = _createDefaultCookieXSRFStrategy());
                }
                return this.__XSRFStrategy_74;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_XHRBackend_75", {
            get: function () {
                if ((this.__XHRBackend_75 == null)) {
                    (this.__XHRBackend_75 = new XHRBackend(this._BrowserXhr_72, this._ResponseOptions_73, this._XSRFStrategy_74));
                }
                return this.__XHRBackend_75;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_RequestOptions_76", {
            get: function () {
                if ((this.__RequestOptions_76 == null)) {
                    (this.__RequestOptions_76 = new BaseRequestOptions());
                }
                return this.__RequestOptions_76;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_Http_77", {
            get: function () {
                if ((this.__Http_77 == null)) {
                    (this.__Http_77 = httpFactory(this._XHRBackend_75, this._RequestOptions_76));
                }
                return this.__Http_77;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_ROUTER_CONFIGURATION_78", {
            get: function () {
                if ((this.__ROUTER_CONFIGURATION_78 == null)) {
                    (this.__ROUTER_CONFIGURATION_78 = {});
                }
                return this.__ROUTER_CONFIGURATION_78;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_LocationStrategy_79", {
            get: function () {
                if ((this.__LocationStrategy_79 == null)) {
                    (this.__LocationStrategy_79 = provideLocationStrategy(this.parent.get(PlatformLocation), this.parent.get(APP_BASE_HREF, null), this._ROUTER_CONFIGURATION_78));
                }
                return this.__LocationStrategy_79;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_Location_80", {
            get: function () {
                if ((this.__Location_80 == null)) {
                    (this.__Location_80 = new Location(this._LocationStrategy_79));
                }
                return this.__Location_80;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_UrlSerializer_81", {
            get: function () {
                if ((this.__UrlSerializer_81 == null)) {
                    (this.__UrlSerializer_81 = new DefaultUrlSerializer());
                }
                return this.__UrlSerializer_81;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_RouterOutletMap_82", {
            get: function () {
                if ((this.__RouterOutletMap_82 == null)) {
                    (this.__RouterOutletMap_82 = new RouterOutletMap());
                }
                return this.__RouterOutletMap_82;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_NgModuleFactoryLoader_83", {
            get: function () {
                if ((this.__NgModuleFactoryLoader_83 == null)) {
                    (this.__NgModuleFactoryLoader_83 = new SystemJsNgModuleLoader(this._Compiler_33, this.parent.get(SystemJsNgModuleLoaderConfig, null)));
                }
                return this.__NgModuleFactoryLoader_83;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_ROUTES_84", {
            get: function () {
                if ((this.__ROUTES_84 == null)) {
                    (this.__ROUTES_84 = [[
                            {
                                path: 'home',
                                component: HomeComponent
                            },
                            {
                                path: 'fruit-list',
                                component: FruitListComponent
                            },
                            {
                                path: 'fruit-detail/:id',
                                component: FruitDetailComponent,
                                resolve: { fruitItem: FruitDetailResolver }
                            },
                            {
                                path: 'fruit-vendor',
                                loadChildren: './fruit-vendor/fruit-vendor.module#FruitVendorModule'
                            },
                            {
                                path: '**',
                                component: HomeComponent
                            }
                        ]
                    ]);
                }
                return this.__ROUTES_84;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_Router_85", {
            get: function () {
                if ((this.__Router_85 == null)) {
                    (this.__Router_85 = setupRouter(this._ApplicationRef_32, this._UrlSerializer_81, this._RouterOutletMap_82, this._Location_80, this, this._NgModuleFactoryLoader_83, this._Compiler_33, this._ROUTES_84, this._ROUTER_CONFIGURATION_78, this.parent.get(UrlHandlingStrategy, null), this.parent.get(RouteReuseStrategy, null)));
                }
                return this.__Router_85;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_ActivatedRoute_86", {
            get: function () {
                if ((this.__ActivatedRoute_86 == null)) {
                    (this.__ActivatedRoute_86 = rootRoute(this._Router_85));
                }
                return this.__ActivatedRoute_86;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_PreloadAllModules_90", {
            get: function () {
                if ((this.__PreloadAllModules_90 == null)) {
                    (this.__PreloadAllModules_90 = new PreloadAllModules());
                }
                return this.__PreloadAllModules_90;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_ROUTER_INITIALIZER_91", {
            get: function () {
                if ((this.__ROUTER_INITIALIZER_91 == null)) {
                    (this.__ROUTER_INITIALIZER_91 = initialRouterNavigation(this._Router_85, this._ApplicationRef_32, this._RouterPreloader_89, this._ROUTER_CONFIGURATION_78));
                }
                return this.__ROUTER_INITIALIZER_91;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_APP_BOOTSTRAP_LISTENER_92", {
            get: function () {
                if ((this.__APP_BOOTSTRAP_LISTENER_92 == null)) {
                    (this.__APP_BOOTSTRAP_LISTENER_92 = [this._ROUTER_INITIALIZER_91]);
                }
                return this.__APP_BOOTSTRAP_LISTENER_92;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_FruitService_93", {
            get: function () {
                if ((this.__FruitService_93 == null)) {
                    (this.__FruitService_93 = new FruitService(this._Http_77));
                }
                return this.__FruitService_93;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AppModuleInjector.prototype, "_FruitDetailResolver_94", {
            get: function () {
                if ((this.__FruitDetailResolver_94 == null)) {
                    (this.__FruitDetailResolver_94 = new FruitDetailResolver(this._FruitService_93));
                }
                return this.__FruitDetailResolver_94;
            },
            enumerable: true,
            configurable: true
        });
        AppModuleInjector.prototype.createInternal = function () {
            this._CommonModule_0 = new CommonModule();
            this._ApplicationModule_1 = new ApplicationModule();
            this._BrowserModule_2 = new BrowserModule(this.parent.get(BrowserModule, null));
            this._InternalFormsSharedModule_3 = new InternalFormsSharedModule();
            this._FormsModule_4 = new FormsModule();
            this._NgbAlertModule_5 = new NgbAlertModule();
            this._NgbButtonsModule_6 = new NgbButtonsModule();
            this._NgbCollapseModule_7 = new NgbCollapseModule();
            this._NgbProgressbarModule_8 = new NgbProgressbarModule();
            this._NgbTooltipModule_9 = new NgbTooltipModule();
            this._NgbTypeaheadModule_10 = new NgbTypeaheadModule();
            this._NgbAccordionModule_11 = new NgbAccordionModule();
            this._NgbCarouselModule_12 = new NgbCarouselModule();
            this._NgbDatepickerModule_13 = new NgbDatepickerModule();
            this._NgbDropdownModule_14 = new NgbDropdownModule();
            this._NgbModalModule_15 = new NgbModalModule();
            this._NgbPaginationModule_16 = new NgbPaginationModule();
            this._NgbPopoverModule_17 = new NgbPopoverModule();
            this._NgbRatingModule_18 = new NgbRatingModule();
            this._NgbTabsetModule_19 = new NgbTabsetModule();
            this._NgbTimepickerModule_20 = new NgbTimepickerModule();
            this._NgbRootModule_21 = new NgbRootModule();
            this._HttpModule_22 = new HttpModule();
            this._ROUTER_FORROOT_GUARD_23 = provideForRootGuard(this.parent.get(Router, null));
            this._RouterModule_24 = new RouterModule(this._ROUTER_FORROOT_GUARD_23);
            this._AppModule_25 = new AppModule();
            this._ErrorHandler_28 = errorHandler();
            this._ApplicationInitStatus_29 = new ApplicationInitStatus(this.parent.get(APP_INITIALIZER, null));
            this._Testability_30 = new Testability(this.parent.get(NgZone));
            this._ApplicationRef__31 = new ApplicationRef_(this.parent.get(NgZone), this.parent.get(Console), this, this._ErrorHandler_28, this, this._ApplicationInitStatus_29, this.parent.get(TestabilityRegistry, null), this._Testability_30);
            this._NoPreloading_87 = new NoPreloading();
            this._PreloadingStrategy_88 = this._NoPreloading_87;
            this._RouterPreloader_89 = new RouterPreloader(this._Router_85, this._NgModuleFactoryLoader_83, this._Compiler_33, this, this._PreloadingStrategy_88);
            return this._AppModule_25;
        };
        AppModuleInjector.prototype.getInternal = function (token, notFoundResult) {
            if ((token === CommonModule)) {
                return this._CommonModule_0;
            }
            if ((token === ApplicationModule)) {
                return this._ApplicationModule_1;
            }
            if ((token === BrowserModule)) {
                return this._BrowserModule_2;
            }
            if ((token === InternalFormsSharedModule)) {
                return this._InternalFormsSharedModule_3;
            }
            if ((token === FormsModule)) {
                return this._FormsModule_4;
            }
            if ((token === NgbAlertModule)) {
                return this._NgbAlertModule_5;
            }
            if ((token === NgbButtonsModule)) {
                return this._NgbButtonsModule_6;
            }
            if ((token === NgbCollapseModule)) {
                return this._NgbCollapseModule_7;
            }
            if ((token === NgbProgressbarModule)) {
                return this._NgbProgressbarModule_8;
            }
            if ((token === NgbTooltipModule)) {
                return this._NgbTooltipModule_9;
            }
            if ((token === NgbTypeaheadModule)) {
                return this._NgbTypeaheadModule_10;
            }
            if ((token === NgbAccordionModule)) {
                return this._NgbAccordionModule_11;
            }
            if ((token === NgbCarouselModule)) {
                return this._NgbCarouselModule_12;
            }
            if ((token === NgbDatepickerModule)) {
                return this._NgbDatepickerModule_13;
            }
            if ((token === NgbDropdownModule)) {
                return this._NgbDropdownModule_14;
            }
            if ((token === NgbModalModule)) {
                return this._NgbModalModule_15;
            }
            if ((token === NgbPaginationModule)) {
                return this._NgbPaginationModule_16;
            }
            if ((token === NgbPopoverModule)) {
                return this._NgbPopoverModule_17;
            }
            if ((token === NgbRatingModule)) {
                return this._NgbRatingModule_18;
            }
            if ((token === NgbTabsetModule)) {
                return this._NgbTabsetModule_19;
            }
            if ((token === NgbTimepickerModule)) {
                return this._NgbTimepickerModule_20;
            }
            if ((token === NgbRootModule)) {
                return this._NgbRootModule_21;
            }
            if ((token === HttpModule)) {
                return this._HttpModule_22;
            }
            if ((token === ROUTER_FORROOT_GUARD)) {
                return this._ROUTER_FORROOT_GUARD_23;
            }
            if ((token === RouterModule)) {
                return this._RouterModule_24;
            }
            if ((token === AppModule)) {
                return this._AppModule_25;
            }
            if ((token === LOCALE_ID)) {
                return this._LOCALE_ID_26;
            }
            if ((token === NgLocalization)) {
                return this._NgLocalization_27;
            }
            if ((token === ErrorHandler)) {
                return this._ErrorHandler_28;
            }
            if ((token === ApplicationInitStatus)) {
                return this._ApplicationInitStatus_29;
            }
            if ((token === Testability)) {
                return this._Testability_30;
            }
            if ((token === ApplicationRef_)) {
                return this._ApplicationRef__31;
            }
            if ((token === ApplicationRef)) {
                return this._ApplicationRef_32;
            }
            if ((token === Compiler)) {
                return this._Compiler_33;
            }
            if ((token === APP_ID)) {
                return this._APP_ID_34;
            }
            if ((token === DOCUMENT)) {
                return this._DOCUMENT_35;
            }
            if ((token === HAMMER_GESTURE_CONFIG)) {
                return this._HAMMER_GESTURE_CONFIG_36;
            }
            if ((token === EVENT_MANAGER_PLUGINS)) {
                return this._EVENT_MANAGER_PLUGINS_37;
            }
            if ((token === EventManager)) {
                return this._EventManager_38;
            }
            if ((token === DomSharedStylesHost)) {
                return this._DomSharedStylesHost_39;
            }
            if ((token === AnimationDriver)) {
                return this._AnimationDriver_40;
            }
            if ((token === DomRootRenderer)) {
                return this._DomRootRenderer_41;
            }
            if ((token === NgProbeToken)) {
                return this._NgProbeToken_42;
            }
            if ((token === RootRenderer)) {
                return this._RootRenderer_43;
            }
            if ((token === DomSanitizer)) {
                return this._DomSanitizer_44;
            }
            if ((token === Sanitizer)) {
                return this._Sanitizer_45;
            }
            if ((token === AnimationQueue)) {
                return this._AnimationQueue_46;
            }
            if ((token === ViewUtils)) {
                return this._ViewUtils_47;
            }
            if ((token === IterableDiffers)) {
                return this._IterableDiffers_48;
            }
            if ((token === KeyValueDiffers)) {
                return this._KeyValueDiffers_49;
            }
            if ((token === SharedStylesHost)) {
                return this._SharedStylesHost_50;
            }
            if ((token === Title)) {
                return this._Title_51;
            }
            if ((token === RadioControlRegistry)) {
                return this._RadioControlRegistry_52;
            }
            if ((token === NgbModalStack)) {
                return this._NgbModalStack_53;
            }
            if ((token === NgbModal)) {
                return this._NgbModal_54;
            }
            if ((token === NgbAlertConfig)) {
                return this._NgbAlertConfig_55;
            }
            if ((token === NgbProgressbarConfig)) {
                return this._NgbProgressbarConfig_56;
            }
            if ((token === NgbTooltipConfig)) {
                return this._NgbTooltipConfig_57;
            }
            if ((token === NgbTypeaheadConfig)) {
                return this._NgbTypeaheadConfig_58;
            }
            if ((token === NgbAccordionConfig)) {
                return this._NgbAccordionConfig_59;
            }
            if ((token === NgbCarouselConfig)) {
                return this._NgbCarouselConfig_60;
            }
            if ((token === NgbCalendar)) {
                return this._NgbCalendar_61;
            }
            if ((token === NgbDatepickerI18n)) {
                return this._NgbDatepickerI18n_62;
            }
            if ((token === NgbDateParserFormatter)) {
                return this._NgbDateParserFormatter_63;
            }
            if ((token === NgbDatepickerService)) {
                return this._NgbDatepickerService_64;
            }
            if ((token === NgbDatepickerConfig)) {
                return this._NgbDatepickerConfig_65;
            }
            if ((token === NgbDropdownConfig)) {
                return this._NgbDropdownConfig_66;
            }
            if ((token === NgbPaginationConfig)) {
                return this._NgbPaginationConfig_67;
            }
            if ((token === NgbPopoverConfig)) {
                return this._NgbPopoverConfig_68;
            }
            if ((token === NgbRatingConfig)) {
                return this._NgbRatingConfig_69;
            }
            if ((token === NgbTabsetConfig)) {
                return this._NgbTabsetConfig_70;
            }
            if ((token === NgbTimepickerConfig)) {
                return this._NgbTimepickerConfig_71;
            }
            if ((token === BrowserXhr)) {
                return this._BrowserXhr_72;
            }
            if ((token === ResponseOptions)) {
                return this._ResponseOptions_73;
            }
            if ((token === XSRFStrategy)) {
                return this._XSRFStrategy_74;
            }
            if ((token === XHRBackend)) {
                return this._XHRBackend_75;
            }
            if ((token === RequestOptions)) {
                return this._RequestOptions_76;
            }
            if ((token === Http)) {
                return this._Http_77;
            }
            if ((token === ROUTER_CONFIGURATION)) {
                return this._ROUTER_CONFIGURATION_78;
            }
            if ((token === LocationStrategy)) {
                return this._LocationStrategy_79;
            }
            if ((token === Location)) {
                return this._Location_80;
            }
            if ((token === UrlSerializer)) {
                return this._UrlSerializer_81;
            }
            if ((token === RouterOutletMap)) {
                return this._RouterOutletMap_82;
            }
            if ((token === NgModuleFactoryLoader)) {
                return this._NgModuleFactoryLoader_83;
            }
            if ((token === ROUTES)) {
                return this._ROUTES_84;
            }
            if ((token === Router)) {
                return this._Router_85;
            }
            if ((token === ActivatedRoute)) {
                return this._ActivatedRoute_86;
            }
            if ((token === NoPreloading)) {
                return this._NoPreloading_87;
            }
            if ((token === PreloadingStrategy)) {
                return this._PreloadingStrategy_88;
            }
            if ((token === RouterPreloader)) {
                return this._RouterPreloader_89;
            }
            if ((token === PreloadAllModules)) {
                return this._PreloadAllModules_90;
            }
            if ((token === ROUTER_INITIALIZER)) {
                return this._ROUTER_INITIALIZER_91;
            }
            if ((token === APP_BOOTSTRAP_LISTENER)) {
                return this._APP_BOOTSTRAP_LISTENER_92;
            }
            if ((token === FruitService)) {
                return this._FruitService_93;
            }
            if ((token === FruitDetailResolver)) {
                return this._FruitDetailResolver_94;
            }
            return notFoundResult;
        };
        AppModuleInjector.prototype.destroyInternal = function () {
            this._ApplicationRef__31.ngOnDestroy();
            this._RouterPreloader_89.ngOnDestroy();
        };
        return AppModuleInjector;
    }(NgModuleInjector));
    var AppModuleNgFactory = new NgModuleFactory(AppModuleInjector, AppModule);
    platformBrowser().bootstrapModuleFactory(AppModuleNgFactory);
}());
